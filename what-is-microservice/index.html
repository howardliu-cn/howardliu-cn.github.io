<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit">
<meta http-equiv="Cache-Control" content="no-siteapp">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>六字说出微服务的本质||沉潜飞动|君子藏器于身，待时而动。</title>
<meta name="description" content="什么是微服务？我所理解的微服务，就六个字：“高内聚，低耦合”。没错，就是这个在软件开发过程中被反复提到的六个字，各类设计模式、架构设计、从入门到放弃等各种书中总会提到，从初级到高级到骨灰级程序员、架构师挂在嘴边的也是这六个字。只不过，在微服务概念之前，这六个字被用在类、模块、组件上，微服务则是将它放在服务上。">
<meta name="keywords" content="微服务,架构,微服务元年">
<meta property="og:type" content="article">
<meta property="og:title" content="六字说出微服务的本质">
<meta property="og:url" content="https://www.howardliu.cn/what-is-microservice/index.html">
<meta property="og:site_name" content="沉潜飞动">
<meta property="og:description" content="什么是微服务？我所理解的微服务，就六个字：“高内聚，低耦合”。没错，就是这个在软件开发过程中被反复提到的六个字，各类设计模式、架构设计、从入门到放弃等各种书中总会提到，从初级到高级到骨灰级程序员、架构师挂在嘴边的也是这六个字。只不过，在微服务概念之前，这六个字被用在类、模块、组件上，微服务则是将它放在服务上。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://static.howardliu.cn/microservice/microservice-1.png">
<meta property="og:image" content="https://static.howardliu.cn/microservice/conway.png">
<meta property="og:image" content="http://static.howardliu.cn/about/kanshanshuo.png">
<meta property="og:updated_time" content="2020-01-04T03:57:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="六字说出微服务的本质">
<meta name="twitter:description" content="什么是微服务？我所理解的微服务，就六个字：“高内聚，低耦合”。没错，就是这个在软件开发过程中被反复提到的六个字，各类设计模式、架构设计、从入门到放弃等各种书中总会提到，从初级到高级到骨灰级程序员、架构师挂在嘴边的也是这六个字。只不过，在微服务概念之前，这六个字被用在类、模块、组件上，微服务则是将它放在服务上。">
<meta name="twitter:image" content="http://static.howardliu.cn/microservice/microservice-1.png">

<meta name="keywords" content="微服务,架构,微服务元年">


<meta name="description" content="什么是微服务？我所理解的微服务，就六个字：“高内聚，低耦合”。没错，就是这个在软件开发过程中被反复提到的六个字，各类设计模式、架构设计、从入门到放弃等各种书中总会提到，从初级到高级到骨灰级程序员、架构师挂在嘴边的也是这六个字。只不过，在微服务概念之前，这六个字被用在类、模块、组件上，微服务则是将它放">

<meta name="author" content="Howard Liu,howardliu1988@163.com">


<link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
<link rel="icon" href="/favicon.png">

<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/theme.css">
<link rel="stylesheet" href="/css/syntax.css">
<link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdn.bootcdn.net/ajax/libs/highlight.js/11.0.1/styles/vs2015.min.css">
<!--baidu analytics-->

<script>
    // baidu analytics
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?bbbf795fe3b264fb8122078f86cbaae5";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <a class="navbar-brand" href="/.">沉潜飞动</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                
                <li><a href="/." class="current"><i class="icon-home"> 首页</i></a></li>
                
                <li><a href="/archives/"><i class="icon-archive"> 归档</i></a></li>
                
                <li><a href="/atom.xml"><i class="icon-rss"> 订阅</i></a></li>
                
                <li><a href="/about/"><i class="icon-about"> 关于</i></a></li>
                
            </ul>
        </div>
    </div>
</nav>
<div class="wrapper">
    <div class="content">
        <div class="container container-center">
            <div class="row">
                <div class="col-md-8">
                    <div class="article">
    <div class="well">
        <h1><a href="/what-is-microservice/">六字说出微服务的本质</a></h1>
        <div class="post-meta">
            <div class="post-time">
                <i class="fa fa-calendar"></i><time> 2020-01-01</time>
            </div>
            <div class="post-visitors-count">
                <i class="fa fa-ge"></i>
                <span id="/what-is-microservice/" class="leancloud_visitors" data-flag-title="六字说出微服务的本质">
                    <span class="post-meta-item-text">阅读量 </span>
                    <i class="leancloud-visitors-count">0</i>
                </span>
            </div>
        </div>
        <div id="articleContainer" class="post-content article-entry">
            <!-- 
    <div id="toc" class="toc-content">
      <strong class="toc-title">目录</strong>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是微服务"><span class="toc-text">什么是微服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#小"><span class="toc-text">小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自治"><span class="toc-text">自治</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基于业务"><span class="toc-text">基于业务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务的优势"><span class="toc-text">微服务的优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务的挑战"><span class="toc-text">微服务的挑战</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#系统复杂性"><span class="toc-text">系统复杂性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据一致性"><span class="toc-text">数据一致性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运维复杂性"><span class="toc-text">运维复杂性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#测试复杂性"><span class="toc-text">测试复杂性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务是什么"><span class="toc-text">微服务是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#推荐阅读"><span class="toc-text">推荐阅读</span></a></li></ol>
    </div>
 -->
            <p><img src="http://static.howardliu.cn/microservice/microservice-1.png" alt="什么是微服务？"></p>
<p>我所理解的微服务，就六个字：“高内聚，低耦合”。</p>
<p>没错，就是这个在软件开发过程中被反复提到的六个字，各类设计模式、架构设计、从入门到放弃等各种书中总会提到，从初级到高级到骨灰级程序员、架构师挂在嘴边的也是这六个字。只不过，在微服务概念之前，这六个字被用在类、模块、组件上，微服务则是将它放在服务上。</p>
<blockquote>
<p>注：上面是精简版，下面是完整版，看官自便。</p>
</blockquote>
<a id="more"></a>

<h2 id="什么是微服务"><a href="#什么是微服务" class="headerlink" title="什么是微服务"></a>什么是微服务</h2><p>微服务，2014年被大神马丁·福勒提出（所以2014年被称为微服务元年），在<a href="https://martinfowler.com/articles/microservices.html" target="_blank" rel="noopener">他的博客</a>中提出他对微服务的理解。这个时候，微服务还高高在上，大家不知道如何落地实现。一直到2016年，随着各种技术和工具的落地，很多互联网公司才初步实现微服务，至此，微服务才真正造福（还是祸乱？）于开发界。</p>
<p>那到底什么是微服务？这里引用马丁·福勒原文：</p>
<blockquote>
<p>The microservice architectural style is an approach to developing a single application as a suite of small services, each running in its own process and communicating with lightweight mechanisms, often an HTTP resource API. These services are built around business capabilities and independently deployable by fully automated deployment machinery. There is a bare minimum of centralized management of these services, which may be written in different programming languages and use different data storage technologies.</p>
</blockquote>
<p>概括大意就是：</p>
<p>微服务是一种架构风格：</p>
<ol>
<li>一组小服务</li>
<li>每个服务运行在独立进程中</li>
<li>服务之间使用轻量级通信</li>
<li>服务可独立部署</li>
<li>是基于业务能力实现</li>
<li>无集中式管理</li>
</ol>
<p>基本上，符合上面这几条建议的架构风格，就是微服务。不过业界现在也没有统一定义，所以，如果发现以后微服务定义和上面的有偏差，一定是微服务的兼容性、包容性使然。</p>
<p>业界对于微服务还有一句更加简短的描述：<strong>微服务是一组小而自治的服务</strong>。</p>
<p>这两个概念互相补充，微服务就是一组<strong>小</strong>、<strong>自治</strong>、<strong>基于业务</strong>的服务，以松散的服务方式，构建可独立部署的模块化应用。</p>
<h3 id="小"><a href="#小" class="headerlink" title="小"></a>小</h3><p>说到“小”，有很多种观点，有的以代码行数界定，有的以重构时间界定，我个人认为这两种方式都不好。</p>
<p>首先，来说说以代码行数界定的方式。大家都是业内人士，都清楚代码行数有时候和编程习惯、开发能力有直接关系。比如，IP地址校验，正则表达式的写法和自己判断编写规则判断，代码行数就完全不一样。再者，代码行数是定2万行还是10万行，还是多少？假设定2万行，那20001行是不是就不符合微服务定义。再者，对于一个项目所依赖的基础类库、应用框架、编码规范，这些定义不同，代码行数也会有偏差。最后，对于动态语言和静态语言，其编译器、运行环境、支撑类库不同，代码行数也不尽相同。所以，用代码行数评判，是完全不可行的。</p>
<p>第二，用重构时间来界定。重构是一个考验对业务和架构理解的行为，功夫深浅不同，重构时间不同，功夫不到，还可能进入重构地狱，重构最后还会流产；功夫到了，可能几天时间就能重构一个异常复杂、异常庞大的系统。所以，用这种看经验、看水平的方式区分服务的微还是不微，也不可行。</p>
<p>我认为，这里说的小，可以类比“单一职责原则”。服务小而专，服务之间耦合低，可以实现业务的高度自治。简单说，就是能够让普通开发人员理解，业务上不掺杂不相干的业务，保持业务原子性。能够做到这样，就是小。</p>
<p>拿电商系统中的商品服务举例，商品包括商品基本信息、价格、库存等一系列功能。这些都属于商品，但如果把这些业务都放在一个服务里，拿这个服务就违反了小这个概念。商品主要是电商中的信息展示、下单、发货场景，展示基本信息、价格、库存，下单校验价格、库存，发货需要商品库存和仓储信息。看似几个功能中商品数据都有重叠，但是又不是完全重叠。比如商品信息展示，基本信息是最重要的，价格第二等重要，库存重要性最低。如果遇到高峰或者压力过大，库存可以降级，在下单时再做校验；如果压力再升，价格也可以不用实时更新变价。所以一个商品就可以拆分为三个服务：基本信息服务、商品价格服务、商品库存服务。这样一拆，职责单一，功能内聚。</p>
<p>可能有人认为把商品放在一个服务多好，接口区分就好了，实现简单。其实就“小”这个概念来说，也不是不可以，但是这会和下面的几条建议有冲突。</p>
<h3 id="自治"><a href="#自治" class="headerlink" title="自治"></a>自治</h3><p>每个微服务都是独立的个体，部署在独立进程中，每个服务一个进程。进程彼此独立，也就互相之间没有制约，无论是升级、修改、发布、回滚等一系列操作，都可以在一定情况下忽略其他服务。而且，服务在独立进程中，就可以独立监控，可以比较清晰的知道服务的运行情况，监控服务占用物理资源、运行Metric等就更加简单。这也算是服务独立进程部署的一个附加价值。</p>
<p>服务部署在独立进程中，彼此之间耦合低，通过网络通信时，还需要承诺使用技术无关的轻量级通信协议，最常见的是 HTTP/REST 或者 RPC 通信。很多关于微服务通信的建议中不推荐 RPC，是因为这个很可能会引入技术限制，但是目前的很多 RPC 组件，都提供了多语言支持，而且 RPC 的效率明显高于 HTTP/REST。但是不推荐使用强语言依赖的通信协议，比如Java RMI。同时也不推荐使用使用比较重的协议，比如 WebService。这样做的好处就是服务之间不耦合，可以选择更加适合的语言、工具或平台。有一条比较好的建议是，微服务的服务通信接口不应该随意变动，如果需要变动，需要提供更加兼容的方式，这样能够在一定程度上减少服务修改造成的影响。</p>
<p>每个微服务部署在独立进程中，从另一个维度解释就是，每个服务可以独立部署，在持续集成方面就有个更灵活的时间。部署过程中的提交、静态代码扫描、单元测试等流水线，可以独立或极少的依赖其他服务进行写作测试，也能够应用蓝绿部署、金丝雀部署等各种优秀的部署实践。退一步讲，可以独立的部署，也就可以独立的回滚。</p>
<p>还有一点比较重要，自治能够帮助每个微服务个体可以根据业务需要由选择技术栈，需要关注的是业务本身适合的技术，而不是其他依赖或不兼容的情况。（当然，技术栈不是越多越好，技术栈过多，可能在人员协调和招聘方面会有一定的影响。）</p>
<h3 id="基于业务"><a href="#基于业务" class="headerlink" title="基于业务"></a>基于业务</h3><p>微服务团队是围绕业务组织的跨职能团队，产品、设计、研发、测试、架构、运维等各种角色齐全，按照业务能力组织团队，在不同业务深耕，不断优化迭代。</p>
<p>这里不得不提到康威定律：</p>
<blockquote>
<p>Organizations which design systems are constrained to produce designs which are copies of the communication structures of these organizations.(设计系统的组织，其产生的设计等同于组织之内、组织之间的沟通结构)</p>
<p>第一定律：Communication dictates design（组织沟通方式会通过系统设计表达出来）</p>
<p>第二定律：There is never enough time to do something right, but there is always enough time to do it over（时间再多一件事情也不可能做的完美，但总有时间做完一件事情）</p>
<p>第三定律：There is a homomorphism from the linear graph of a system to the linear graph of its design organization（线型系统和线型组织架构间有潜在的异质同态特性）</p>
<p>第四定律： The structures of large systems tend to disintegrate during development, qualitatively more so than with small systems（大的系统组织总是比小系统更倾向于分解）</p>
</blockquote>
<p><img src="https://static.howardliu.cn/microservice/conway.png" alt="康威定律"></p>
<p>上面这张图是康威定律在几个超大型公司的理论支持，看官可以从他们的产品和组织架构得到一定的启发。</p>
<p>组件基于业务的团队，还可以是团队成员关注产品本身，而不是只关注与项目。团队成员就是产品的主人，有责任和义务保证产品的快速发展和演进迭代。同时可以制定更加行之有效的奖惩机制，成员有更强的产品成就感、荣誉感。亚马逊有一条建议”you build, you run it”，业务团队对生产中产品付全部责任，</p>
<p>微服务自治的特性中提过，基于业务能力，可以更加业务特性选择不同的技术栈，这一点非常重要。</p>
<!-- updated: 2020-01-04 11:57:00 微服务的优势 -->

<h2 id="微服务的优势"><a href="#微服务的优势" class="headerlink" title="微服务的优势"></a>微服务的优势</h2><p>上面说了一些微服务的特点，我们使用它，一定是它有一些别的架构风格不完全具备的优势：</p>
<ol>
<li>每个服务足够内聚，足够小，代码聚焦在一个业务中，容易理解</li>
<li>微服务之间松耦合，彼此独立，升级或修改彼此影响少</li>
<li>每个服务专注一件事情，所以开发简单，开发效率高，代码交付快</li>
<li>更容易让开发人员理解，开发、修改、维护成本降低</li>
<li>团队小而精，便于管理且沟通成本低，而且更专注自己的工作成果</li>
<li>可自由选择技术栈</li>
<li>更容易实践DevOps，实现自动化测试、自动部署、持续集成等一系列优秀实践</li>
<li>数据分离，服务分离，更便于根据各个服务的特点进行优化、扩容、备份等</li>
</ol>
<h2 id="微服务的挑战"><a href="#微服务的挑战" class="headerlink" title="微服务的挑战"></a>微服务的挑战</h2><p>IT界有句名言：没有银弹。也就是说，没有完美的解决方案，微服务也是。</p>
<p>微服务是一个重型杀伤性武器，是叶轻眉留给范闲的巴雷特，但是前提是，范闲有子弹，而且会用。微服务有千百种好处，但是这些好处都是有代价的。</p>
<h3 id="系统复杂性"><a href="#系统复杂性" class="headerlink" title="系统复杂性"></a>系统复杂性</h3><p>由单体服务拆解为一系列的微服务，也就形成了分布式系统，系统复杂性不可同日而语。</p>
<p>首先是服务性能。相较于进程内的方法调用，微服务之间只能通过进程间通信协议进行沟通，其通信效率依赖于网络和带宽等物理因素。同时，从原来的进程内部方法调用，变成服务之间网络通信，也会对网络和带宽带来压力。两者之间，互为因果，彼此影响。</p>
<p>然后是服务的可靠性，服务增多，服务发生故障的概率不变的情况下，发生故障的次数就会增多，可靠性随之降低。同时，由于第一种情况引入的网络延迟等，服务通信失败的情况更加复杂。比如，网络超时这种异常情况：被调用方已经开始处理请求，而且最终会成功，但是调用方出现网络超时这种错误，如果单纯的认为服务调用异常，本地事务回滚，就可能造成数据的不一致性（也是第二个复杂性）。</p>
<p>最后就是开发、测试、问题定位也变得不可控：</p>
<ul>
<li>对于开发，在单体架构中，业务之间都是方法调用，这个再简单不过，但是在微服务中，就得改为接口调用，而且还要根据通信接口的特性捕捉异常，根据捕捉异常的类型进行处理。而且，在需要事务的场景中，单体架构本地事务就可以解决绝大部分问题，但是在微服务场景中，就需要引入分布式事务，不同的分布式事务实践又需要不同的回滚实现。</li>
<li>对于测试，单体架构的测试可以使用简单的测试用例，但是在微服务中，服务之间彼此依赖，一个业务可能涉及多个服务之间的数据，启动多个服务联合测试，会造成人力成本提升；使用Mock接口，就增加了开发工作量，也对测试人员有了更高的要求。</li>
<li>对于问题定位，一旦测试过程中或线上出现问题，需要定位问题，找到问题出现的原因，进而解决问题。但是在微服务架构中，因为服务众多，一个错误产生的原因，可能是调用方数据不准确，也可能是被调用方逻辑有问题，甚至是被调用方的下游被调用方出现的异常。</li>
</ul>
<h3 id="数据一致性"><a href="#数据一致性" class="headerlink" title="数据一致性"></a>数据一致性</h3><p>如上面提到的，因为微服务之间调用的方式由方法调用变为服务通信调用，而且数据分而治之，所以没有办法依赖于简单的数据库事务解决，所以数据一致性就是问题。所以会出现两种方式，一种是分布式事务保证数据同步一致性，一种的基于异步消息保证数据最终一致性。无论哪种方式，又会增强第一种挑战：系统复杂性。</p>
<h3 id="运维复杂性"><a href="#运维复杂性" class="headerlink" title="运维复杂性"></a>运维复杂性</h3><p>运维的复杂性主要体现在配置、部署、监控等方面。</p>
<p>随着服务的增多，服务参数、数据库、缓存等一些列启动运行和依赖配置随之增多，而且变得复杂，而且不同的环境，还需要不同的配置。</p>
<p>服务增多，部署成本随之增高。在单体架构时代，只有一个应用包。但是在微服务时代，可能需要上百个服务。如果没有流水线这样的持续发布工具，单靠人力，部署将会是运维的噩梦。</p>
<p>在微服务时代，监控是必不可少的。监控包括服务监控、系统监控、指标告警、日志采集等，不单单是需要监控的终端变多，监控的数据量、异常分析都会增多，这也都提高了运维复杂性。</p>
<h3 id="测试复杂性"><a href="#测试复杂性" class="headerlink" title="测试复杂性"></a>测试复杂性</h3><p>在系统复杂性中提到过测试变得更加复杂。这个复杂不单单是测试的方式，还有测试的范围。在微服务中，为了覆盖所有的场景，测试可以分单元测试、服务测试、端到端测试。为了简便，服务测试又分了Mock和Stub等不同的流派。</p>
<h2 id="微服务是什么"><a href="#微服务是什么" class="headerlink" title="微服务是什么"></a>微服务是什么</h2><p>微服务就是将“高内聚、低耦合”应用到服务中的一种软件研发建议，是一种更适合当下业务快速多变的架构风格，是一组<strong>小</strong>、<strong>自治</strong>、<strong>基于业务</strong>的模块化松散服务。</p>
<h2 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/09ILTzijUr3knHBj13t_kQ" target="_blank" rel="noopener">什么是微服务？</a></li>
<li><a href="https://mp.weixin.qq.com/s/n1eKTlLP_BbyBkKG4OyLSw" target="_blank" rel="noopener">微服务编程范式</a></li>
<li><a href="https://mp.weixin.qq.com/s/sRkYdrAwvn8UrGSraAURpA" target="_blank" rel="noopener">微服务的基建工作</a></li>
<li><a href="https://mp.weixin.qq.com/s/sRX04UhPiFWSDOazTSXuXw" target="_blank" rel="noopener">微服务中服务注册和发现的可行性方案</a></li>
<li><a href="https://mp.weixin.qq.com/s/NcftJ1jNAd-DHpzBXKk8RA" target="_blank" rel="noopener">从单体架构到微服务架构</a></li>
<li><a href="https://mp.weixin.qq.com/s/M0sla4LVvp2lEiFpzwyVrA" target="_blank" rel="noopener">如何在微服务团队中高效使用 Git 管理代码？</a></li>
<li><a href="https://mp.weixin.qq.com/s/apHFXB2cUqDALpJJebNp9A" target="_blank" rel="noopener">关于微服务系统中数据一致性的总结</a></li>
<li><a href="https://mp.weixin.qq.com/s/AE0n4d_zRZOEeYEQt-rSKw" target="_blank" rel="noopener">实现DevOps的三步工作法</a></li>
<li><a href="https://mp.weixin.qq.com/s/mMjbafRIhia3u9DmXPSfPQ" target="_blank" rel="noopener">系统设计系列之如何设计一个短链服务</a></li>
<li><a href="https://mp.weixin.qq.com/s/mtt_wsUChGIwnR-Nz5BE4g" target="_blank" rel="noopener">系统设计系列之任务队列</a></li>
<li><a href="https://mp.weixin.qq.com/s/_PI5jRP99ktPs3lxCbBLSg" target="_blank" rel="noopener">软件架构-缓存技术</a></li>
<li><a href="https://mp.weixin.qq.com/s/668L2NK7LWo3c8U8ZI_1ng" target="_blank" rel="noopener">软件架构-事件驱动架构</a></li>
</ul>
<hr>
<p>你好，我是看山。游于码界，戏享人生。如果文章对您有帮助，请点赞、收藏、关注。我还整理了一些精品学习资料，关注公众号「看山的小屋」，回复“资料”即可获得。</p>
<p>个人主页: <a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>个人博文: <a href="https://www.howardliu.cn/what-is-microservice/">什么是微服务？</a><br>CSDN主页: <a href="http://blog.csdn.net/liuxinghao" target="_blank" rel="noopener">http://blog.csdn.net/liuxinghao</a><br>CSDN博文: <a href="https://blog.csdn.net/liuxinghao/article/details/103794938" target="_blank" rel="noopener">什么是微服务？</a></p>
<center><b>👇🏻欢迎关注个人公众号，领取精选资料👇🏻</b></center>

<p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="公众号：看山的小屋"></p>

        </div>
        
        <div class="tags">
            
            <a href="/tags/微服务/">微服务</a>
            
            <a href="/tags/架构/">架构</a>
            
        </div>
        
        
        <div class="post-nav">
            
            <a class="pre" href="/the-base-of-microservice/">
                <i class="icon-previous">微服务的基建工作</i>
            </a>
            
            
            <a class="next" href="/the-paradigm-of-microservice/">
                <i class="icon-next">微服务编程范式</i>
            </a>
            
        </div>
        
    </div>
</div>

    <div class="well">
        <section id="comments">
            <div id="vcomment" class="comment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine@1.3.10/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '.comment',
        notify: "false" === "true",
        verify: "false" === "true",
        visitor: "true" === "true",
        app_id: "8oLP4PUvcvP9832UMNhKJMp4-gzGzoHsz",
        app_key: "Vub5Jl1Nehop0NlWaRdWVS3S",
        placeholder: "请评论",
        avatar:"monsterid"
    });
</script>

        </section>
    </div>


<script src="https://readmore.openwrite.cn/js/readmore.js" type="text/javascript"></script>
<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'articleContainer',
        blogId: '19701-1581264117855-495',
        name: '看山的小屋',
        qrcode: 'https://www.howardliu.cn/images/mp-kanshan.jpg',
        keyword: 'vip',
    });
</script>
                </div>
                <div class="col-md-4 hidden-xs">
                    
<div class="sidebar">
    <div class="well">
        <h2>标签云</h2>
        <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/云计算/" style="font-size: 15px;">云计算</a> <a href="/tags/概念/" style="font-size: 15px;">概念</a> <a href="/tags/线性代数/" style="font-size: 15px;">线性代数</a> <a href="/tags/矩阵/" style="font-size: 15px;">矩阵</a> <a href="/tags/矩阵乘法/" style="font-size: 15px;">矩阵乘法</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/缓存/" style="font-size: 15px;">缓存</a> <a href="/tags/解决方案/" style="font-size: 15px;">解决方案</a> <a href="/tags/任务队列/" style="font-size: 15px;">任务队列</a> <a href="/tags/任务/" style="font-size: 15px;">任务</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/八皇后问题/" style="font-size: 15px;">八皇后问题</a> <a href="/tags/方法论/" style="font-size: 15px;">方法论</a> <a href="/tags/双指针/" style="font-size: 15px;">双指针</a> <a href="/tags/滑动窗口/" style="font-size: 15px;">滑动窗口</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/中文字符/" style="font-size: 15px;">中文字符</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/架构设计/" style="font-size: 15px;">架构设计</a> <a href="/tags/短链服务/" style="font-size: 15px;">短链服务</a> <a href="/tags/系统运维/" style="font-size: 15px;">系统运维</a> <a href="/tags/部署/" style="font-size: 15px;">部署</a> <a href="/tags/DevOps/" style="font-size: 15px;">DevOps</a> <a href="/tags/weblogic/" style="font-size: 15px;">weblogic</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/事件驱动/" style="font-size: 15px;">事件驱动</a> <a href="/tags/ModuleException/" style="font-size: 15px;">ModuleException</a> <a href="/tags/EOS/" style="font-size: 15px;">EOS</a> <a href="/tags/BPS/" style="font-size: 15px;">BPS</a> <a href="/tags/eclipse/" style="font-size: 15px;">eclipse</a> <a href="/tags/plugins/" style="font-size: 15px;">plugins</a> <a href="/tags/操作技巧/" style="font-size: 15px;">操作技巧</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/自动登录/" style="font-size: 15px;">自动登录</a> <a href="/tags/os/" style="font-size: 15px;">os</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/passwordless/" style="font-size: 15px;">passwordless</a> <a href="/tags/MQ/" style="font-size: 15px;">MQ</a> <a href="/tags/RabbitMQ/" style="font-size: 15px;">RabbitMQ</a> <a href="/tags/CD/" style="font-size: 15px;">CD</a> <a href="/tags/code-quality/" style="font-size: 15px;">code quality</a> <a href="/tags/SonarQube/" style="font-size: 15px;">SonarQube</a> <a href="/tags/Jenkins-Pipeline/" style="font-size: 15px;">Jenkins Pipeline</a> <a href="/tags/oom/" style="font-size: 15px;">oom</a> <a href="/tags/go/" style="font-size: 15px;">go</a> <a href="/tags/开发指南/" style="font-size: 15px;">开发指南</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/authority/" style="font-size: 15px;">authority</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/ufw/" style="font-size: 15px;">ufw</a> <a href="/tags/iptable/" style="font-size: 15px;">iptable</a> <a href="/tags/Phoenix/" style="font-size: 15px;">Phoenix</a> <a href="/tags/大数据/" style="font-size: 15px;">大数据</a> <a href="/tags/hadoop/" style="font-size: 15px;">hadoop</a> <a href="/tags/yarn/" style="font-size: 15px;">yarn</a> <a href="/tags/开源/" style="font-size: 15px;">开源</a> <a href="/tags/hdfs/" style="font-size: 15px;">hdfs</a> <a href="/tags/ha/" style="font-size: 15px;">ha</a> <a href="/tags/QJM/" style="font-size: 15px;">QJM</a> <a href="/tags/rm/" style="font-size: 15px;">rm</a> <a href="/tags/mapreduce/" style="font-size: 15px;">mapreduce</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/Dockerfile/" style="font-size: 15px;">Dockerfile</a> <a href="/tags/hbase/" style="font-size: 15px;">hbase</a> <a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/gc/" style="font-size: 15px;">gc</a> <a href="/tags/http-状态码/" style="font-size: 15px;">http 状态码</a> <a href="/tags/模式/" style="font-size: 15px;">模式</a> <a href="/tags/ArrayList/" style="font-size: 15px;">ArrayList</a> <a href="/tags/线程安全/" style="font-size: 15px;">线程安全</a> <a href="/tags/ipv4/" style="font-size: 15px;">ipv4</a> <a href="/tags/int/" style="font-size: 15px;">int</a> <a href="/tags/Effective-Java/" style="font-size: 15px;">Effective Java</a> <a href="/tags/EasyExcel/" style="font-size: 15px;">EasyExcel</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/注释/" style="font-size: 15px;">注释</a> <a href="/tags/开发/" style="font-size: 15px;">开发</a> <a href="/tags/规范/" style="font-size: 15px;">规范</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Java12/" style="font-size: 15px;">Java12</a> <a href="/tags/Java13/" style="font-size: 15px;">Java13</a> <a href="/tags/Java10/" style="font-size: 15px;">Java10</a> <a href="/tags/Java11/" style="font-size: 15px;">Java11</a> <a href="/tags/Java8/" style="font-size: 15px;">Java8</a> <a href="/tags/optional/" style="font-size: 15px;">optional</a> <a href="/tags/concurrency/" style="font-size: 15px;">concurrency</a> <a href="/tags/thread/" style="font-size: 15px;">thread</a> <a href="/tags/synchronized/" style="font-size: 15px;">synchronized</a> <a href="/tags/Date/" style="font-size: 15px;">Date</a> <a href="/tags/Time/" style="font-size: 15px;">Time</a> <a href="/tags/Java9/" style="font-size: 15px;">Java9</a> <a href="/tags/JDK8/" style="font-size: 15px;">JDK8</a> <a href="/tags/Comparator/" style="font-size: 15px;">Comparator</a> <a href="/tags/import/" style="font-size: 15px;">import</a>
    </div>
</div>

<div class="sidebar ">
    <div class="well">
        <h2>最新文章</h2>
        <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/java-13-features/">Java 每半年就会更新一次新特性，再不掌握就要落伍了：Java13 的新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2022-spring-festival/">从春运迁徙图看到的一些东西</a></li><li class="post-list-item"><a class="post-list-link" href="/java-12-features/">Java 每半年就会更新一次新特性，再不掌握就要落伍了：Java12 的新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/java-11-features/">Java 每半年就会更新一次新特性，再不掌握就要落伍了：Java11 的新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/java-11-jep181-nestmate/">Java11 中基于嵌套关系的访问控制优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2021-summary/">这一年很幸运，平平淡淡的|2021 年度总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2022-friends-of-time/">原来还能这么干——罗胖2022年《时间的朋友》观后感</a></li><li class="post-list-item"><a class="post-list-link" href="/java-10-features/">Java 每半年就会更新一次新特性，再不掌握就要落伍了：Java10 的新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/mybatis-plus-conflict-noclassdeffounderror/">Mybatis-Plus 版本冲突触发“Could not convert argument value of type [java.lang.String] to required type [java.lang.Class]”的 java.lang.NoClassDefFoundError 异常</a></li><li class="post-list-item"><a class="post-list-link" href="/java-9-features/">Java 每半年就会更新一次新特性，再不掌握就要落伍了：Java9 的新特性</a></li></ul>
    </div>
</div>

<div class="sidebar">
    <div class="well">
        <h2>归档</h2>
        <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">2022年02月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">2022年01月</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">2021年12月</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">2021年11月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">2021年10月</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">2021年09月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">2021年08月</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">2021年07月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">2021年06月</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">2021年05月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">2021年04月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">2021年03月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">2021年02月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">2021年01月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">2020年12月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">2020年09月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">2020年08月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">2020年07月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">2020年03月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">2020年02月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">2020年01月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">2019年11月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">2019年10月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">2017年10月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">2017年09月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">2017年08月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">2017年07月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">2017年06月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">2017年04月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">2017年03月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">2017年02月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">2016年08月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">2016年07月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">2016年05月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">2016年03月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">2016年01月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">2015年12月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">2015年11月</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">2015年09月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">2015年04月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">2015年03月</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">2015年02月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">2015年01月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">2014年12月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">2014年10月</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">2014年09月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">2014年07月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">2014年06月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">2013年10月</a><span class="archive-list-count">1</span></li></ul>
    </div>
</div>


                </div>
            </div>
        </div>
    </div>
    <div class="side-button-wrap">
        <a id="to-top" class="side-button icon-up-arrow" href="#top"></a>
        <a id="to-home" class="side-button icon-home" href="/."></a>
        <a id="to-comment-button" class="side-button icon-msg" href="#comment"></a>
        <a id="to-bottom-button" class="side-button icon-down-arrow" href="#bottom"></a>
    </div>
    <a id="bottom" name="bottom"></a>
    <footer id="footer" class="footer-distributed" style="background-color: #222222;">
    <div class="container">
        <div class="footer">
            <p>Howard Liu &copy; 2022</p>
            <ul class="social-media">
                
                <li>
                    <a title="github" href="https://github.com/howardliu-cn" target="_blank">
                        <i class="fa fa-github fa-2x"></i>
                    </a>
                </li>
                
                <li>
                    <a title="StackOverflow" href="http://stackoverflow.com/users/4417033" target="_blank">
                        <i class="fa fa-stack-overflow fa-2x"></i>
                    </a>
                </li>
                
                
                <li>
                    <a title="E-mail" href="mailto:howardliu1988@163.com">
                        <i class="fa fa-envelope fa-2x"></i>
                    </a>
                </li>
                
                <li>
                    <a title="hexo-theme-clean-dark" href="https://github.com/howardliu-cn/hexo-theme-clean-dark" target="_blank">
                        <i class="fa fa-film fa-2x"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</footer>

</div>
<script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="//cdn.bootcdn.net/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/js/header.js"></script>
<script src="/js/toc.js"></script>
<!--[if lt IE 9]>
<script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
![endif]-->
<!--fancybox-->

<script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
<script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>
<link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">
<script>
    $(document).ready(function () {
        $("img").each(function (index, item) {
            var p = $(item).parents()[0];
            if($(p).is('a')) {
                $(p).fancybox();
                return;
            }
            $(p).append(function() {return "<a id='fancybox_id_"+index+"' href='" + $(item).attr("src") + "'></a>";});
            item.remove();
            var fancyboxItem = $("#fancybox_id_" + index);
            fancyboxItem.append($(item));
            fancyboxItem.fancybox();
        });
    });
</script>

<!--baidu auto-push-->

    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
        </script>

<!--google analytics-->

<script>
    // google analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-72122926-1', 'auto');
    ga('send', 'pageview');
</script>


<script color="255,255,255" opacity="0.9" zindex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</body>
</html>