<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ²‰æ½œé£åŠ¨</title>
  
  <subtitle>å›å­è—å™¨äºèº«ï¼Œå¾…æ—¶è€ŒåŠ¨ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.howardliu.cn/"/>
  <updated>2021-10-10T07:38:15.000Z</updated>
  <id>https://www.howardliu.cn/</id>
  
  <author>
    <name>Howard Liu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰</title>
    <link href="https://www.howardliu.cn/effective-java-easyexcel-action-fill/"/>
    <id>https://www.howardliu.cn/effective-java-easyexcel-action-fill/</id>
    <published>2021-10-10T07:38:15.000Z</published>
    <updated>2021-10-10T07:38:15.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static.howardliu.cn/20211010155846.jpeg" alt="é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/å®…-ken-21259066/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6674689" target="_blank" rel="noopener">å®…-KEN</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6674689" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write/">å‰æ–‡</a> è¯´äº†å†™æ“ä½œï¼Œå¯ä»¥å®ç°ç®€å•çš„åˆ—è¡¨å¯¼å‡ºï¼Œè¿˜èƒ½ <a href="https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/">å®šä¹‰æ ·å¼</a>ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¼å‡ºçš„ä¸€ä¸ªå¤§è¡¨å•ï¼Œæˆ–è€…æ˜¯è¡¨å•+åˆ—è¡¨çš„å½¢å¼ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦å¡«å……åŠŸèƒ½ã€‚</p><a id="more"></a><p>å†…å®¹æ¯”è¾ƒå¤šï¼Œæ–‡å†…åªä¼šåˆ—å‡ºå…³é”®ä»£ç ï¼Œæƒ³è¦å®Œæ•´æºç ï¼Œå¯ä»¥å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€å›å¤â€œeasyexcelâ€è·å–ã€‚</p><p>åœ¨ EasyExcel ä¸­ï¼Œå†™æ“ä½œå¯ä»¥å®Œæˆå¤§éƒ¨åˆ†å·¥ä½œï¼Œå¡«å……çš„ä¼˜åŠ¿åœ¨äºï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰æ ·å¼çš„ï¼Œåªè¦åœ¨æ¨¡æ¿ä¸­è®¾ç½®å¥½æ ·å¼ï¼Œå¡«å……çš„æ•°æ®å°±èƒ½å¤Ÿå¸¦ç€æ ·å¼ã€‚</p><h2 id="å…ˆå†™ä¸ªè¡¨å•"><a href="#å…ˆå†™ä¸ªè¡¨å•" class="headerlink" title="å…ˆå†™ä¸ªè¡¨å•"></a>å…ˆå†™ä¸ªè¡¨å•</h2><p>æ—¢ç„¶æ˜¯ä½¿ç”¨æ¨¡æ¿ï¼Œå†™æ¥å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ã€‚</p><p><img src="https://static.howardliu.cn/20211010154155.png" alt="å…ˆå†™ä¸ªè¡¨å•"></p><p>åœ¨ EasyExcel çš„æ¨¡æ¿å¡«å……å®šä¹‰ä¸­ï¼Œä½¿ç”¨<code>{}</code>æ¥è¡¨ç¤ºä½ è¦ç”¨çš„å˜é‡ï¼Œå¦‚æœæœ¬æ¥å°±æœ‰â€{â€œ,â€}â€ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œè½¬ä¹‰ï¼Œç”¨â€{â€œ,â€}â€œä»£æ›¿ã€‚</p><h3 id="å†™å¯¹è±¡"><a href="#å†™å¯¹è±¡" class="headerlink" title="å†™å¯¹è±¡"></a>å†™å¯¹è±¡</h3><p>æ—¢ç„¶æ˜¯å†™å¯¹è±¡ï¼Œå…ˆå®šä¹‰ä¸€ä¸‹å¯¹è±¡ç»“æ„ã€‚</p><pre><code class="java">@Datapublic class Item {    private String name;    private double number;}</code></pre><p>ç„¶åå¼€å§‹å¡«å……ï¼š</p><pre><code class="java">private static void fillUseObject() {    String fileName = defaultFileName(&quot;fillUseObject&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_sample.xlsx&quot;;    Item item = new Item();    item.setName(&quot;æ³•å¤–ç‹‚å¾’å¼ ä¸‰&quot;);    item.setNumber(89757);    EasyExcelFactory.write(fileName)            .withTemplate(templateFile)            .sheet()            .doFill(item);}</code></pre><p>åœ¨å†™æ“ä½œä¸­æˆ‘ä»¬ä¹Ÿä½¿ç”¨è¿‡æ¨¡æ¿å†™åˆ—è¡¨ï¼Œè¿™é‡Œå¡«å……æ¨¡æ¿ï¼Œä½¿ç”¨çš„æ˜¯åŒæ ·çš„æ–¹æ³•ï¼š<code>com.alibaba.excel.write.builder.ExcelWriterBuilder#withTemplate(java.lang.String)</code>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è·¯å¾„ï¼Œè¿™é‡Œå†é‡å¤ä¸€éã€‚withTemplate æ–¹æ³•æœ‰å‡ ä¸ªé‡è½½å®ç°ï¼š</p><ol><li>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è·¯å¾„<code>ExcelWriterBuilder#withTemplate(java.lang.String)</code></li><li>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶å¯¹è±¡<code>ExcelWriterBuilder#withTemplate(java.io.File)</code></li><li>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è¾“å…¥æµ<code>ExcelWriterBuilder#withTemplate(java.io.InputStream)</code></li></ol><p>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶å’Œæ¨¡æ¿æ–‡ä»¶å¯¹è±¡éƒ½æ˜¯æ“ä½œæ–‡ä»¶çš„ï¼Œéœ€è¦æœ‰æ–‡ä»¶ä¿¡æ¯ã€‚</p><p>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è¾“å…¥æµæ˜¯åªè¦æ–‡ä»¶æµï¼Œè¿™ä¸ªå¯æ“ä½œæ€§ç©ºé—´å°±æ¯”è¾ƒå¤§äº†ã€‚æ¯”å¦‚ï¼Œæ¨¡æ¿æ–‡ä»¶æ˜¯å¯å˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºä¸€ä¸ªå¸¦å˜é‡çš„æ¨¡æ¿æ–‡ä»¶ï¼Œä½¿ç”¨å¡«å……å†™å…¥çš„æ–¹å¼åˆå§‹åŒ–æ¨¡æ¿æ–‡ä»¶ï¼Œç„¶åå†ç”¨æ¨¡æ¿å†™å…¥çš„æ–¹å¼ï¼Œå†™å…¥åˆ—è¡¨ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154224.png" alt="å†™å¯¹è±¡"></p><h3 id="å†™-Map"><a href="#å†™-Map" class="headerlink" title="å†™ Map"></a>å†™ Map</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ç”¨éå¾—åˆ›å»ºç±»ï¼Œç”¨ Map ä¹Ÿèƒ½å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚</p><pre><code class="java">private static void fillUseMap() {    String fileName = defaultFileName(&quot;fillUseMap&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_sample.xlsx&quot;;    Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();    data.put(&quot;name&quot;, &quot;æ³•å¤–ç‹‚å¾’å¼ ä¸‰&quot;);    data.put(&quot;number&quot;, 89757);    EasyExcelFactory.write(fileName)            .withTemplate(templateFile)            .sheet()            .doFill(data);}</code></pre><p>è™½ç„¶ Map èƒ½å¤ŸåŠŸèƒ½ç›¸åŒï¼Œä¸è¿‡è¿˜æ˜¯å»ºè®®å®šä¹‰å…·ä½“çš„ç±»ã€‚å› ä¸ºç±»æ˜¯å¯æ ¡éªŒçš„ï¼ŒMap æ˜¯å¼±æ£€æµ‹æœºåˆ¶ï¼Œçº¯é çº¦å®šæˆ–è€…æµ‹è¯•ï¼Œä¸æ˜¯å¾ˆå®‰å…¨ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154251.png" alt="å†™ Map"></p><p>ä»æ•ˆæœä¸Šçœ‹ï¼Œç»“æœæ˜¯ç›¸åŒçš„ã€‚</p><h2 id="å†å†™ä¸ªåˆ—è¡¨"><a href="#å†å†™ä¸ªåˆ—è¡¨" class="headerlink" title="å†å†™ä¸ªåˆ—è¡¨"></a>å†å†™ä¸ªåˆ—è¡¨</h2><p>å…ˆå®šä¹‰æ¨¡æ¿ï¼š</p><p><img src="https://static.howardliu.cn/20211010154354.png" alt="å†å†™ä¸ªåˆ—è¡¨"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¡«å……åˆ—è¡¨çš„å‚æ•°å®šä¹‰ï¼Œä¸å¡«å……å¯¹è±¡çš„æœ‰äº›å·®åˆ«ï¼Œæ¨¡æ¿ä¸­<code>{.}</code>å¤šäº†ä¸ªç‚¹ã€‚</p><p>å¯¹äºè¡¨æ ¼çš„åœºæ™¯ï¼Œä»å¤§ä½“ä¸Šä¼šåˆ†ä¸ºå°‘é‡æ•°æ®å’Œå¤§é‡æ•°æ®ã€‚å¯¹äºå°‘é‡æ•°æ®ï¼Œç›´æ¥åœ¨å†…å­˜ä¸­æ“ä½œå³å¯ã€‚å¯¹äºå¤§é‡æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨åˆ†æ‰¹å†™å…¥ï¼Œå€ŸåŠ©æ–‡ä»¶ç¼“å­˜çš„æ–¹å¼èŠ‚çœå†…å­˜ã€‚</p><h3 id="å°‘é‡å†™"><a href="#å°‘é‡å†™" class="headerlink" title="å°‘é‡å†™"></a>å°‘é‡å†™</h3><p>ä¸Šä»£ç ï¼š</p><pre><code class="java">private static void fillListInMemory() {    String fileName = defaultFileName(&quot;fillListInMemory&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_list.xlsx&quot;;    EasyExcelFactory.write(fileName)            .withTemplate(templateFile)            .sheet()            .doFill(sampleItems());}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå¡«å……åˆ—è¡¨ä¸å‰æ–‡è¯´åˆ°çš„å†™æ–‡ä»¶æ“ä½œåœ¨ä»£ç å®ç°ä¸Šæ²¡æœ‰å¤ªå¤§å·®å¼‚ï¼Œè¿™ä¹Ÿæ˜¯ EasyExcel æ¶æ„è®¾è®¡ä¸Šçš„å¼ºæ‚ã€‚é€šè¿‡å»ºé€ å™¨æ¨¡å¼çš„ fluent å†™æ³•ï¼Œå±è”½å•°å—¦çš„å†™å…¥ï¼ŒåŒæ—¶ä¹Ÿå±è”½ä¸åŒä¸šåŠ¡å®ç°å‚æ•°çš„å·®å¼‚ï¼Œåªåœ¨<code>doFill</code>çš„æ—¶å€™ï¼Œæ ¹æ®ä¸åŒå‚æ•°å®ç°ä¸åŒé€»è¾‘ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154428.png" alt="å°‘é‡å†™"></p><h3 id="å¤§é‡å†™"><a href="#å¤§é‡å†™" class="headerlink" title="å¤§é‡å†™"></a>å¤§é‡å†™</h3><p>æ¥ä¸‹æ¥å°±æ˜¯å¤§é‡æ•°æ®å¡«å……äº†ã€‚ä¸ä¸Šé¢çš„å·®å¼‚åœ¨äºéœ€è¦æ‰‹åŠ¨åˆ›å»º<code>ExcelWriter</code>å’Œ<code>WriteSheet</code>å¯¹è±¡ï¼Œç„¶åä½¿ç”¨<code>com.alibaba.excel.ExcelWriter.fill</code>æ–¹æ³•å¤šæ¬¡å†™å…¥æ•°æ®ã€‚</p><p><code>fill</code>æ–¹æ³•æ”¯æŒç›´æ¥å†™å…¥åˆ—è¡¨å’Œä½¿ç”¨ lambda å‡½æ•°æ–¹å¼ï¼Œæ³¨æ„æ˜¯<code>fill</code>ï¼Œä¸æ˜¯<code>doFill</code>ã€‚<code>doFill</code>ä¼šè°ƒç”¨<code>finish</code>æ–¹æ³•è‡ªåŠ¨å…³é—­æµï¼Œ<code>fill</code>æ–¹æ³•åªåšæ•°æ®å¡«å……ï¼Œéœ€è¦æ‰‹åŠ¨å…³é—­æµã€‚</p><p>ä»£ç ä¸ºï¼š</p><pre><code class="java">private static void fillListSegment() {    String fileName = defaultFileName(&quot;fillListSegment&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_list.xlsx&quot;;    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName).withTemplate(templateFile).build();    try {        final WriteSheet writeSheet = EasyExcelFactory.writerSheet().build();        excelWriter.fill(BaseFill::sampleItems, writeSheet);        excelWriter.fill(sampleItems(), writeSheet);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154502.png" alt="å¤§é‡å†™"></p><h2 id="æœ€åå†™ä¸ªè¡¨å•-åˆ—è¡¨"><a href="#æœ€åå†™ä¸ªè¡¨å•-åˆ—è¡¨" class="headerlink" title="æœ€åå†™ä¸ªè¡¨å•+åˆ—è¡¨"></a>æœ€åå†™ä¸ªè¡¨å•+åˆ—è¡¨</h2><p>æœ€åæ¥ä¸ªè¡¨å•ä¸åˆ—è¡¨çš„å½¢å¼ã€‚æ¯”å¦‚é”€å”®ç»Ÿè®¡ï¼Œè¡¨å¤´éœ€è¦å¡«å†™å‚æ•°ä¿¡æ¯ï¼Œæ¯”å¦‚åº—é“ºä¿¡æ¯ã€æ—¶é—´ç­‰ï¼Œç„¶åæ˜¯é”€å”®è®°å½•ï¼Œæœ€åéœ€è¦å¢åŠ ç±»ä¼¼åˆè®¡ä¹‹ç±»çš„ä¿¡æ¯ã€‚</p><p>è¿™ç§çš„è¯ï¼Œå¯ä»¥å®ç°çš„æ–¹å¼ä¹ŸæŒºå¤šï¼Œè¿™é‡Œä»‹ç»å›ºå®šåˆ—è¡¨çš„å®ç°ï¼Œåœ¨æŠ€å·§ç¯‡ä¸­ä¼šå†ä»‹ç»ä¸€ç§åŠ¨æ€åˆ—è¡¨çš„å®ç°ã€‚</p><h3 id="å¡«å……å¯¹è±¡-åˆ—è¡¨"><a href="#å¡«å……å¯¹è±¡-åˆ—è¡¨" class="headerlink" title="å¡«å……å¯¹è±¡+åˆ—è¡¨"></a>å¡«å……å¯¹è±¡+åˆ—è¡¨</h3><p>å…ˆå®šä¹‰æ¨¡æ¿ï¼š</p><p><img src="https://static.howardliu.cn/20211010154533.png" alt="å¡«å……å¯¹è±¡+åˆ—è¡¨"></p><p>ä»æ¨¡æ¿ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¼€å¤´æ˜¯æ—¶é—´ä¿¡æ¯ï¼Œç»“å°¾æœ‰ç»Ÿè®¡ä¿¡æ¯ï¼Œä¸­é—´æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚</p><p>ä¸Šä»£ç ï¼š</p><pre><code class="java">/** * å¡«å……å¯¹è±¡+åˆ—è¡¨ï¼Œå› ä¸ºåˆ—è¡¨ä¹‹åè¿˜æœ‰ä¸€ä¸ªå­—æ®µï¼Œæ‰€ä»¥éœ€è¦å°†{@link FillConfigBuilder#forceNewRow(Boolean)}è®¾ç½®ä¸º TRUE æ‰è¡Œã€‚ * &lt;p&gt; * è¿™æ ·ä¼šæœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼šæ‰€æœ‰æ•°æ®ä¼šåœ¨å†…å­˜ä¸­ï¼Œå³æ•°æ®é‡å¤§çš„æ—¶å€™ç‰¹åˆ«è€—å†…å­˜ã€‚ * &lt;p&gt; * æƒ³è¦è§£å†³æœ‰ä¸¤ç§æ–¹å¼ï¼š * * &lt;ul&gt; *     &lt;li&gt;list ä¹‹åæ²¡æœ‰æ•°æ®äº†ï¼Œ{@link FillConfigBuilder#forceNewRow(Boolean)}è®¾ç½®ä¸º FALSE&lt;/li&gt; *     &lt;li&gt;list å†™å®Œä¹‹åï¼Œæ‰‹åŠ¨å†™åé¢çš„æ•°æ®&lt;/li&gt; * &lt;/ul&gt; */private static void fillObjectAndListInMemory() {    String fileName = defaultFileName(&quot;fillObjectAndListInMemory&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_object_and_list.xlsx&quot;;    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName).withTemplate(templateFile).build();    try {        final WriteSheet writeSheet = EasyExcelFactory.writerSheet().build();        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();        map.put(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(LocalDateTime.now()));        map.put(&quot;total&quot;, System.currentTimeMillis());        excelWriter.fill(map, writeSheet);        FillConfig fillConfig = FillConfig.builder().forceNewRow(Boolean.TRUE).build();        excelWriter.fill(BaseFill::sampleItems, fillConfig, writeSheet);        excelWriter.fill(sampleItems(), fillConfig, writeSheet);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>è¿™é‡Œæœ‰ä¸€ä¸ªæ–°å¢çš„é…ç½®ç±»ï¼š<code>FillConfig fillConfig = FillConfig.builder().forceNewRow(Boolean.TRUE).build()</code>ï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥å®šä¹‰å†™å…¥æ—¶çš„é…ç½®ä¿¡æ¯ã€‚é…ç½®ä¸º trueï¼Œä»£è¡¨åœ¨å†™å…¥åˆ—è¡¨çš„æ—¶å€™ï¼Œä¸ç®¡ä¸‹é¢æœ‰æ²¡æœ‰ç©ºè¡Œï¼Œéƒ½ä¼šåˆ›å»ºä¸€è¡Œï¼Œç„¶åä¸‹é¢çš„æ•°æ®å¾€åç§»åŠ¨ã€‚å¦‚æœä¸å®šä¹‰æˆ–è€…è®¾ç½®ä¸º falseï¼Œæœ€åé‚£è¡Œçš„ç»Ÿè®¡ä¿¡æ¯ä¼šè¢«è¦†ç›–ã€‚</p><p>ä½†æ˜¯åªè¦è®¾ç½®ä¸º true äº†ï¼Œæ•´ä¸ªå¡«å……æ“ä½œå°†éƒ½åœ¨å†…å­˜ä¸­æ“ä½œï¼Œæ¯”è¾ƒè€—è´¹å†…å­˜ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154632.png" alt="å¡«å……å¯¹è±¡+åˆ—è¡¨"></p><h3 id="å¡«å……å¯¹è±¡-åˆ—è¡¨ï¼ˆå¤§æ•°æ®é‡ï¼‰"><a href="#å¡«å……å¯¹è±¡-åˆ—è¡¨ï¼ˆå¤§æ•°æ®é‡ï¼‰" class="headerlink" title="å¡«å……å¯¹è±¡+åˆ—è¡¨ï¼ˆå¤§æ•°æ®é‡ï¼‰"></a>å¡«å……å¯¹è±¡+åˆ—è¡¨ï¼ˆå¤§æ•°æ®é‡ï¼‰</h3><p>å¦‚æœåˆ—è¡¨æ•°æ®æ¯”è¾ƒå¤§ï¼Œè¿˜åœ¨å†…å­˜ä¸­æ“ä½œå°±æ¯”è¾ƒå®¹æ˜“å†…å­˜æº¢å‡ºäº†ã€‚æ‰€ä»¥éœ€è¦ç‰¹æ®Šçš„æ“ä½œï¼š</p><ol><li>åˆ—è¡¨ä¹‹åæ²¡æœ‰è¡¨å•å¡«å……äº†ï¼Œè¿™ç§æœ€å®¹æ˜“å®ç°ï¼Œä¸€å¥è¯å®ç°ä¸äº†ï¼Œæ”¹éœ€æ±‚ã€‚</li><li>åªèƒ½åœ¨åˆ—è¡¨ä¹‹åæ‰‹åŠ¨å†™æ•°æ®</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">private static void fillObjectAndListManual() {    String fileName = defaultFileName(&quot;fillObjectAndListManual&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_object_and_list_manual.xlsx&quot;;    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName).withTemplate(templateFile).build();    try {        final WriteSheet writeSheet = EasyExcelFactory.writerSheet().build();        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();        map.put(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(LocalDateTime.now()));        excelWriter.fill(map, writeSheet);        FillConfig fillConfig = FillConfig.builder().forceNewRow(Boolean.TRUE).build();        excelWriter.fill(BaseFill::sampleItems, fillConfig, writeSheet);        excelWriter.fill(sampleItems(), fillConfig, writeSheet);        // ä¸‹é¢æ˜¯çº¯æ‰‹å·¥å†™æ•°æ®        List&lt;List&lt;String&gt;&gt; totalListList = new ArrayList&lt;&gt;();        List&lt;String&gt; totalList = new ArrayList&lt;&gt;();        totalListList.add(totalList);        totalList.add(null);        totalList.add(&quot;ç»Ÿè®¡ï¼š1000&quot;);        excelWriter.write(totalListList, writeSheet);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154712.png" alt="å¡«å……å¯¹è±¡+åˆ—è¡¨ï¼ˆå¤§æ•°æ®é‡ï¼‰"></p><h3 id="æ¨ªå‘å¡«å……æ•°æ®"><a href="#æ¨ªå‘å¡«å……æ•°æ®" class="headerlink" title="æ¨ªå‘å¡«å……æ•°æ®"></a>æ¨ªå‘å¡«å……æ•°æ®</h3><p>å…ˆå®šä¹‰æ¨¡æ¿ï¼š</p><p><img src="https://static.howardliu.cn/20211010154752.png" alt="æ¨ªå‘å¡«å……æ•°æ®"></p><pre><code class="java">private static void fillObjectAndListHorizontal() {    String fileName = defaultFileName(&quot;fillObjectAndListHorizontal&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_list_horizontal.xlsx&quot;;    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName).withTemplate(templateFile).build();    try {        final WriteSheet writeSheet = EasyExcelFactory.writerSheet().build();        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();        map.put(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(LocalDateTime.now()));        excelWriter.fill(map, writeSheet);        FillConfig fillConfig = FillConfig.builder().direction(WriteDirectionEnum.HORIZONTAL).build();        excelWriter.fill(BaseFill::sampleItems, fillConfig, writeSheet);        excelWriter.fill(sampleItems(), fillConfig, writeSheet);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>è¿™é‡Œé…ç½®<code>FillConfig fillConfig = FillConfig.builder().direction(WriteDirectionEnum.HORIZONTAL).build()</code>ï¼Œç”¨äºå®šä¹‰å†™å…¥æ–¹å‘ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154823.png" alt="æ¨ªå‘å¡«å……æ•°æ®"></p><h3 id="å¡«å……å¤šä¸ªè¡¨æ ¼"><a href="#å¡«å……å¤šä¸ªè¡¨æ ¼" class="headerlink" title="å¡«å……å¤šä¸ªè¡¨æ ¼"></a>å¡«å……å¤šä¸ªè¡¨æ ¼</h3><p>ä¸å†™æ“ä½œç›¸åŒï¼Œå¡«å……æ“ä½œä¹Ÿå¯ä»¥å®ç°å¤šè¡¨æ ¼çš„å†™å…¥ã€‚</p><p><img src="https://static.howardliu.cn/20211010154844.png" alt="å¡«å……å¤šä¸ªè¡¨æ ¼"></p><p>å¯¹äºå¤šè¡¨æ ¼å†™å…¥ï¼Œå®šä¹‰æ¨¡æ¿æ—¶ï¼Œå¿…é¡»æœ‰<code>{å‰ç¼€ã€‚}</code>ã€‚</p><pre><code class="java">private static void fillMultiList() {    String fileName = defaultFileName(&quot;fillMultiList&quot;);    String templateFile = getPath() + File.separator + &quot;template_fill_multi_list.xlsx&quot;;    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName).withTemplate(templateFile).build();    try {        final WriteSheet writeSheet = EasyExcelFactory.writerSheet().build();        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();        map.put(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(LocalDateTime.now()));        excelWriter.fill(map, writeSheet);        FillConfig fillConfig = FillConfig.builder().direction(WriteDirectionEnum.HORIZONTAL).build();        excelWriter.fill(new FillWrapper(&quot;data1&quot;, sampleItems()), fillConfig, writeSheet);        // data2 åˆ†æ‰¹å†™å…¥        excelWriter.fill(new FillWrapper(&quot;data2&quot;, sampleItems()), writeSheet);        excelWriter.fill(new FillWrapper(&quot;data3&quot;, sampleItems()), writeSheet);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>è¿™é‡Œç”¨åˆ°äº†<code>FillWrapper</code>ï¼Œç”¨æ¥åŒ…è£…å‰ç¼€ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211010154911.png" alt="å¡«å……å¤šä¸ªè¡¨æ ¼"></p><p>è‡³æ­¤ï¼Œå†™æ“ä½œå’Œå¡«å……æ“ä½œå…¨éƒ¨ä»‹ç»å®Œæˆã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>æœ¬æ–‡ä»å®æˆ˜è§’åº¦è¯´äº†ä¸€ä¸‹ EasyExcel å¦‚æœå®ç°å¡«å……æ¨¡æ¿å¯¼å‡ºè¡¨æ ¼ï¼Œæœ‰äº†æ¨¡æ¿å¡«å……é€»è¾‘ï¼Œå†åŠ ä¸Šå†™é€»è¾‘ï¼Œæˆ‘ä»¬ä¼šæœ‰æ›´å¤šçš„ç©æ³•ï¼Œæ¥ä¸‹æ¥å°±ä¼šè¯´ä¸€ä¸‹è¿™äº›å¥½ç©çš„éªšæ“ä½œã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰</a></li><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰</a></li><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-fill/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/effective-java-easyexcel-action-fill/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/120687567" target="_blank" rel="noopener">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      åœ¨ EasyExcel ä¸­ï¼Œå†™æ“ä½œå¯ä»¥å®Œæˆå¤§éƒ¨åˆ†å·¥ä½œï¼Œå¡«å……çš„ä¼˜åŠ¿åœ¨äºï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰æ ·å¼çš„ï¼Œåªè¦åœ¨æ¨¡æ¿ä¸­è®¾ç½®å¥½æ ·å¼ï¼Œå¡«å……çš„æ•°æ®å°±èƒ½å¤Ÿå¸¦ç€æ ·å¼ã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="Effective Java" scheme="https://www.howardliu.cn/tags/Effective-Java/"/>
    
      <category term="EasyExcel" scheme="https://www.howardliu.cn/tags/EasyExcel/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰</title>
    <link href="https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/"/>
    <id>https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/</id>
    <published>2021-10-07T07:50:47.000Z</published>
    <updated>2021-10-07T07:50:47.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static.howardliu.cn/20211007160914.jpeg" alt="é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/birgl-6508325/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5760752" target="_blank" rel="noopener">birgl</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5760752" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write/">å‰æ–‡</a> èŠäº† EasyExcel çš„å†…å®¹å¯¼å‡ºï¼Œæœ¬æ–‡ä¸»è¦è¯´ä¸€ä¸‹å¯¼å‡ºæ–‡ä»¶çš„æ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–åŒ…æ‹¬å·¥ä½œè¡¨/å•å…ƒæ ¼æ ·å¼å’Œå†…å®¹æ ¼å¼åŒ–ã€‚æ¯•ç«Ÿï¼Œæœ‰æ—¶å€™è¿˜æ˜¯è¦çœ‹è„¸ã€‚</p><a id="more"></a><p>å†…å®¹æ¯”è¾ƒå¤šï¼Œæ–‡å†…åªä¼šåˆ—å‡ºå…³é”®ä»£ç ï¼Œæƒ³è¦å®Œæ•´æºç ï¼Œå¯ä»¥å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€å›å¤â€œeasyexcelâ€è·å–ã€‚</p><h2 id="æ³¨è§£æ ¼å¼"><a href="#æ³¨è§£æ ¼å¼" class="headerlink" title="æ³¨è§£æ ¼å¼"></a>æ³¨è§£æ ¼å¼</h2><p>é€šè¿‡æ³¨è§£å®šä¹‰æ ¼å¼æ˜¯ EasyExcel å°è£…çš„é«˜çº§åŠŸèƒ½ï¼Œå¯ä»¥è®©æˆ‘ä»¬å¾ˆæ–¹ä¾¿çš„å®šä¹‰æ ¼å¼ã€‚</p><h3 id="æ ¼å¼åŒ–å†…å®¹"><a href="#æ ¼å¼åŒ–å†…å®¹" class="headerlink" title="æ ¼å¼åŒ–å†…å®¹"></a>æ ¼å¼åŒ–å†…å®¹</h3><p>å…ˆå®šä¹‰ä¸€ä¸ªä½¿ç”¨æ³¨è§£æ ¼å¼åŒ–å†…å®¹çš„å®ä½“ç±»ï¼š</p><pre><code class="java">@Datapublic class FormatContentItem {    @ExcelProperty(value = &quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;, converter = TitleFormatConverter.class)    private String string;    @DateTimeFormat(&quot;yyyy å¹´ MM æœˆ dd æ—¥ HH æ—¶ mm åˆ† ss ç§’&quot;)    @ExcelProperty(value = &quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @NumberFormat(&quot;0.000%&quot;)    @ExcelProperty(&quot;æ•°å­—æ ‡é¢˜&quot;)    private Double doubleData;}</code></pre><p>å…¶ä¸­<code>DateTimeFormat</code>å’Œ<code>NumberFormat</code>ä¸¤ä¸ªæ³¨è§£éƒ½æ˜¯è‡ªå¸¦çš„æ³¨è§£ï¼Œç”¨äºæ ¼å¼åŒ–æ—¶é—´å’Œæ•°å­—ã€‚</p><p><code>DateTimeFormat</code>æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªå±æ€§æ˜¯<code>value</code>ï¼Œç”¨æ¥å®šä¹‰æ—¶é—´æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒ<code>java.text.SimpleDateFormat</code>ï¼›å¦ä¸€ä¸ªå±æ€§æ˜¯<code>use1904windowing</code>ï¼Œè¡¨ç¤ºä½¿ç”¨æ—¶é—´ä½¿ç”¨ 1904 æ—¶é—´ç³»ç»Ÿè¿˜æ˜¯ 1900 æ—¶é—´ç³»ç»Ÿï¼Œé»˜è®¤æ˜¯å¦ã€‚</p><p><code>NumberFormat</code>æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªå±æ€§æ˜¯<code>value</code>ï¼Œç”¨æ¥å®šä¹‰æ•°å­—æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒ<code>java.text.DecimalFormat</code>ï¼›å¦ä¸€ä¸ªå±æ€§æ˜¯<code>roundingMode</code>ï¼Œç”¨æ¥å®šä¹‰ä¿ç•™å°æ•°çš„æ–¹å¼ï¼Œä½¿ç”¨çš„æ˜¯<code>java.math.RoundingMode</code>æšä¸¾ã€‚</p><p>æƒ³è¦æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå¯ä»¥å€ŸåŠ©<code>ExcelProperty</code>çš„ converter å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¼ å…¥å®ç°<code>Converter</code>çš„ç±»ã€‚æ¯”å¦‚ç¤ºä¾‹ä¸­çš„<code>TitleFormatConverter</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">public class TitleFormatConverter implements Converter&lt;String&gt; {    @Override    public Class&lt;?&gt; supportJavaTypeKey() {        return String.class;    }    @Override    public CellDataTypeEnum supportExcelTypeKey() {        return CellDataTypeEnum.STRING;    }    @Override    public WriteCellData&lt;?&gt; convertToExcelData(String value, ExcelContentProperty contentProperty,            GlobalConfiguration globalConfiguration) {        return new WriteCellData&lt;&gt;(String.format(&quot;æ ‡é¢˜ï¼š%sï¼ˆè‡ªå®šä¹‰ï¼‰&quot;, value));    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155354.png" alt="æ ¼å¼åŒ–å†…å®¹"></p><h3 id="å®šä¹‰è¡Œé«˜ã€åˆ—å®½"><a href="#å®šä¹‰è¡Œé«˜ã€åˆ—å®½" class="headerlink" title="å®šä¹‰è¡Œé«˜ã€åˆ—å®½"></a>å®šä¹‰è¡Œé«˜ã€åˆ—å®½</h3><p>ä½¿ç”¨æ³¨è§£å®šä¹‰è¡Œé«˜çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨<code>HeadRowHeight</code>å®šä¹‰è¡¨å¤´é«˜åº¦ï¼Œä½¿ç”¨<code>ContentRowHeight</code>å®šä¹‰è¡¨ä½“é«˜åº¦ï¼Œè¿™ä¸ªæ³¨è§£å®šä¹‰ä¹‹åï¼Œæ‰€æœ‰è¡¨ä½“é«˜åº¦éƒ½æ˜¯ç›¸åŒçš„ã€‚åˆ—å®½å¯ä»¥ä½¿ç”¨<code>ColumnWidth</code>æ³¨è§£å®šä¹‰ï¼Œè¿™ä¸ªæ³¨è§£å¯ä»¥å®šä¹‰åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºæ•´ä¸ªè¡¨æ ¼çš„åˆ—éƒ½ä¸€æ ·å®½ï¼Œä¹Ÿå¯ä»¥å®šä¹‰çš„å±æ€§ä¸Šï¼Œè¡¨ç¤ºæŒ‡å®šåˆ—çš„å®½åº¦ã€‚</p><pre><code class="java">@Data@HeadRowHeight(20)@ContentRowHeight(10)@ColumnWidth(25)public class FormatCellItem {    @ExcelProperty(&quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;)    private String string;    @ExcelProperty(&quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @ColumnWidth(50)    @ExcelProperty(&quot;æ•°å­—æ ‡é¢˜&quot;)    private Double doubleData;}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155431.png" alt="å®šä¹‰è¡Œé«˜ã€åˆ—å®½"></p><h3 id="å•å…ƒæ ¼å®šä¹‰æ ·å¼"><a href="#å•å…ƒæ ¼å®šä¹‰æ ·å¼" class="headerlink" title="å•å…ƒæ ¼å®šä¹‰æ ·å¼"></a>å•å…ƒæ ¼å®šä¹‰æ ·å¼</h3><p>æ§åˆ¶å•å…ƒæ ¼æ ·å¼æœ‰å››ä¸ªæ³¨è§£ï¼š<code>HeadStyle</code>ã€<code>HeadFontStyle</code>ã€<code>ContentStyle</code>ã€<code>ContentFontStyle</code>ï¼Œè¿™å››ä¸ªæ³¨è§£å¯ä»¥å®šä¹‰åœ¨ç±»ä¸Šä½œä¸ºå…¨å±€è¡¨æ ¼çš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨å­—æ®µä¸Šï¼Œä½œä¸ºå½“å‰åˆ—çš„æ ·å¼ã€‚ä¸‹é¢åˆ†åˆ«è¯´ä¸€ä¸‹è¿™å‡ ä¸ªæ³¨è§£ä¸­æ¯”è¾ƒå¸¸ç”¨çš„é…ç½®ã€‚</p><ul><li>*Styleï¼šåˆ†ä¸º<code>HeadStyle</code>å’Œ<code>ContentStyle</code>ï¼Œåˆ†åˆ«å®šä¹‰è¡¨å¤´å’Œè¡¨ä½“æ ·å¼<ul><li>dataFormatï¼šè¡¨å¤´æ ¼å¼åŒ–ï¼Œshort æ ¼å¼ï¼Œæ˜¯<code>org.apache.poi.ss.usermodel.BuiltinFormats</code>ç±»ä¸­å·²å®šä¹‰æ ¼å¼çš„å°æ ‡</li><li>border*ï¼šåˆ†åˆ«æ˜¯ borderLeftã€borderRightã€borderTopã€borderBottom å››ä¸ªå±æ€§ï¼Œç±»å‹æ˜¯<code>com.alibaba.excel.enums.poi.BorderStyleEnum</code>æšä¸¾ï¼Œç”¨æ¥å®šä¹‰è¡¨å¤´å•å…ƒæ ¼è¾¹æ¡†æ ·å¼ã€‚è¾¹æ¡†çš„é¢œè‰²ä¹Ÿå¯ä»¥å®šä¹‰ï¼Œä½¿ç”¨ã€*BorderColor å®šä¹‰å³å¯ã€‚</li><li>fillPatternTypeï¼šå¡«å……ç±»å‹ï¼Œç±»å‹æ˜¯<code>com.alibaba.excel.enums.poi.FillPatternTypeEnum</code>æšä¸¾ï¼Œå¦‚æœæƒ³è¦å¡«å……èƒŒæ™¯è‰²ï¼Œè¿™ä¸ªå±æ€§éœ€è¦è®¾ç½®ä¸º<code>SOLID_FOREGROUND</code>ã€‚</li><li>fillForegroundColorï¼šå‰æ™¯è‰²ï¼Œç±»å‹æ˜¯ shortï¼Œå€¼å´æ˜¯ä½¿ç”¨çš„<code>org.apache.poi.ss.usermodel.IndexedColors</code>æšä¸¾çš„ idx å€¼ï¼Œåªä¸è¿‡ï¼Œä¸¤ä¸ªç±»å‹ä¸ä¸€è‡´ï¼Œä¸€ä¸ªæ˜¯ shortï¼Œä¸€ä¸ªæ˜¯ intï¼Œæ²¡æœ‰åŠæ³•ç›´æ¥å¼•ç”¨ã€‚å¯è§ java ä¸­çš„ä¾èµ–ä¹‹é—´ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šå‘çš„ã€‚</li><li>fillBackgroundColorï¼šèƒŒæ™¯è‰²ï¼ŒåŒ<code>fillForegroundColor</code>ã€‚</li><li>rotationï¼šå†…å®¹æ—‹è½¬è§’åº¦</li></ul></li><li>*FontStyleï¼šæœ‰<code>HeadFontStyle</code>å’Œ<code>ContentFontStyle</code>ï¼Œåˆ†åˆ«å®šä¹‰è¡¨å¤´å’Œè¡¨ä½“çš„å­—ä½“æ ·å¼ã€‚<ul><li>fontNameï¼šå®šä¹‰å­—ä½“åç§°ï¼Œç±»å‹å­—ç¬¦ä¸²</li><li>fontHeightInPointsï¼šå­—å·å¤§å°ï¼Œç±»å‹æ˜¯ short</li><li>italicï¼šæ˜¯å¦æ–œä½“ï¼Œç±»å‹æ˜¯<code>com.alibaba.excel.enums.BooleanEnum</code></li><li>boldï¼šæ˜¯å¦åŠ ç²—ï¼Œç±»å‹æ˜¯<code>com.alibaba.excel.enums.BooleanEnum</code></li><li>strikeoutï¼šæ˜¯å¦ä½¿ç”¨åˆ é™¤çº¿ï¼ˆè¿™ä¸ªè¯æœ¬æ„æ˜¯ä¸‰æŒ¯å‡ºå±€çš„æ„æ€ï¼Œåº”è¯¥æ˜¯ä¸æ£’çƒæœ‰å…³ï¼‰</li><li>colorï¼šæ–‡æœ¬é¢œè‰²ï¼Œå€¼ä½¿ç”¨çš„æ˜¯<code>org.apache.poi.ss.usermodel.IndexedColors</code>ï¼Œä¾ç„¶æœ‰ç±»å‹ä¸ä¸€è‡´çš„æƒ…å†µ</li><li>underlineï¼šä¸‹åˆ’çº¿ï¼Œç±»å‹æ˜¯ byteï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>Font.U_NONE</code>ã€<code>Font.U_SINGLE</code>ã€<code>Font.U_DOUBLE</code>ã€<code>Font.U_SINGLE_ACCOUNTING</code>ã€<code>Font.U_DOUBLE_ACCOUNTING</code>ã€‚</li></ul></li></ul><p>æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå®šä¹‰ï¼š</p><pre><code class="java">@Data// å¤´èƒŒæ™¯è®¾ç½®æˆçº¢è‰² IndexedColors.RED.getIndex()@HeadStyle(fillPatternType = FillPatternTypeEnum.SOLID_FOREGROUND, fillForegroundColor = 10)// å¤´å­—ä½“è®¾ç½®æˆ 20@HeadFontStyle(fontHeightInPoints = 20)// å†…å®¹çš„èƒŒæ™¯è®¾ç½®æˆç»¿è‰² IndexedColors.GREEN.getIndex()@ContentStyle(fillPatternType = FillPatternTypeEnum.SOLID_FOREGROUND, fillForegroundColor = 17)// å†…å®¹å­—ä½“è®¾ç½®æˆ 20@ContentFontStyle(fontHeightInPoints = 20)public class FormatStyleCellItem {    // å­—ç¬¦ä¸²çš„å¤´èƒŒæ™¯è®¾ç½®æˆç²‰çº¢ IndexedColors.PINK.getIndex()    @HeadStyle(fillPatternType = FillPatternTypeEnum.SOLID_FOREGROUND, fillForegroundColor = 14)    // å­—ç¬¦ä¸²çš„å¤´å­—ä½“è®¾ç½®æˆ 20    @HeadFontStyle(fontHeightInPoints = 30)    // å­—ç¬¦ä¸²çš„å†…å®¹çš„èƒŒæ™¯è®¾ç½®æˆå¤©è“ IndexedColors.SKY_BLUE.getIndex()    @ContentStyle(fillPatternType = FillPatternTypeEnum.SOLID_FOREGROUND, fillForegroundColor = 40)    // å­—ç¬¦ä¸²çš„å†…å®¹å­—ä½“è®¾ç½®æˆ 20    @ContentFontStyle(fontHeightInPoints = 30)    @ExcelProperty(&quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;)    private String string;    @ExcelProperty(&quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @ExcelProperty(&quot;æ•°å­—æ ‡é¢˜&quot;)    private Double doubleData;}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155504.png" alt="å•å…ƒæ ¼å®šä¹‰æ ·å¼"></p><h2 id="ç±»å¯¹è±¡å®šä¹‰æ ¼å¼"><a href="#ç±»å¯¹è±¡å®šä¹‰æ ¼å¼" class="headerlink" title="ç±»å¯¹è±¡å®šä¹‰æ ¼å¼"></a>ç±»å¯¹è±¡å®šä¹‰æ ¼å¼</h2><p>è¿™ç§æ–¹å¼å¯ä»¥è¯´æ˜¯çº¯æ‰‹å·¥ç»„è£…æ•°æ®äº†ï¼Œä½¿ç”¨çš„æ˜¯<code>com.alibaba.excel.metadata.data.WriteCellData</code>ç±»ï¼Œè¿™ä¸ªç±»ç›¸å½“äºæ˜¯å•å…ƒæ ¼çš„å®šä¹‰ï¼Œé€šè¿‡è®¾ç½®<code>com.alibaba.excel.enums.CellDataTypeEnum</code>æšä¸¾ç±»å‹çš„ type å±æ€§ï¼Œå¯ä»¥æŒ‡æ˜å½“å‰å•å…ƒæ ¼æ ¼å¼ã€‚</p><p>å®ˆæ’å®šå¾‹ä¸€ç›´å­˜åœ¨ã€‚è¿™ç§æ–¹å¼çµæ´»åº¦å¾ˆé«˜ï¼Œå¯ä»¥ç²¾ç»†åˆ°å…·ä½“çš„å•å…ƒæ ¼æ ¼å¼ï¼Œä½†æ˜¯ç¹çç¨‹åº¦ä¹Ÿå¢åŠ äº†ã€‚</p><h3 id="è¶…é“¾æ¥"><a href="#è¶…é“¾æ¥" class="headerlink" title="è¶…é“¾æ¥"></a>è¶…é“¾æ¥</h3><p>è¶…é“¾æ¥ä½¿ç”¨çš„æ˜¯<code>com.alibaba.excel.metadata.data.HyperlinkData</code>ç±»ï¼Œéœ€è¦è®¾ç½®åœ°å€ã€è¶…é“¾ç±»å‹ï¼ˆ<code>com.alibaba.excel.metadata.data.HyperlinkData.HyperlinkType</code>æšä¸¾ï¼‰ï¼Œç„¶åå°†å€¼å†™å…¥åˆ°<code>WriteCellData</code>å¯¹è±¡çš„<code>hyperlinkData</code>å±æ€§å³å¯ã€‚</p><pre><code class="java">// è®¾ç½®è¶…é“¾æ¥HyperlinkData hyperlinkData = new HyperlinkData();hyperlinkData.setAddress(&quot;https://www.howardliu.cn&quot;);hyperlinkData.setHyperlinkType(HyperlinkType.URL);WriteCellData&lt;String&gt; hyperlink = new WriteCellData&lt;&gt;(&quot;ç½‘ç«™&quot;);hyperlink.setHyperlinkData(hyperlinkData);</code></pre><h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><p>å¤‡æ³¨ä½¿ç”¨çš„æ˜¯<code>com.alibaba.excel.metadata.data.CommentData</code>ç±»ï¼Œéœ€è¦è®¾ç½®ä½œè€…ã€å¤‡æ³¨å†…å®¹ï¼ˆ<code>com.alibaba.excel.metadata.data.RichTextStringData</code>ç±»å‹ï¼‰ï¼Œå› ä¸ºå¤‡æ³¨çš„é»˜è®¤å¤§å°æ˜¯å•å…ƒæ ¼å¤§å°ï¼Œå¦‚æœæ„Ÿè§‰å¤ªå°ï¼Œè¿˜å¯ä»¥è®¾ç½®ç›¸å¯¹é«˜åº¦å’Œå®½åº¦ã€‚</p><pre><code class="java">// è®¾ç½®å¤‡æ³¨CommentData commentData = new CommentData();commentData.setAuthor(&quot;Howard Liu&quot;);commentData.setRichTextStringData(new RichTextStringData(&quot;è¿™æ˜¯ä¸€ä¸ªå¤‡æ³¨&quot;));// å¤‡æ³¨çš„é»˜è®¤å¤§å°æ˜¯æŒ‰ç…§å•å…ƒæ ¼çš„å¤§å° è¿™é‡Œæƒ³è°ƒæ•´åˆ° 4 ä¸ªå•å…ƒæ ¼é‚£ä¹ˆå¤§ æ‰€ä»¥å‘å å‘ä¸‹ å„é¢å¤–å ç”¨äº†ä¸€ä¸ªå•å…ƒæ ¼commentData.setRelativeLastColumnIndex(1);commentData.setRelativeLastRowIndex(1);WriteCellData&lt;String&gt; comment = new WriteCellData&lt;&gt;(&quot;å¤‡æ³¨çš„å•å…ƒæ ¼ä¿¡æ¯&quot;);comment.setCommentData(commentData);</code></pre><h3 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><p>å…¬å¼ä½¿ç”¨çš„æ˜¯<code>com.alibaba.excel.metadata.data.FormulaData</code>ç±»ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®<code>formulaValue</code>å…¬å¼ï¼Œä¸è¿‡å®˜æ–¹ä¸å¤ªæ¨èä½¿ç”¨å…¬å¼ã€‚</p><pre><code class="java">// è®¾ç½®å…¬å¼FormulaData formulaData = new FormulaData();// å°† 123456789 ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—æ›¿æ¢æˆ 2// è¿™é‡Œåªæ˜¯ä¾‹å­ å¦‚æœçœŸçš„æ¶‰åŠåˆ°å…¬å¼ èƒ½å†…å­˜ç®—å¥½å°½é‡å†…å­˜ç®—å¥½ å…¬å¼èƒ½ä¸ç”¨å°½é‡ä¸ç”¨formulaData.setFormulaValue(&quot;REPLACE(123456789,1,1,2)&quot;);WriteCellData&lt;String&gt; formula = new WriteCellData&lt;&gt;();formula.setFormulaData(formulaData);</code></pre><h3 id="å•å…ƒæ ¼æ ¼å¼"><a href="#å•å…ƒæ ¼æ ¼å¼" class="headerlink" title="å•å…ƒæ ¼æ ¼å¼"></a>å•å…ƒæ ¼æ ¼å¼</h3><p>é€šè¿‡ç±»å®šä¹‰å•å…ƒæ ¼æ ¼å¼ï¼Œä¸é€šè¿‡æ³¨è§£å®šä¹‰æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥ä¸æ³¨è§£<code>HeadStyle</code>ã€<code>HeadFontStyle</code>ã€<code>ContentStyle</code>ã€<code>ContentFontStyle</code>å¯¹åº”ï¼Œè®¾ç½®å•å…ƒæ ¼æ ¼å¼çš„ç±»æ˜¯<code>WriteCellStyle</code>ï¼Œè®¾ç½®å­—ä½“çš„ç±»æ˜¯<code>WriteFont</code>ã€‚å…¶ä¸­è¿™äº›ç±»çš„å±æ€§ä¸æ³¨è§£çš„ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°å¤ªå¤šï¼Œç›´æ¥ä¸Šä¾‹å­ã€‚ï¼ˆå…¶å®æˆ‘è§‰å¾—ä½¿ç”¨ç±»å®šä¹‰æ ¼å¼çš„åœºæ™¯ä¸å¤šï¼ŒçœŸçš„ç¢°åˆ°äº†ï¼Œçœ‹çœ‹ç±»å®šä¹‰å°±æ˜ç™½äº†ï¼‰</p><pre><code class="java">// è®¾ç½®å•ä¸ªå•å…ƒæ ¼çš„æ ·å¼ å½“ç„¶æ ·å¼ å¾ˆå¤šçš„è¯ ä¹Ÿå¯ä»¥ç”¨æ³¨è§£ç­‰æ–¹å¼ã€‚WriteCellStyle writeCellStyleData = new WriteCellStyle();// è¿™é‡Œéœ€è¦æŒ‡å®š FillPatternType ä¸º FillPatternType.SOLID_FOREGROUND ä¸ç„¶æ— æ³•æ˜¾ç¤ºèƒŒæ™¯é¢œè‰²ã€‚writeCellStyleData.setFillPatternType(FillPatternType.SOLID_FOREGROUND);// èƒŒæ™¯ç»¿è‰²writeCellStyleData.setFillForegroundColor(IndexedColors.GREEN.getIndex());WriteCellData&lt;String&gt; writeCellStyle = new WriteCellData&lt;&gt;(&quot;å•å…ƒæ ¼æ ·å¼&quot;);writeCellStyle.setWriteCellStyle(writeCellStyleData);writeCellStyle.setType(CellDataTypeEnum.STRING);// è®¾ç½®å•ä¸ªå•å…ƒæ ¼å¤šç§æ ·å¼RichTextStringData richTextStringData = new RichTextStringData();richTextStringData.setTextString(&quot;çº¢è‰²ç»¿è‰²é»˜è®¤&quot;);// å‰ 2 ä¸ªå­—çº¢è‰²WriteFont writeFont = new WriteFont();writeFont.setColor(IndexedColors.RED.getIndex());richTextStringData.applyFont(0, 2, writeFont);// æ¥ä¸‹æ¥ 2 ä¸ªå­—ç»¿è‰²writeFont = new WriteFont();writeFont.setColor(IndexedColors.GREEN.getIndex());richTextStringData.applyFont(2, 4, writeFont);WriteCellData&lt;String&gt; richTest = new WriteCellData&lt;&gt;();richTest.setType(CellDataTypeEnum.RICH_TEXT_STRING);richTest.setRichTextStringDataValue(richTextStringData);</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155542.png" alt="å•å…ƒæ ¼æ ¼å¼"></p><h2 id="æ‹¦æˆªå™¨å®šä¹‰æ ¼å¼"><a href="#æ‹¦æˆªå™¨å®šä¹‰æ ¼å¼" class="headerlink" title="æ‹¦æˆªå™¨å®šä¹‰æ ¼å¼"></a>æ‹¦æˆªå™¨å®šä¹‰æ ¼å¼</h2><p>é™¤äº†ç›´æ¥ä½¿ç”¨ç±»å®šä¹‰æ ¼å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ©æ‹¦æˆªå™¨å®ç°ã€‚ï¼ˆè¿™é‡Œåœ¨åç§°ä¸Šä¼šæœ‰ä¸€äº›æ­§ä¹‰ï¼Œæ‰€ç”¨çš„ç±»å¯¹è±¡å‘½åéƒ½æ˜¯ xxxStrategyï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ xxx ç­–ç•¥ï¼Œä½†æ˜¯å®˜æ–¹å¯¹å…¶å‘½åä¸ºæ‹¦æˆªå™¨ï¼‰</p><h3 id="å·²æœ‰æ‹¦æˆªå™¨"><a href="#å·²æœ‰æ‹¦æˆªå™¨" class="headerlink" title="å·²æœ‰æ‹¦æˆªå™¨"></a>å·²æœ‰æ‹¦æˆªå™¨</h3><p>å‰é¢ç¤ºä¾‹ä¸­ä½¿ç”¨<code>WriteCellStyle</code>ã€<code>WriteFont</code>å¯ä»¥å®ç°å•å…ƒæ ¼çš„æ ·å¼ï¼Œå¦‚æœæƒ³è¦å®ç°æ•´è¡Œæ•°æ®éƒ½æ˜¯ç›¸åŒçš„æ ¼å¼ï¼Œå¯ä»¥å€ŸåŠ©<code>com.alibaba.excel.write.style.HorizontalCellStyleStrategy</code>æ‹¦æˆªå™¨ã€‚</p><pre><code class="java">/** * ä½¿ç”¨å·²æœ‰ç­–ç•¥å®ç°è‡ªå®šä¹‰æ ·å¼ * * &lt;ul&gt; *     &lt;li&gt;HorizontalCellStyleStrategy æ¯ä¸€è¡Œçš„æ ·å¼éƒ½ä¸€æ · æˆ–è€…éš”è¡Œä¸€æ ·&lt;/li&gt; *     &lt;li&gt;AbstractVerticalCellStyleStrategy æ¯ä¸€åˆ—çš„æ ·å¼éƒ½ä¸€æ · éœ€è¦è‡ªå·±å›è°ƒæ¯ä¸€é¡µ&lt;/li&gt; * &lt;/ul&gt; */private static void writeByCellStyleStrategy() {    String fileName = defaultFileName(&quot;writeByCellStyleStrategy&quot;);    // è¡¨å¤´ç­–ç•¥    WriteCellStyle headWriteCellStyle = new WriteCellStyle();    // èƒŒæ™¯è®¾ç½®ä¸ºçº¢è‰²    headWriteCellStyle.setFillForegroundColor(IndexedColors.RED.getIndex());    WriteFont headWriteFont = new WriteFont();    headWriteFont.setFontHeightInPoints((short) 40);    headWriteCellStyle.setWriteFont(headWriteFont);    // è¡¨ä½“ç­–ç•¥    WriteCellStyle contentWriteCellStyle = new WriteCellStyle();    // è¿™é‡Œéœ€è¦æŒ‡å®š FillPatternType ä¸º FillPatternType.SOLID_FOREGROUND ä¸ç„¶æ— æ³•æ˜¾ç¤ºèƒŒæ™¯é¢œè‰²ã€‚è¡¨å¤´é»˜è®¤äº† FillPatternType æ‰€ä»¥å¯ä»¥ä¸æŒ‡å®š    contentWriteCellStyle.setFillPatternType(FillPatternType.SOLID_FOREGROUND);    // èƒŒæ™¯ç»¿è‰²    contentWriteCellStyle.setFillForegroundColor(IndexedColors.GREEN.getIndex());    WriteFont contentWriteFont = new WriteFont();    // å­—ä½“å¤§å°    contentWriteFont.setFontHeightInPoints((short) 20);    contentWriteCellStyle.setWriteFont(contentWriteFont);    // è¿™ä¸ªç­–ç•¥æ˜¯ å¤´æ˜¯å¤´çš„æ ·å¼ å†…å®¹æ˜¯å†…å®¹çš„æ ·å¼ å…¶ä»–çš„ç­–ç•¥å¯ä»¥è‡ªå·±å®ç°    HorizontalCellStyleStrategy horizontalCellStyleStrategy =            new HorizontalCellStyleStrategy(headWriteCellStyle, contentWriteCellStyle);    // è¿™é‡Œ éœ€è¦æŒ‡å®šå†™ç”¨å“ªä¸ª class å»å†™ï¼Œç„¶åå†™åˆ°ç¬¬ä¸€ä¸ª sheetï¼Œåå­—ä¸ºæ¨¡æ¿ ç„¶åæ–‡ä»¶æµä¼šè‡ªåŠ¨å…³é—­    EasyExcelFactory.write(fileName)            .head(Item.class)            .registerWriteHandler(horizontalCellStyleStrategy)            .sheet()            .doWrite(sampleItems());}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155615.png" alt="å·²æœ‰æ‹¦æˆªå™¨"></p><p>æ­£å¦‚ä¸Šé¢çš„ç»“æœï¼Œå¦‚æœæˆ‘ä»¬æŸä¸ªå•å…ƒæ ¼æ•°æ®æ¯”è¾ƒé•¿ï¼Œå¯èƒ½ä¼šæœ‰é®æŒ¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>com.alibaba.excel.write.style.column.LongestMatchColumnWidthStyleStrategy</code>å®ç°è‡ªåŠ¨åˆ—å®½è°ƒæ•´ã€‚ä¸è¿‡è¿™ä¸ªä¸å¤ªç²¾ç¡®ï¼Œä½†èŠèƒœäºæ— ã€‚</p><pre><code class="java">private static void writeUseLongestMatchColumnWidthStyleStrategy() {    String fileName = defaultFileName(&quot;writeUseLongestMatchColumnWidthStyleStrategy&quot;);    EasyExcelFactory.write(fileName)            .head(Item.class)            .registerWriteHandler(new LongestMatchColumnWidthStyleStrategy())            .sheet()            .doWrite(sampleItems());}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155646.png" alt="å·²æœ‰æ‹¦æˆªå™¨"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç¡®å®ä¸å¤Ÿç²¾ç¡®ã€‚</p><h3 id="è‡ªå®šä¹‰æ‹¦æˆªå™¨"><a href="#è‡ªå®šä¹‰æ‹¦æˆªå™¨" class="headerlink" title="è‡ªå®šä¹‰æ‹¦æˆªå™¨"></a>è‡ªå®šä¹‰æ‹¦æˆªå™¨</h3><p>ä¸Šé¢å±•ç¤ºçš„æ‹¦æˆªå™¨ï¼Œéƒ½æ˜¯å®ç°äº†<code>com.alibaba.excel.write.handler.WriteHandler</code>æ¥å£ï¼Œç„¶åä½¿ç”¨<code>com.alibaba.excel.write.builder.AbstractExcelWriterParameterBuilder.registerWriteHandler</code>æ–¹æ³•æ³¨å†Œåˆ°å†™å‡½æ•°ä¸­ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½æ ¹æ®éœ€è¦ï¼Œè‡ªå·±å®šä¹‰éœ€è¦çš„æ‹¦æˆªå™¨ã€‚</p><blockquote><p>è¿™ç§è‡ªå®šä¹‰æ‹¦æˆªå™¨å±äºä½çº§åŠŸèƒ½ï¼Œéœ€è¦äº†è§£å¾ˆå¤šåº•å±‚è®¾è®¡å’Œ APIï¼Œé‰´äºç¯‡å¹…ï¼Œæœ¬æ–‡æ²¡æœ‰åŠæ³•è¦†ç›–ï¼Œè¿™é‡Œåªç»™å‡ºä¾‹å­ã€‚å¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥ç•™è¨€æ²Ÿé€šã€‚</p></blockquote><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æŸäº›å•å…ƒæ ¼è®¾ç½®æ•°æ®éªŒè¯ï¼Œå±•ç°å½¢å¼å°±æ˜¯ä¸‹æ‹‰èœå•ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p><pre><code class="java">public class ColumnValidationWriteHandler implements SheetWriteHandler {    @Override    public void afterSheetCreate(SheetWriteHandlerContext context) {        // åŒºé—´è®¾ç½® ç¬¬ä¸€åˆ—ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œçš„æ•°æ®ã€‚ç”±äºç¬¬ä¸€è¡Œæ˜¯å¤´ï¼Œæ‰€ä»¥ç¬¬ä¸€ã€äºŒè¡Œçš„æ•°æ®å®é™…ä¸Šæ˜¯ç¬¬äºŒä¸‰è¡Œ        CellRangeAddressList cellRangeAddressList = new CellRangeAddressList(1, 2, 0, 0);        DataValidationHelper helper = context.getWriteSheetHolder().getSheet().getDataValidationHelper();        DataValidationConstraint constraint = helper.createExplicitListConstraint(new String[] {&quot;æµ‹è¯• 1&quot;, &quot;æµ‹è¯• 2&quot;});        DataValidation dataValidation = helper.createValidation(constraint, cellRangeAddressList);        context.getWriteSheetHolder().getSheet().addValidationData(dataValidation);    }}</code></pre><p>å¦‚æœæˆ‘ä»¬éœ€è¦å°†æŸä¸ªå•å…ƒæ ¼çš„æ ¼å¼è®¾ç½®ä¸ºè¶…é“¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ‹¦æˆªå™¨ï¼š</p><pre><code class="java">public class CellStyleWriteHandler implements CellWriteHandler {    @Override    public void afterCellDispose(CellWriteHandlerContext context) {        Cell cell = context.getCell();        // è¿™é‡Œå¯ä»¥å¯¹ cell è¿›è¡Œä»»ä½•æ“ä½œ        if (BooleanUtils.isTrue(context.getHead()) &amp;&amp; cell.getColumnIndex() == 0) {            CreationHelper createHelper = context.getWriteSheetHolder().getSheet().getWorkbook().getCreationHelper();            Hyperlink hyperlink = createHelper.createHyperlink(HyperlinkType.URL);            hyperlink.setAddress(&quot;https://www.howardliu.cn&quot;);            cell.setHyperlink(hyperlink);        }    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155715.png" alt="è‡ªå®šä¹‰æ‹¦æˆªå™¨"></p><h2 id="åˆå¹¶å•å…ƒæ ¼"><a href="#åˆå¹¶å•å…ƒæ ¼" class="headerlink" title="åˆå¹¶å•å…ƒæ ¼"></a>åˆå¹¶å•å…ƒæ ¼</h2><p>EasyExcel æä¾›çš„åˆå¹¶å•å…ƒæ ¼åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼šåŸºäºæ³¨è§£çš„åˆå¹¶ã€åŸºäºæ‹¦æˆªå™¨çš„åˆå¹¶ã€‚</p><h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><p>åŸºäºæ³¨è§£çš„åˆå¹¶å•å…ƒæ ¼æä¾›äº†ä¸¤ä¸ªæ³¨è§£ï¼š</p><ul><li><code>OnceAbsoluteMerge</code>æ³¨è§£å®ç°æŒ‡å®šä½ç½®çš„åˆå¹¶</li><li><code>ContentLoopMerge</code>è¿™ä¸ªæ˜¯å†…å®¹çš„å¾ªç¯åˆå¹¶ï¼ŒæŒ‡å®šæŸä¸€åˆ—æ¯å‡ è¡Œåˆå¹¶ã€‚</li></ul><pre><code class="java">// å°†ç¬¬ 6-7 è¡Œçš„ 2-3 åˆ—åˆå¹¶æˆä¸€ä¸ªå•å…ƒæ ¼@OnceAbsoluteMerge(firstRowIndex = 5, lastRowIndex = 6, firstColumnIndex = 1, lastColumnIndex = 2)@Datapublic class MergeCellItem {    @ContentLoopMerge(eachRow = 2)    @ExcelProperty(&quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;)    private String string;    @ExcelProperty(&quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @ExcelProperty(&quot;æ•°å­—æ ‡é¢˜&quot;)    private Double doubleData;}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155745.png" alt="åˆå¹¶å•å…ƒæ ¼æ³¨è§£"></p><h3 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h3><p>æ‹¦æˆªå™¨åˆå¹¶ä¹Ÿæ˜¯æœ‰ä¸¤ç§ï¼Œå¯¹åº”ç€æ³¨è§£ï¼š</p><ul><li><code>OnceAbsoluteMergeStrategy</code>ï¼Œç›¸å¯¹ä½ç½®åˆå¹¶</li><li><code>LoopMergeStrategy</code>å¾ªç¯åˆå¹¶</li></ul><pre><code class="java">private static void writeMergeCellCustom() {    String fileName = defaultFileName(&quot;writeMergeCellCustom&quot;);    // æ¯éš” 2 è¡Œä¼šåˆå¹¶    // æŠŠ eachColumn è®¾ç½®æˆ 3 ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ•°æ®çš„é•¿åº¦ï¼Œæ‰€ä»¥å°±ç¬¬ä¸€åˆ—ä¼šåˆå¹¶ã€‚å½“ç„¶å…¶ä»–åˆå¹¶ç­–ç•¥ä¹Ÿå¯ä»¥è‡ªå·±å†™    LoopMergeStrategy loopMergeStrategy = new LoopMergeStrategy(2, 0);    EasyExcelFactory.write(fileName)            .head(Item.class)            .registerWriteHandler(loopMergeStrategy)            .sheet()            .doWrite(sampleItems());}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211007155820.png" alt="åˆå¹¶å•å…ƒæ ¼æ‹¦æˆªå™¨"></p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>æœ¬æ–‡ä»å®æˆ˜è§’åº¦è¯´äº†ä¸€ä¸‹ EasyExcel å¦‚æœå®ç°å†™å‡ºå¥½çœ‹çš„è¡¨æ ¼ï¼ŒEasyExcelä¸­æä¾›äº†å¾ˆå¤šç”¨äºæ ¼å¼åŒ–çš„æ³¨è§£ã€æ‹¦æˆªå™¨ï¼Œå¯ä»¥å®ç°é€šç”¨çš„æ ¼å¼åŒ–è¾“å‡ºï¼Œå¦‚æœè¿˜æœ‰æ›´åŠ ä¸ªæ€§åŒ–çš„æ ¼å¼è¦æ±‚ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ‹¦æˆªå™¨å®ç°ã€‚æ¥ä¸‹æ¥èŠä¸€ä¸‹å¦‚ä½•å¡«å……æ¨¡æ¿ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰</a></li><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰</a></li><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-fill/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®©Excelå¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/120637460" target="_blank" rel="noopener">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      æ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ã€‚æ¯•ç«Ÿï¼Œæœ‰æ—¶å€™è¿˜æ˜¯è¦çœ‹è„¸ã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="Effective Java" scheme="https://www.howardliu.cn/tags/Effective-Java/"/>
    
      <category term="EasyExcel" scheme="https://www.howardliu.cn/tags/EasyExcel/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰</title>
    <link href="https://www.howardliu.cn/effective-java-easyexcel-action-write/"/>
    <id>https://www.howardliu.cn/effective-java-easyexcel-action-write/</id>
    <published>2021-10-03T22:40:34.000Z</published>
    <updated>2021-10-03T22:40:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static.howardliu.cn/20211004065308.jpeg" alt="é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/kimdaejeung-7703165/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6549208" target="_blank" rel="noopener">dae jeung kim</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6549208" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>å¯¼å‡ºæ˜¯ä¸­åå°å¸¸è§çš„åŠŸèƒ½ï¼ŒExcelæ–‡ä»¶æ˜¯å¸¸è§çš„å¯¼å‡ºæ ¼å¼ã€‚</p><a id="more"></a><p>åœ¨Javaæ ˆä¸­ï¼Œå¸¸ç”¨çš„æ˜¯<a href="https://sourceforge.net/projects/jexcelapi/" target="_blank" rel="noopener">JXLï¼ˆç›®å‰æ”¹åä¸ºJExcelï¼‰</a>å’Œ<a href="http://poi.apache.org/" target="_blank" rel="noopener">Apache POI</a>ã€‚å…¶ä¸­jxlæœ€åçš„æ›´æ–°æ—¶é—´æ˜¯2012ï¼Œé™¤äº†è€ç³»ç»Ÿä¸­èƒ½çœ‹åˆ°å½±å­ï¼Œå‡ ä¹è§ä¸åˆ°è¸ªè¿¹äº†ã€‚ç›®å‰åŸºæœ¬ä¸Šæ˜¯POIä¸€ç»Ÿå¤©ä¸‹ã€‚</p><p>ä»Šå¤©è¦è¯´çš„EasyExcelé˜¿é‡Œå·´å·´å¼€æºçš„Excelå¯¼å‡ºç±»åº“ï¼Œæ˜¯å¯¹POIçš„å°è£…ï¼Œå®ç°äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½ï¼Œå¹¶ä¸”ç•™å‡ºæ‰©å±•å£ï¼Œæ”¯æŒæ‰©å±•å®šåˆ¶åŒ–åŠŸèƒ½ã€‚æ‰“ä¸ªæ¯”å–»ï¼ŒPOIç›¸å½“äºä¹é«˜ç§¯æœ¨ï¼Œä¸€ä¸ªä¸ªçš„å°ç§¯æœ¨å¯ä»¥è‡ªç”±ç»„è£…ï¼Œåªèƒ½åŠ¨æ‰‹èƒ½åŠ›å¼ºï¼Œå°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ç»„è£…ã€‚EasyExcelæ›´åƒæ˜¯æŠŠè¿™äº›å°ç§¯æœ¨æå‰ç»„è£…å¥½ï¼Œæƒ³è¦æ­å»ºæˆ¿å­ï¼Œå°±ç›´æ¥æ‰¾ç»„è£…å¥½çš„å±‹é¡¶ã€å›´å¢™å°±è¡Œã€‚å¦‚æœä»…ä»…å¦‚æ­¤ï¼Œé‚£EasyExcelä»…ä»…å°±æ˜¯ç®€å•çš„å·¥å…·åŒ…ï¼Œå…¶æ›´åŠ å¸å¼•äººçš„åœ°æ–¹æ˜¯å¯¹äºå†…å­˜çš„æ§åˆ¶ï¼Œå®ƒé€šè¿‡å‹ç¼©æ–‡ä»¶ã€åˆ†æ‰¹è¯»å–ã€æŠ›å¼ƒä¸é‡è¦æ•°æ®ã€æ–‡ä»¶ç¼“å­˜ç­‰å¤šç§æ–¹å¼ï¼Œé™ä½å†…å­˜æ¶ˆè€—ã€‚</p><p>å†…å®¹æ¯”è¾ƒå¤šï¼Œæ–‡å†…åªä¼šåˆ—å‡ºå…³é”®ä»£ç ï¼Œæƒ³è¦å®Œæ•´æºç ï¼Œå¯ä»¥å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€å›å¤â€œeasyexcelâ€è·å–ã€‚</p><h2 id="æœ€ç®€å•çš„å†™è¡¨æ ¼"><a href="#æœ€ç®€å•çš„å†™è¡¨æ ¼" class="headerlink" title="æœ€ç®€å•çš„å†™è¡¨æ ¼"></a>æœ€ç®€å•çš„å†™è¡¨æ ¼</h2><p>å¼€å§‹ä¹‹å‰ï¼Œå…ˆå®šä¹‰ä¸€ä¸‹åŸºç¡€ç±»ï¼Œè¿™ä¸ªç±»å°†è´¯ç©¿å…¨æ–‡ï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½æ˜¯åœ¨è¿™ä¸ªç±»çš„ç®€å•å˜å½¢ã€‚</p><pre><code class="java">@Datapublic class Item {    @ExcelProperty(&quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;)    private String string;    @ExcelProperty(&quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @ExcelProperty(&quot;æ•°å­—æ ‡é¢˜&quot;)    private Double doubleData;    @ExcelIgnore    private String ignore;}</code></pre><h3 id="æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘ä¸€ä¸ªå·¥ä½œè¡¨ä¸­å†™ä¸€ä¸ªè¡¨æ ¼"><a href="#æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘ä¸€ä¸ªå·¥ä½œè¡¨ä¸­å†™ä¸€ä¸ªè¡¨æ ¼" class="headerlink" title="æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘ä¸€ä¸ªå·¥ä½œè¡¨ä¸­å†™ä¸€ä¸ªè¡¨æ ¼"></a>æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘ä¸€ä¸ªå·¥ä½œè¡¨ä¸­å†™ä¸€ä¸ªè¡¨æ ¼</h3><p>è¿™æ˜¯æœ€ç®€å•çš„ä¸€ç§å®ç°ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ªå¯¹è±¡ç±»ï¼Œç„¶åè¯»å–æ•°æ®åˆ—è¡¨å³å¯ã€‚</p><pre><code class="java">/** * å€ŸåŠ©{@link com.alibaba.excel.write.builder.ExcelWriterSheetBuilder}è‡ªåŠ¨åˆ›å»º{@link com.alibaba.excel.ExcelWriter}å†™å…¥æ•°æ®ã€‚ * &lt;p&gt; * æä¾›åˆ—è¡¨å’Œå‡½æ•°ä½œä¸ºæ•°æ®æº */public static void writeAutoWriter() {    final String fileName = defaultFileName(&quot;writeAutoWriter&quot;);    EasyExcelFactory.write(fileName)            .head(Item.class)            .sheet(&quot;æ¨¡æ¿&quot;)            .doWrite(WriteSample::sampleItems);}</code></pre><p>EasyExcelæä¾›äº†<code>EasyExcelFactory</code>ç±»ï¼ŒAPIæ–¹æ³•ä¹Ÿæ˜¯fluentæ–¹å¼ï¼Œå¯ä»¥å¦‚ä¸èˆ¬é¡ºæ»‘çš„å®ç°ç”ŸæˆExcelæ–‡ä»¶ã€‚å¦‚æœæ„Ÿè§‰<code>EasyExcelFactory</code>å¤ªé•¿ï¼Œè¿˜å¯ä»¥ç›´æ¥å†™ä½œ<code>EasyExcel</code>ï¼Œè¿™æ˜¯<code>EasyExcelFactory</code>çš„å­ç±»ï¼Œç±»ä¼¼äºåˆ«åã€‚</p><blockquote><p>ä¸è¿‡ï¼Œè¿™ç§åˆ«åå®šä¹‰æ–¹å¼ï¼Œåœ¨æœ‰äº›è§„èŒƒä¸­å±äº<code>smell code</code>ï¼Œæ‰€ä»¥ï¼Œæ ¹æ®è‡ªå·±æˆ–è€…å…¬å¸è§„èŒƒé€‰æ‹©å§ã€‚</p></blockquote><p><code>com.alibaba.excel.EasyExcelFactory#write(java.lang.String)</code>æ–¹æ³•çš„å‚æ•°ä¼ çš„æ˜¯å¯¼å‡ºæ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¦‚æœå¹¶ä¸éœ€è¦ç”Ÿæˆæ–‡ä»¶ï¼Œåªéœ€è¦åˆ›å»ºæ–‡ä»¶æµï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªè¾“å‡ºæµ<code>OutputStream</code>ï¼Œè¿™æ ·å°±å¯ä»¥æ›´åŠ çµæ´»çš„å®ç°ç”Ÿæˆé€»è¾‘äº†ã€‚</p><p><code>com.alibaba.excel.metadata.AbstractParameterBuilder#head()</code>æ–¹æ³•æ˜¯å®šä¹‰è¡¨å¤´ï¼Œåªè¦ä¼ å…¥ä¸€ä¸ªç±»ï¼Œå°±ä¼šè¯»å–è¿™ä¸ªç±»çš„æ‰€æœ‰å­—æ®µä½œä¸ºè¡¨å¤´ã€‚å¦‚æœå­—æ®µä¸Š<code>com.alibaba.excel.annotation.ExcelProperty</code>æ³¨è§£ï¼Œå®šä¹‰äº†<code>value</code>ï¼Œå°±ä¼šå–<code>value</code>çš„å€¼ä½œä¸ºè¡¨å¤´ã€‚æ­¤å¤„è¿˜æœ‰å¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚ï¼Œ<code>value</code>æ˜¯æ•°ç»„ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªï¼Œå¦‚æœæ˜¯ç›¸é‚»å­—æ®µå®šä¹‰äº†ç›¸åŒçš„è¡¨å¤´ï¼Œä¼šåˆå¹¶å•å…ƒæ ¼ï¼Œè¡¨ä½“å†…å®¹ä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå•å…ƒæ ¼çš„å†…å®¹ã€‚è¿™ä¸ªæ³¨è§£è¿˜å¯ä»¥å®šä¹‰<code>index</code>ã€<code>order</code>ã€<code>converter</code>ç­‰ï¼Œåé¢ä¼šä¸€ä¸€ç»™å‡ºä¾‹å­ã€‚</p><p><code>com.alibaba.excel.write.builder.ExcelWriterBuilder#sheet()</code>æ–¹æ³•å®šä¹‰å·¥ä½œè¡¨ï¼Œæœ‰å¤šä¸ªé‡è½½æ–¹æ³•ï¼Œå¯ä»¥å®šä¹‰<code>sheetNo</code>æŒ‡æ˜æ˜¯ç¬¬å‡ ä¸ªå·¥ä½œè¡¨ï¼Œå¯ä»¥ä¼ å…¥<code>sheetName</code>æŒ‡æ˜å·¥ä½œè¡¨åç§°ã€‚</p><p><code>com.alibaba.excel.write.builder.ExcelWriterSheetBuilder#doWrite()</code>æ–¹æ³•å°±æ˜¯å†™Excelæ–‡ä»¶äº†ï¼Œä¼ å…¥å…¨éƒ¨çš„åˆ—è¡¨æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨Java8+çš„<code>Supplier</code>å‡½æ•°ã€‚è¿˜å¯ä»¥å®ç°åˆ†é¡µå†™å…¥ï¼Œåé¢ä¼šç»™å‡ºä¾‹å­ã€‚è¿™ä¸ªæ–¹æ³•ä¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶æµï¼ŒçœŸæ˜¯å¾ˆè´´å¿ƒã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065644.png" alt="æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘ä¸€ä¸ªå·¥ä½œè¡¨ä¸­å†™ä¸€ä¸ªè¡¨æ ¼"></p><h3 id="æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®"><a href="#æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®" class="headerlink" title="æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®"></a>æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®</h3><p>ä¸Šé¢æ˜¯å‘ä¸€ä¸ªå·¥ä½œè¡¨å†™æ•°æ®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å‘å¤šä¸ªå·¥ä½œè¡¨å†™æ•°æ®ã€‚</p><blockquote><p>è¿™ä¸ªä¾‹å­ä¼šæ¶‰åŠæ›´å¤šçš„å†…éƒ¨å¯¹è±¡ï¼Œæ¯”å¦‚ï¼šExcelWriterã€WriteSheetã€‚</p></blockquote><pre><code class="java">/** * æ‰‹åŠ¨åˆ›å»º{@link com.alibaba.excel.ExcelWriter}ï¼ŒæŒ‡å®šsheetå†™å…¥æ•°æ®ã€‚ * &lt;p&gt; * æä¾›åˆ—è¡¨å’Œå‡½æ•°ä½œä¸ºæ•°æ®æº */public static void writeManualWither() {    String fileName = defaultFileName(&quot;writeManualWriter&quot;);    ExcelWriter excelWriter = null;    try {        excelWriter = EasyExcelFactory.write(fileName)                .head(Item.class)                .build();        final WriteSheet writeSheet1 = EasyExcelFactory.writerSheet(&quot;æ¨¡æ¿1&quot;).build();        excelWriter.write(WriteSample::sampleItems, writeSheet1);        final WriteSheet writeSheet2 = EasyExcelFactory.writerSheet(&quot;æ¨¡æ¿2&quot;).build();        excelWriter.write(sampleItems(), writeSheet2);    } finally {        // åƒä¸‡åˆ«å¿˜è®°finish ä¼šå¸®å¿™å…³é—­æµ        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>å› ä¸ºæ˜¯æƒ³å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®ï¼Œæˆ‘ä»¬å°±ä¸èƒ½ç›´æ¥ä½¿ç”¨<code>doWrite</code>æ–¹æ³•äº†ã€‚</p><p><code>com.alibaba.excel.ExcelWriter</code>ç±»æ˜¯Excelå†™å¯¹è±¡ï¼Œç”¨æ¥åˆ›å»ºExcelå·¥ä½œç°¿çš„ã€‚<code>com.alibaba.excel.write.metadata.WriteSheet</code>ç±»æ˜¯Sheetå†™å¯¹è±¡ï¼Œç”¨æ¥åˆ›å»ºSheetå·¥ä½œè¡¨çš„ã€‚é€šè¿‡<code>com.alibaba.excel.ExcelWriter#write()</code>æ–¹æ³•ï¼ŒæŒ‡å®šå†™å…¥æ•°æ®å’Œå†™å…¥çš„ç›®æ ‡å·¥ä½œè¡¨ï¼Œå°±å¯ä»¥å®ç°å‘å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®çš„åŠŸèƒ½ã€‚</p><p>æ­¤å¤„éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨åˆ›å»º<code>ExcelWriter</code>å¯¹è±¡æ—¶ï¼Œè°ƒç”¨äº†<code>head()</code>æ–¹æ³•å®šä¹‰äº†è¡¨å¤´ï¼Œè¿™æ˜¯æ•´ä¸ªExcelçš„å®šä¹‰ï¼Œsheetä¼šç»§æ‰¿è¿™ä¸ªå®šä¹‰ã€‚è¿™æ ·ï¼Œæ•´ä¸ªExcelæ–‡ä»¶ä¸­çš„æ‰€æœ‰å·¥ä½œè¡¨ï¼Œè¡¨å¤´éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¸è¦åœï¼Œåé¢ä¼šç»™å‡ºä¸åŒå·¥ä½œè¡¨å®šä¹‰ä¸åŒè¡¨å¤´çš„ç¤ºä¾‹ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065724.png" alt="æ ¹æ®å¤´å¯¹è±¡å’Œåˆ—è¡¨å‘å¤šä¸ªå·¥ä½œè¡¨ä¸­å†™æ•°æ®"></p><h2 id="æŒ‰ç…§å®šä¹‰æŒ‡å®šå¯¼å‡ºåˆ—"><a href="#æŒ‰ç…§å®šä¹‰æŒ‡å®šå¯¼å‡ºåˆ—" class="headerlink" title="æŒ‰ç…§å®šä¹‰æŒ‡å®šå¯¼å‡ºåˆ—"></a>æŒ‰ç…§å®šä¹‰æŒ‡å®šå¯¼å‡ºåˆ—</h2><p>åœ¨åå°ç³»ç»Ÿä¸­ï¼Œä¼šæœ‰è¡Œåˆ—æƒé™çš„æ§åˆ¶ã€‚è¡Œæƒé™ï¼Œé€šè¿‡æ•°æ®è¡Œå®ç°ï¼Œåªå¯¼å‡ºæœ‰æƒé™çš„è¡Œæ•°æ®å³å¯ã€‚åˆ—æƒé™ï¼Œå¯ä»¥é€šè¿‡åªå¯¼å‡ºæœ‰æƒé™çš„åˆ—ï¼Œæ’é™¤æ²¡æœ‰æƒé™çš„åˆ—ï¼ˆé€šå¸¸æ˜¯åˆ†ç­‰çº§çš„æ•æ„Ÿæ•°æ®ï¼‰ã€‚</p><p>æœ‰æ—¶å€™éœ€è¦å®šåˆ¶åŒ–å¯¼å‡ºï¼Œå¯¼å‡ºæ‰€æœ‰åˆ—è¡¨æ ¼æ¯”è¾ƒå¤§ï¼Œç”¨æˆ·æ ¹æ®éœ€è¦æŒ‡å®šéœ€è¦å¯¼å‡ºçš„åˆ—ã€‚</p><h3 id="æ’é™¤æŒ‡å®šåˆ—"><a href="#æ’é™¤æŒ‡å®šåˆ—" class="headerlink" title="æ’é™¤æŒ‡å®šåˆ—"></a>æ’é™¤æŒ‡å®šåˆ—</h3><pre><code class="java">private static void writeExcludeColumn() {    String fileName = defaultFileName(&quot;writeExcludeColumn&quot;);    Set&lt;String&gt; excludeColumnFiledNames = new HashSet&lt;&gt;();    excludeColumnFiledNames.add(&quot;date&quot;);    EasyExcelFactory.write(fileName)            .head(Item.class)            .excludeColumnFiledNames(excludeColumnFiledNames)            .sheet(&quot;æ¨¡æ¿&quot;)            .doWrite(WriteSample::sampleItems);}</code></pre><p>è¿™ä¸ªéœ€æ±‚ï¼Œéœ€è¦å€ŸåŠ©<code>com.alibaba.excel.write.builder.AbstractExcelWriterParameterBuilder#excludeColumnFiledNames</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨<code>ExcelWriterBuilder</code>ã€<code>ExcelWriterSheetBuilder</code>ã€<code>ExcelWriterTableBuilder</code>çš„çˆ¶ç±»ä¸­å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æ˜¯æ•´ä¸ªExcelå·¥ä½œç°¿éƒ½æ’é™¤æŒ‡å®šå­—æ®µï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªsheetå·¥ä½œè¡¨æ’é™¤æŒ‡å®šå­—æ®µï¼Œè¿˜å¯ä»¥æ˜¯tableè¡¨æ ¼æ’é™¤æŒ‡å®šå­—æ®µã€‚</p><p>é™¤äº†<code>excludeColumnFiledNames</code>é€šè¿‡å­—æ®µåæ’é™¤å­—æ®µï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>excludeColumnIndexes</code>æŒ‡å®šå­—æ®µä¸‹æ ‡æ’é™¤åˆ—ï¼Œå¦‚æœéœ€è¦æ§åˆ¶ä¸‹æ ‡ï¼Œéœ€è¦åœ¨å­—æ®µä¸Šå®šä¹‰<code>ExcelProperty</code>æŒ‡æ˜indexå±æ€§ï¼Œè¿™æ ·ä¹Ÿèƒ½å¤Ÿæ›´å¥½çš„å›ºå®šå­—æ®µä¸‹æ ‡ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065753.png" alt="æ’é™¤æŒ‡å®šåˆ—"></p><h3 id="åªå¯¼å‡ºæŒ‡å®šåˆ—"><a href="#åªå¯¼å‡ºæŒ‡å®šåˆ—" class="headerlink" title="åªå¯¼å‡ºæŒ‡å®šåˆ—"></a>åªå¯¼å‡ºæŒ‡å®šåˆ—</h3><pre><code class="java">private static void writeIncludeColumn() {    String fileName = defaultFileName(&quot;writeIncludeColumn&quot;);    Set&lt;String&gt; includeColumnFiledNames = new HashSet&lt;&gt;();    includeColumnFiledNames.add(&quot;date&quot;);    EasyExcelFactory.write(fileName)            .head(Item.class)            .includeColumnFiledNames(includeColumnFiledNames)            .sheet(&quot;æ¨¡æ¿&quot;)            .doWrite(WriteSample::sampleItems);}</code></pre><p>è¿™ä¸ªéœ€æ±‚ï¼Œéœ€è¦å€ŸåŠ©<code>com.alibaba.excel.write.builder.AbstractExcelWriterParameterBuilder#includeColumnFiledNames</code>æ–¹æ³•ã€‚ä¸<code>excludeColumnFiledNames</code>æ˜¯ç›¸ä¼¼ï¼Œéƒ½æ˜¯å¯ä»¥åˆ†çº§å®šä¹‰ï¼Œç”¨èµ·æ¥ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡åŠŸèƒ½ç›¸åè€Œå·²ã€‚</p><p>åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>includeColumnIndexes</code>æ–¹æ³•ï¼Œé€šè¿‡æŒ‡å®šå­—æ®µä¸‹æ ‡æŒ‡å®šåˆ—ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065816.png" alt="åªå¯¼å‡ºæŒ‡å®šåˆ—"></p><h2 id="è¡¨å¤´"><a href="#è¡¨å¤´" class="headerlink" title="è¡¨å¤´"></a>è¡¨å¤´</h2><p>è¡¨å¤´çš„å®šä¹‰æ˜¯æ¯”è¾ƒå…³é”®çš„ï¼Œä¼šç›´æ¥å½±å“Excelæ–‡ä»¶çš„è´¨é‡ã€‚æ‰€ä»¥ï¼ŒEasyExcelæä¾›äº†æ¯”è¾ƒä¸°å¯Œçš„è¡¨å¤´å®šä¹‰æ–¹æ³•ã€‚</p><h3 id="åŸå§‹è¡¨å¤´"><a href="#åŸå§‹è¡¨å¤´" class="headerlink" title="åŸå§‹è¡¨å¤´"></a>åŸå§‹è¡¨å¤´</h3><p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªæ–°çš„åŸºç¡€ç±»ï¼š<code>EmptyItem</code>ï¼Œä¸<code>Item</code>çš„åŒºåˆ«æ˜¯ç§»é™¤äº†<code>ExcelProperty</code>çš„å®šä¹‰ã€‚</p><pre><code class="java">@Datapublic class EmptyItem {    private String string;    private Date date;    private Double doubleData;}</code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šç›´æ¥ä½¿ç”¨<code>EmptyItem</code>å¯¹è±¡çš„å­—æ®µä½œä¸ºè¡¨å¤´åç§°ã€‚</p><pre><code class="java">private static void writeNoAnnotation() {    final String fileName = defaultFileName(&quot;writeNoAnnotation&quot;);    EasyExcelFactory.write(fileName)            .head(EmptyItem.class)            .sheet(&quot;æ¨¡æ¿&quot;)            .doWrite(WriteSample::sampleItems);}</code></pre><blockquote><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒEasyExcelå¯¹äºè¡¨å¤´å¯¹è±¡ã€è¡¨ä½“åˆ—è¡¨å¯¹è±¡ï¼Œæ²¡æœ‰å¼ºåˆ¶è¦æ±‚å¿…é¡»æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œåªè¦å­—æ®µä¸€è‡´ï¼Œå°±èƒ½å¤Ÿæ­£å¸¸ç»„è£…æ•°æ®ã€‚</p></blockquote><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065847.png" alt="åŸå§‹è¡¨å¤´"></p><h3 id="è‡ªå®šä¹‰è¡¨å¤´"><a href="#è‡ªå®šä¹‰è¡¨å¤´" class="headerlink" title="è‡ªå®šä¹‰è¡¨å¤´"></a>è‡ªå®šä¹‰è¡¨å¤´</h3><p>ä½¿ç”¨å­—æ®µä½œä¸ºè¡¨å¤´æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼ŒEasyExcelæä¾›äº†<code>ExcelProperty</code>æ³¨è§£ï¼Œå¯ä»¥å®šä¹‰è¡¨å¤´çš„åç§°ã€‚è¿™ä¸ªæ³¨è§£è¿˜æä¾›äº†<code>index</code>ã€<code>order</code>ä¸¤ä¸ªå±æ€§ï¼Œå¯ä»¥å®šä¹‰åˆ—çš„ä½ç½®å’Œé¡ºåºã€‚</p><pre><code class="java">@Datapublic class IndexItem {    @ExcelProperty(value = &quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;, index = 1)    private String string;    @ExcelProperty(value = &quot;æ—¥æœŸæ ‡é¢˜&quot;, index = 3)    private Date date;    @ExcelProperty(value = &quot;æ•°å­—æ ‡é¢˜&quot;, index = 5)    private Double doubleData;}</code></pre><p>ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼š</p><pre><code class="java">private static void writeWithIndex() {    final String fileName = defaultFileName(&quot;writeWithIndex&quot;);    EasyExcelFactory.write(fileName)            .head(IndexItem.class)            .sheet(&quot;æ¨¡æ¿&quot;)            .doWrite(WriteSample::sampleItems);}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065911.png" alt="è‡ªå®šä¹‰è¡¨å¤´"></p><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨<code>ExcelProperty</code>æ³¨è§£æ—¶ï¼Œindexè¡¨ç¤ºå­—æ®µæ”¾ç½®ç¬¬å‡ åˆ—ï¼Œorderè¡¨ç¤ºé¡ºåºã€‚</p><p>æ ¹æ®indexå’Œorderçš„ä¸åŒè¯­ä¹‰ï¼Œå¯¹ä¸¤è€…çš„æ§åˆ¶ä¸åŒã€‚å¦‚æœindexç›¸åŒï¼Œç›´æ¥ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºç¨‹åºæ— æ³•åˆ¤æ–­è¿™ä¸ªåˆ—æ”¾é‚£ä¸ªå­—æ®µã€‚å¦‚æœindexå€¼ä¸­é—´æœ‰ç©ºçš„æ•°å­—ï¼Œå°±ä¼šå‡ºç°ç©ºåˆ—ã€‚å¦‚æœorderå’ŒindexåŒæ—¶ä½¿ç”¨ï¼Œindexä¼˜å…ˆå æ®ä½ç½®ï¼Œorderåšæ’åºã€‚index=-1çš„è¯ï¼Œä½¿ç”¨javaé»˜è®¤æ’åºï¼Œorderå€¼è¶Šå°ï¼Œåˆ—è¶Šé å‰ã€‚</p><p><code>ExcelProperty</code>çš„valueå±æ€§æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œç›¸å½“äºä¸€ä¸ªå­—æ®µå¯ä»¥å®šä¹‰å¤šä¸ªå¤´ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¤šçº§è¡¨å¤´ã€‚åŒæ—¶ï¼Œå¦‚æœä½ç½®ç›¸é‚»çš„åˆ—å®šä¹‰åˆ—æ˜ç›¸åŒï¼Œè¿˜ä¼šåˆå¹¶åˆ—ã€‚æ¯”å¦‚ï¼š</p><pre><code class="java">@Datapublic class ComplexHeadItem {    @ExcelProperty({&quot;å¤§æ ‡é¢˜&quot;, &quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;})    private String string;    @ExcelProperty(&quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @ExcelProperty({&quot;å¤§æ ‡é¢˜&quot;, &quot;æ•°å­—æ ‡é¢˜0&quot;})    private Double doubleData;    @ExcelProperty({&quot;æ•°å­—æ ‡é¢˜&quot;})    private Double doubleData1;    @ExcelProperty({&quot;æ•°å­—æ ‡é¢˜&quot;})    private Double doubleData2 = 0.0;}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004065935.png" alt="è‡ªå®šä¹‰è¡¨å¤´-åˆå¹¶"></p><h3 id="åŠ¨æ€è¡¨å¤´ã€è¡¨ä½“"><a href="#åŠ¨æ€è¡¨å¤´ã€è¡¨ä½“" class="headerlink" title="åŠ¨æ€è¡¨å¤´ã€è¡¨ä½“"></a>åŠ¨æ€è¡¨å¤´ã€è¡¨ä½“</h3><p>å‰é¢çš„ä¾‹å­ä¸­ï¼Œè¡¨å¤´å®šä¹‰éƒ½æ˜¯ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡è§£æå¯¹è±¡çš„å±æ€§å­—æ®µï¼ŒæŠ½å–è¡¨å¤´å®šä¹‰ã€‚æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•æå‰å®šä¹‰è¡¨å¤´å¯¹è±¡ï¼Œæˆ–è€…è¯´ï¼Œè¡¨å¤´æ˜¯æ ¹æ®æ¡ä»¶ã€æƒé™ç­‰å› ç´ åŠ¨æ€å˜åŒ–çš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨EasyExcelæä¾›çš„åŠ¨æ€è¡¨å¤´åŠŸèƒ½äº†ã€‚</p><pre><code class="java">/** * åŠ¨æ€è¡¨å¤´ï¼Œä¼ å…¥çš„æ˜¯{@code List&lt;List&lt;String&gt;&gt;}æ ¼å¼æ•°æ®ã€‚ * &lt;p&gt; * å¯ä»¥å®ç°å¤šå±‚è¡¨å¤´ã€‚ */private static void writeDynamicHead() {    String fileName = defaultFileName(&quot;writeDynamicHead&quot;);    EasyExcelFactory.write(fileName)            .head(dynamicHead())            .sheet()            .doWrite(sampleItems());}private static List&lt;List&lt;String&gt;&gt; dynamicHead() {    List&lt;List&lt;String&gt;&gt; heads = new ArrayList&lt;&gt;();    final List&lt;String&gt; head0 = new ArrayList&lt;&gt;(Arrays.asList(&quot;å¤´0&quot;, &quot;å­—ç¬¦ä¸²æ ‡é¢˜ã€åŠ¨æ€ã€‘&quot;));    heads.add(head0);    final List&lt;String&gt; head1 = new ArrayList&lt;&gt;(Arrays.asList(&quot;å¤´0&quot;, &quot;æ—¥æœŸæ ‡é¢˜ã€åŠ¨æ€ã€‘&quot;));    heads.add(head1);    final List&lt;String&gt; head2 = new ArrayList&lt;&gt;(Collections.singletonList(&quot;æ•°å­—æ ‡é¢˜ã€åŠ¨æ€ã€‘&quot;));    heads.add(head2);    return heads;}</code></pre><p>ä½¿ç”¨<code>com.alibaba.excel.metadata.AbstractParameterBuilder#head(java.util.List&lt;java.util.List&lt;java.lang.String&gt;&gt;)</code>æ–¹æ³•ï¼Œä¼ å…¥<code>List&lt;List&lt;String&gt;&gt;</code>ç±»å‹çš„æ•°æ®å³å¯ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070011.png" alt="åŠ¨æ€è¡¨å¤´ã€è¡¨ä½“"></p><p>å½“ç„¶ï¼Œè¿™æ ·åšè¿˜ä¸æ˜¯å½»åº•çš„åŠ¨æ€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>com.alibaba.excel.write.builder.ExcelWriterSheetBuilder#doWrite(java.util.Collection&lt;?&gt;)</code>å®ç°åŠ¨æ€è¡¨ä½“ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">private static void writeDynamicData() {    String fileName = defaultFileName(&quot;writeDynamicData&quot;);    EasyExcelFactory.write(fileName)            .head(dynamicHead())            .sheet()            .doWrite(dynamicData());}private static List&lt;List&lt;Object&gt;&gt; dynamicData() {    List&lt;List&lt;Object&gt;&gt; list = new ArrayList&lt;&gt;();    for (int i = 0; i &lt; 10; i++) {        List&lt;Object&gt; data = new ArrayList&lt;&gt;();        data.add(&quot;å­—ç¬¦ä¸²&quot; + i);        data.add(new Date());        data.add((i + 1) * 0.1);        list.add(data);    }    return list;}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070036.png" alt="åŠ¨æ€è¡¨å¤´ã€è¡¨ä½“"></p><h3 id="è¡¨å¤´å›½é™…åŒ–"><a href="#è¡¨å¤´å›½é™…åŒ–" class="headerlink" title="è¡¨å¤´å›½é™…åŒ–"></a>è¡¨å¤´å›½é™…åŒ–</h3><p>äº’è”ç½‘æ— å›½ç•Œï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å®ç°å›½é™…åŒ–ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€è¡¨å¤´åŠŸèƒ½ï¼Œä¼ å…¥ä¸åŒçš„è¡¨å¤´å®šä¹‰ï¼Œç”Ÿæˆä¸åŒçš„Excelæ–‡ä»¶ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æå‰å®šä¹‰è¡¨ä½“çš„æ ¼å¼ï¼Œä½¿ç”¨åŠ¨æ€è¡¨ä½“å¯ä»¥å®ç°ã€‚æœ‰æ²¡æœ‰æ›´åŠ ç®€å•æ–¹æ³•å‘¢ï¼Ÿå¿…é¡»æœ‰ã€‚</p><p>å…ˆå®šä¹‰æ ¼å¼åŒ–è¡¨å¤´å¯¹è±¡ï¼š</p><pre><code class="java">@Datapublic class FormatContentItem {    @ExcelProperty(value = &quot;å­—ç¬¦ä¸²æ ‡é¢˜&quot;, converter = TitleFormatConverter.class)    private String string;    @DateTimeFormat(&quot;yyyyå¹´MMæœˆddæ—¥HHæ—¶mmåˆ†ssç§’&quot;)    @ExcelProperty(value = &quot;æ—¥æœŸæ ‡é¢˜&quot;)    private Date date;    @NumberFormat(&quot;0.000%&quot;)    @ExcelProperty(&quot;æ•°å­—æ ‡é¢˜&quot;)    private Double doubleData;}</code></pre><p>å†å®ç°å›½é™…åŒ–ï¼š</p><pre><code class="java">/** * å¯ä»¥åŒæ—¶è®¾ç½®headå‚æ•°ï¼š * {@link AbstractParameterBuilder#head(java.util.List)} * {@link AbstractParameterBuilder#head(java.lang.Class)} * &lt;p&gt; * å¯¹äºè¡¨å¤´è®¾ç½®ï¼Œæœ€ç»ˆèµ·ä½œç”¨çš„æ˜¯{@link AbstractParameterBuilder#head(java.util.List)}ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å›½é™…åŒ–çš„é…ç½®ã€‚ */private static void writeDynamicMultiHead() {    String fileName = defaultFileName(&quot;writeDynamicMultiHead&quot;);    EasyExcelFactory.write(fileName)            .head(dynamicHead())            .head(FormatContentItem.class)            .sheet()            .doWrite(sampleItems());}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070102.png" alt="è¡¨å¤´å›½é™…åŒ–"></p><h2 id="å¤šæ¬¡å†™å…¥"><a href="#å¤šæ¬¡å†™å…¥" class="headerlink" title="å¤šæ¬¡å†™å…¥"></a>å¤šæ¬¡å†™å…¥</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸­åå°çš„æ•°æ®é‡éƒ½ä¸å°ï¼Œæœ‰æ—¶å€™éœ€è¦ä¸€æ¬¡å¯¼å‡ºå‡ åä¸‡è¡Œæ•°æ®ï¼Œç”šè‡³æ›´å¤šï¼Œè€Œè¿™ç§æ“ä½œå¹¶ä¸æ˜¯å¸¸æ€ï¼Œå¦‚æœå†…å­˜é…ç½®æ¯”è¾ƒå¤§ï¼Œé‚£å¤§å¤šæ•°æ—¶é—´å†…å­˜éƒ½æ˜¯é—²ç½®çŠ¶æ€ã€‚æ­¤æ—¶ï¼Œå°±å¯ä»¥å€ŸåŠ©EasyExcelçš„æ–‡ä»¶ç¼“å­˜èƒ½åŠ›ï¼Œåˆ†æ‰¹å†™å…¥æ•°æ®ã€‚</p><h3 id="å‘åŒä¸€ä¸ªexcelåŒä¸€ä¸ªsheetä¸­å¤šæ¬¡å†™å…¥"><a href="#å‘åŒä¸€ä¸ªexcelåŒä¸€ä¸ªsheetä¸­å¤šæ¬¡å†™å…¥" class="headerlink" title="å‘åŒä¸€ä¸ªexcelåŒä¸€ä¸ªsheetä¸­å¤šæ¬¡å†™å…¥"></a>å‘åŒä¸€ä¸ªexcelåŒä¸€ä¸ªsheetä¸­å¤šæ¬¡å†™å…¥</h3><p>é¦–å…ˆæ˜¯æ¯”è¾ƒå¸¸è§çš„åœºæ™¯ï¼Œå‘ä¸€ä¸ªsheetå·¥ä½œè¡¨ä¸­åˆ†æ‰¹å†™å…¥æ•°æ®ã€‚</p><pre><code class="java">private static void writeOneSheet() {    String fileName = defaultFileName(&quot;writeOneSheet&quot;);    ExcelWriter excelWriter = null;    try {        excelWriter = EasyExcelFactory.write(fileName)                .head(Item.class)                .build();        final WriteSheet writeSheet = EasyExcelFactory.writerSheet(&quot;æ¨¡æ¿&quot;).build();        for (int i = 0; i &lt; 5; i++) {            excelWriter.write(sampleItems(), writeSheet);        }    } finally {        // åƒä¸‡åˆ«å¿˜è®°finish ä¼šå¸®å¿™å…³é—­æµ        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>é¦–å…ˆå®šä¹‰<code>ExcelWriter</code>å¯ä»¥æ“ä½œæ•´ä¸ªExcelå·¥ä½œç°¿ï¼Œç„¶åå®šä¹‰<code>ExcelWriter</code>sheetå·¥ä½œè¡¨ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¾ªç¯è°ƒç”¨<code>com.alibaba.excel.ExcelWriter.write(java.util.Collection&lt;?&gt;, com.alibaba.excel.write.metadata.WriteSheet)</code>æ–¹æ³•ï¼Œå°†æ•°æ®å†™å…¥åˆ°æŒ‡å®šçš„sheetå·¥ä½œè¡¨ä¸­ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ€åä¸€å®šè¦è°ƒç”¨<code>com.alibaba.excel.ExcelWriter.finish</code>æ–¹æ³•ï¼Œè¡¨ç¤ºåœæ­¢å†™å…¥å¹¶å…³é—­æµã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070128.png" alt="å‘åŒä¸€ä¸ªexcelåŒä¸€ä¸ªsheetä¸­å¤šæ¬¡å†™å…¥"></p><h3 id="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ç›¸åŒï¼‰"><a href="#å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ç›¸åŒï¼‰" class="headerlink" title="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ç›¸åŒï¼‰"></a>å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ç›¸åŒï¼‰</h3><p>è¿˜æœ‰ä¸€ç§åœºæ™¯æ˜¯æŒ‰æœˆå¯¼å‡ºå…¨å¹´çš„è®¢å•æ•°æ®ï¼Œæ¯ä¸ªæœˆä¸€ä¸ªsheetå·¥ä½œè¡¨ï¼Œè¿™ç§å¯¼å‡ºçš„æ–¹å¼ï¼Œè¡¨å¤´éƒ½æ˜¯ç›¸åŒçš„ã€‚æ ¹æ®ä¸Šé¢çš„ç»éªŒï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¤šä¸ª<code>WriteSheet</code>å·¥ä½œè¡¨å¯¹è±¡ï¼Œç„¶åå‘è¯¥å¯¹è±¡ä¸­å†™æ•°æ®ã€‚</p><p>è¿™é‡Œè¿˜å¯èƒ½æœ‰ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯æˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ª<code>WriteSheet</code>å·¥ä½œè¡¨å¯¹è±¡ä¹‹é—´åˆ‡æ¢å†™å…¥ï¼Œä¸ºäº†ä¸ä¼šæ‰¾é”™å¯¹è±¡ï¼Œå¯ä»¥æŒ‡å®š<code>sheetNo</code>ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">private static void writeDiffSheetWithSameHead() {    String fileName = defaultFileName(&quot;writeDiffSheetWithSameHead&quot;);    ExcelWriter excelWriter = null;    try {        excelWriter = EasyExcelFactory.write(fileName)                .head(Item.class)                .build();        for (int i = 0; i &lt; 5; i++) {            final WriteSheet writeSheet = EasyExcelFactory.writerSheet(i, &quot;æ¨¡æ¿&quot; + i)                    .build();            excelWriter.write(sampleItems(), writeSheet);        }    } finally {        // åƒä¸‡åˆ«å¿˜è®°finish ä¼šå¸®å¿™å…³é—­æµ        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070152.png" alt="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ç›¸åŒï¼‰"></p><p><img src="https://static.howardliu.cn/20211004070212.png" alt="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ç›¸åŒï¼‰"></p><h3 id="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ä¸åŒï¼‰"><a href="#å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ä¸åŒï¼‰" class="headerlink" title="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ä¸åŒï¼‰"></a>å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ä¸åŒï¼‰</h3><p>è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œå¯¼å‡ºæŒ‡å®šæ—¶é—´èŒƒå›´çš„è®¢å•ä¿¡æ¯ï¼Œä¸€ä¸ªsheetå·¥ä½œè¡¨æ”¾å…·ä½“çš„å•†å“ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªsheetå·¥ä½œè¡¨æ”¾è®¢å•æ”¶è´§åœ°å€ä¿¡æ¯ã€‚è¿™ç§åœºæ™¯å°±éœ€è¦ä¸åŒçš„è¡¨å¤´ï¼Œæ ¹æ®å‰é¢çš„è®²è§£ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåªéœ€è¦åœ¨å®šä¹‰<code>WriteSheet</code>å¯¹è±¡æ—¶æŒ‡å®šä¸åŒçš„è¡¨å¤´å¯¹è±¡å³å¯ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">private static void writeDiffSheetWithDiffHead() {    String fileName = defaultFileName(&quot;writeDiffSheetWithDiffHead&quot;);    ExcelWriter excelWriter = null;    try {        excelWriter = EasyExcelFactory.write(fileName)                .build();        final WriteSheet writeSheet0 = EasyExcelFactory.writerSheet(0, &quot;æ¨¡æ¿1&quot;)                .head(Item.class)                .build();        excelWriter.write(sampleItems(), writeSheet0);        final WriteSheet writeSheet1 = EasyExcelFactory.writerSheet(1, &quot;æ¨¡æ¿2&quot;)                .head(ComplexHeadItem.class)                .build();        excelWriter.write(sampleItems(), writeSheet1);    } finally {        // åƒä¸‡åˆ«å¿˜è®°finish ä¼šå¸®å¿™å…³é—­æµ        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070229.png" alt="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ä¸åŒï¼‰"></p><p><img src="https://static.howardliu.cn/20211004070246.png" alt="å‘åŒä¸€ä¸ªexcelä¸åŒsheetä¸­å¤šæ¬¡å†™å…¥ï¼ˆè¡¨å¤´ä¸åŒï¼‰"></p><h2 id="å®ç°å¤šè¡¨"><a href="#å®ç°å¤šè¡¨" class="headerlink" title="å®ç°å¤šè¡¨"></a>å®ç°å¤šè¡¨</h2><p>EasyExcelå¯¹äºExcelæ–‡ä»¶å®šä¹‰åˆ†æˆäº†ä¸‰å±‚ï¼Œ</p><ol><li>å·¥ä½œç°¿ï¼Œä¹Ÿå°±æ˜¯Excelæ–‡ä»¶</li><li>å·¥ä½œè¡¨ï¼Œå¯¹åº”æ˜¯Excelæ–‡ä»¶ä¸­çš„Sheet</li><li>è¡¨æ ¼ï¼Œå¯¹åº”æ˜¯Sheetä¸­çš„æœ‰è¡¨å¤´ã€è¡¨ä½“çš„ç»„åˆ</li></ol><p>è¿™é‡Œæ‰€è¯´çš„åŠŸèƒ½å°±æ˜¯åœ¨ä¸€ä¸ªSheetä¸­åˆ›å»ºå¤šä¸ªè¡¨æ ¼ã€‚</p><h3 id="åŒä¸€è¡¨å•ä¸­åˆ›å»ºè¡¨æ ¼"><a href="#åŒä¸€è¡¨å•ä¸­åˆ›å»ºè¡¨æ ¼" class="headerlink" title="åŒä¸€è¡¨å•ä¸­åˆ›å»ºè¡¨æ ¼"></a>åŒä¸€è¡¨å•ä¸­åˆ›å»ºè¡¨æ ¼</h3><p>è¿™ä¸ªæ˜¯å¼€èƒƒèœï¼Œæ¼”ç¤ºä¸€ä¸‹æ€ä¹ˆå•ç‹¬æŒ‡å®šè¡¨æ ¼ã€‚</p><pre><code class="java">private static void writeTable() {    String fileName = defaultFileName(&quot;writeTable&quot;);    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName)            .head(Item.class)            .build();    try {        // æŠŠsheetè®¾ç½®ä¸ºä¸éœ€è¦å¤´ ä¸ç„¶ä¼šè¾“å‡ºsheetçš„å¤´ è¿™æ ·çœ‹èµ·æ¥ç¬¬ä¸€ä¸ªtable å°±æœ‰2ä¸ªå¤´äº†        WriteSheet writeSheet = EasyExcelFactory.writerSheet()                .needHead(Boolean.FALSE)                .build();        // è¿™é‡Œå¿…é¡»æŒ‡å®šéœ€è¦å¤´ï¼Œtable ä¼šç»§æ‰¿sheetçš„é…ç½®ï¼Œsheeté…ç½®äº†ä¸éœ€è¦ï¼Œtable é»˜è®¤ä¹Ÿæ˜¯ä¸éœ€è¦        WriteTable writeTable0 = EasyExcelFactory.writerTable(0)                .needHead(Boolean.TRUE)                .build();        excelWriter.write(sampleItems(), writeSheet, writeTable0);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†å‰é¢æè¿‡çš„<code>ExcelWriter</code>å’Œ<code>WriteSheet</code>ï¼Œè¿™é‡Œè¿˜ç”¨åˆ°äº†<code>WriteTable</code>ï¼Œè¿™ä¸ªå°±æ˜¯è¡¨æ ¼çš„å†™å¯¹è±¡ã€‚æœ‰äº†è¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬åªè¦å¤šåˆ›å»ºå‡ ä¸ªï¼Œå°±èƒ½å¤Ÿå®ç°åœ¨ä¸€ä¸ªSheetå·¥ä½œè¡¨ä¸­ï¼Œåˆ›å»ºå¤šä¸ªè¡¨æ ¼çš„åŠŸèƒ½ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070309.png" alt="åŒä¸€è¡¨å•ä¸­åˆ›å»ºè¡¨æ ¼"></p><p>ä¸å‰é¢çš„ä¾‹å­å®Œå…¨æ²¡æœ‰å·®åˆ«ï¼Œæ¡æ¡å¤§è·¯é€šç½—é©¬ã€‚</p><h3 id="åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆç›¸åŒè¡¨å¤´ï¼‰"><a href="#åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆç›¸åŒè¡¨å¤´ï¼‰" class="headerlink" title="åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆç›¸åŒè¡¨å¤´ï¼‰"></a>åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆç›¸åŒè¡¨å¤´ï¼‰</h3><p>æœ‰äº†ä¸Šé¢çš„é“ºå«ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Šä»£ç ï¼š</p><pre><code class="java">private static void writeTables() {    String fileName = defaultFileName(&quot;writeTables&quot;);    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName)            .build();    try {        // æŠŠsheetè®¾ç½®ä¸ºä¸éœ€è¦å¤´ ä¸ç„¶ä¼šè¾“å‡ºsheetçš„å¤´ è¿™æ ·çœ‹èµ·æ¥ç¬¬ä¸€ä¸ªtable å°±æœ‰2ä¸ªå¤´äº†        WriteSheet writeSheet = EasyExcelFactory.writerSheet()                .head(Item.class)                .needHead(Boolean.FALSE)                .build();        // è¿™é‡Œå¿…é¡»æŒ‡å®šéœ€è¦å¤´ï¼Œtable ä¼šç»§æ‰¿sheetçš„é…ç½®ï¼Œsheeté…ç½®äº†ä¸éœ€è¦ï¼Œtable é»˜è®¤ä¹Ÿæ˜¯ä¸éœ€è¦        WriteTable writeTable0 = EasyExcelFactory.writerTable(0)                .needHead(Boolean.TRUE)                .build();        WriteTable writeTable1 = EasyExcelFactory.writerTable(1)                .needHead(Boolean.TRUE)                .build();        // ç¬¬ä¸€æ¬¡å†™å…¥ä¼šåˆ›å»ºå¤´        excelWriter.write(sampleItems(), writeSheet, writeTable0);        // ç¬¬äºŒæ¬¡å†™å¦‚ä¹Ÿä¼šåˆ›å»ºå¤´ï¼Œç„¶ååœ¨ç¬¬ä¸€æ¬¡çš„åé¢å†™å…¥æ•°æ®        excelWriter.write(sampleItems(), writeSheet, writeTable1);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>å› ä¸ºä½¿ç”¨çš„æ˜¯ç›¸åŒçš„è¡¨å¤´ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨<code>WriteSheet</code>ä¸­å®šä¹‰è¡¨å¤´å¯¹è±¡ï¼Œé€šè¿‡ç»§æ‰¿çš„æ–¹å¼ï¼Œå®ç°ä¸¤ä¸ªè¡¨æ ¼çš„è¡¨å¤´æ˜¯ç›¸åŒçš„ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œ<code>WriteSheet</code>æ„å»ºæ—¶ï¼Œè®¾ç½®<code>needHead(Boolean.FALSE)</code>ï¼Œå¦‚æœä¸è®¾ç½®æˆ–è€…è®¾ç½®ä¸ºtrueï¼Œé‚£ç¬¬ä¸€ä¸ªè¡¨æ ¼å°±ä¼šæœ‰ä¸¤ä¸ªè¡¨å¤´ã€‚</p><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070331.png" alt="åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆç›¸åŒè¡¨å¤´ï¼‰"></p><h3 id="åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆä¸åŒè¡¨å¤´ï¼‰"><a href="#åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆä¸åŒè¡¨å¤´ï¼‰" class="headerlink" title="åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆä¸åŒè¡¨å¤´ï¼‰"></a>åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆä¸åŒè¡¨å¤´ï¼‰</h3><p>ä¸¾ä¸€åä¸‰ï¼Œå¯¹äºä¸åŒè¡¨å¤´ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸º<code>WriteTable</code>å¯¹è±¡è®¾ç½®ä¸åŒè¡¨å¤´å³å¯ï¼š</p><pre><code class="java">private static void writeTablesWithDiffHead() {    String fileName = defaultFileName(&quot;writeTablesWithDiffHead&quot;);    final ExcelWriter excelWriter = EasyExcelFactory.write(fileName)            .build();    try {        WriteSheet writeSheet = EasyExcelFactory.writerSheet()                .build();        WriteTable writeTable0 = EasyExcelFactory.writerTable(0)                .head(Item.class)                .build();        excelWriter.write(sampleItems(), writeSheet, writeTable0);        WriteTable writeTable1 = EasyExcelFactory.writerTable(1)                .head(ComplexHeadItem.class)                .build();        excelWriter.write(sampleItems(), writeSheet, writeTable1);    } finally {        if (excelWriter != null) {            excelWriter.finish();        }    }}</code></pre><p>ç»“æœä¸ºï¼š</p><p><img src="https://static.howardliu.cn/20211004070353.png" alt="åŒä¸€è¡¨å•ä¸­åˆ›å»ºä¸åŒè¡¨æ ¼ï¼ˆä¸åŒè¡¨å¤´ï¼‰"></p><h2 id="å†™å…¥æ¨¡æ¿æ–‡ä»¶ï¼ˆéå¡«å……ï¼‰"><a href="#å†™å…¥æ¨¡æ¿æ–‡ä»¶ï¼ˆéå¡«å……ï¼‰" class="headerlink" title="å†™å…¥æ¨¡æ¿æ–‡ä»¶ï¼ˆéå¡«å……ï¼‰"></a>å†™å…¥æ¨¡æ¿æ–‡ä»¶ï¼ˆéå¡«å……ï¼‰</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰ç…§æŸç§æ¨¡æ¿å¯¼å‡ºæ•°æ®ï¼Œè¿™ç±»æ¨¡æ¿æ–‡ä»¶å±äºå›ºå®šæ ·å¼ï¼Œæ²¡æœ‰åŠ¨æ€æ•°æ®ã€‚æ¯”å¦‚å‰é¢å‡ è¡Œæ˜¯æ ‡é¢˜ã€æƒé™å£°æ˜ã€è´£ä»»å£°æ˜ä¹‹ç±»çš„ï¼Œç´§è·Ÿç€å°±æ˜¯åˆ—è¡¨æ•°æ®ã€‚å¦‚æœå…¨é æ‰‹å·¥æ‹¼å†™æ•°æ®æ¯”è¾ƒç¹çï¼ŒEasyExcelæä¾›äº†å†™å…¥æ¨¡æ¿æ–‡ä»¶çš„æ–¹å¼ã€‚å…ˆçœ‹ä»£ç ï¼š</p><pre><code class="java">private static void writeByTemplate() {    String fileName = defaultFileName(&quot;writeByTemplate&quot;);    String templateFile = getPath() + File.separator + &quot;template_write_after_fill.xlsx&quot;;    EasyExcelFactory.write(fileName)            .withTemplate(templateFile)            .head(Item.class)            .sheet()            .doWrite(sampleItems());}</code></pre><p>éœ€è¦ä½¿ç”¨<code>com.alibaba.excel.write.builder.ExcelWriterBuilder#withTemplate(java.lang.String)</code>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚withTemplateæ–¹æ³•æœ‰å‡ ä¸ªé‡è½½å®ç°ï¼š</p><ol><li>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è·¯å¾„<code>ExcelWriterBuilder#withTemplate(java.lang.String)</code></li><li>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶å¯¹è±¡<code>ExcelWriterBuilder#withTemplate(java.io.File)</code></li><li>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è¾“å…¥æµ<code>ExcelWriterBuilder#withTemplate(java.io.InputStream)</code></li></ol><p>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶å’Œæ¨¡æ¿æ–‡ä»¶å¯¹è±¡éƒ½æ˜¯æ“ä½œæ–‡ä»¶çš„ï¼Œéœ€è¦æœ‰æ–‡ä»¶ä¿¡æ¯ã€‚</p><p>æŒ‡å®šæ¨¡æ¿æ–‡ä»¶è¾“å…¥æµæ˜¯åªè¦æ–‡ä»¶æµï¼Œè¿™ä¸ªå¯æ“ä½œæ€§ç©ºé—´å°±æ¯”è¾ƒå¤§äº†ã€‚æ¯”å¦‚ï¼Œæ¨¡æ¿æ–‡ä»¶æ˜¯å¯å˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºä¸€ä¸ªå¸¦å˜é‡çš„æ¨¡æ¿æ–‡ä»¶ï¼Œä½¿ç”¨å¡«å……å†™å…¥çš„æ–¹å¼åˆå§‹åŒ–æ¨¡æ¿æ–‡ä»¶ï¼Œç„¶åå†ç”¨æ¨¡æ¿å†™å…¥çš„æ–¹å¼ï¼Œå†™å…¥åˆ—è¡¨ã€‚ï¼ˆè¿™ä¸ªä¼šåœ¨æŠ€å·§ç¯‡ä¸­è¯¦ç»†è¯´æ˜ï¼‰</p><p>ä»£ç ä¸­çš„æ¨¡æ¿æ–‡ä»¶å†…å®¹ï¼š</p><p><img src="https://static.howardliu.cn/20211004070420.png" alt="å†™å…¥æ¨¡æ¿æ–‡ä»¶ï¼ˆéå¡«å……ï¼‰"></p><p>å¯¼å‡ºæ–‡ä»¶çš„å†…å®¹ï¼š</p><p><img src="https://static.howardliu.cn/20211004070440.png" alt="å†™å…¥æ¨¡æ¿æ–‡ä»¶ï¼ˆéå¡«å……ï¼‰"></p><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ–¹å¼å†™å…¥çš„åˆ—è¡¨æ˜¯ä»¥è¿½åŠ çš„æ–¹å¼å†™å…¥ï¼ŒåŸæœ‰çš„æ¨¡æ¿å†…å®¹ä¸ä¼šä¿®æ”¹ï¼Œä¼šä»ç¬¬ä¸€è¡Œç©ºç™½è¡Œå¼€å§‹å†™åˆ—è¡¨ä¿¡æ¯ã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>æœ¬æ–‡ä»å®æˆ˜è§’åº¦è¯´äº†ä¸€ä¸‹ EasyExcel å¦‚æœå®ç°å†™è¡¨æ ¼ï¼Œæ¥ä¸‹æ¥ä¼šè®²è§£ä¸€ä¸‹å¦‚ä½•æ›´å¥½çœ‹çš„å†™ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰</a></li><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-write-pretty/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆæ—¢è¦èƒ½å†™ï¼Œè¿˜è¦å†™çš„å¥½çœ‹ï¼‰</a></li><li><a href="https://www.howardliu.cn/effective-java-easyexcel-action-fill/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®©Excelå¯¼å‡ºä¸å†å¤æ‚ï¼ˆå¡«å……æ¨¡æ¿çš„ä½¿ç”¨æŒ‡å—ï¼‰</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/effective-java-easyexcel-action-write/">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/120600688" target="_blank" rel="noopener">é˜¿é‡Œå¼€æºçš„è¿™ä¸ªåº“ï¼Œè®© Excel å¯¼å‡ºä¸å†å¤æ‚ï¼ˆç®€ç®€å•å•çš„å†™ï¼‰</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      ä»Šå¤©è¦è¯´çš„EasyExcelé˜¿é‡Œå·´å·´å¼€æºçš„Excelå¯¼å‡ºç±»åº“ï¼Œæ˜¯å¯¹POIçš„å°è£…ï¼Œå®ç°äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½ï¼Œå¹¶ä¸”ç•™å‡ºæ‰©å±•å£ï¼Œæ”¯æŒæ‰©å±•å®šåˆ¶åŒ–åŠŸèƒ½ã€‚æ‰“ä¸ªæ¯”å–»ï¼ŒPOIç›¸å½“äºä¹é«˜ç§¯æœ¨ï¼Œä¸€ä¸ªä¸ªçš„å°ç§¯æœ¨å¯ä»¥è‡ªç”±ç»„è£…ï¼Œåªèƒ½åŠ¨æ‰‹èƒ½åŠ›å¼ºï¼Œå°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ç»„è£…ã€‚EasyExcelæ›´åƒæ˜¯æŠŠè¿™äº›å°ç§¯æœ¨æå‰ç»„è£…å¥½ï¼Œæƒ³è¦æ­å»ºæˆ¿å­ï¼Œå°±ç›´æ¥æ‰¾ç»„è£…å¥½çš„å±‹é¡¶ã€å›´å¢™å°±è¡Œã€‚å¦‚æœä»…ä»…å¦‚æ­¤ï¼Œé‚£EasyExcelä»…ä»…å°±æ˜¯ç®€å•çš„å·¥å…·åŒ…ï¼Œå…¶æ›´åŠ å¸å¼•äººçš„åœ°æ–¹æ˜¯å¯¹äºå†…å­˜çš„æ§åˆ¶ï¼Œå®ƒé€šè¿‡å‹ç¼©æ–‡ä»¶ã€åˆ†æ‰¹è¯»å–ã€æŠ›å¼ƒä¸é‡è¦æ•°æ®ã€æ–‡ä»¶ç¼“å­˜ç­‰å¤šç§æ–¹å¼ï¼Œé™ä½å†…å­˜æ¶ˆè€—ã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="Effective Java" scheme="https://www.howardliu.cn/tags/Effective-Java/"/>
    
      <category term="EasyExcel" scheme="https://www.howardliu.cn/tags/EasyExcel/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºå¾®æœåŠ¡ç³»ç»Ÿä¸­æ•°æ®ä¸€è‡´æ€§çš„æ€»ç»“</title>
    <link href="https://www.howardliu.cn/data-consistency-in-microservices/"/>
    <id>https://www.howardliu.cn/data-consistency-in-microservices/</id>
    <published>2021-09-17T14:29:58.000Z</published>
    <updated>2021-09-17T14:29:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static.howardliu.cn/20200714212210.png" alt="å…³äºå¾®æœåŠ¡ç³»ç»Ÿä¸­æ•°æ®ä¸€è‡´æ€§çš„æ€»ç»“"></p><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>ä»å•ä½“æ¶æ„åˆ°åˆ†å¸ƒå¼æ¶æ„ï¼Œä»å·¨çŸ³æ¶æ„åˆ°å¾®æœåŠ¡æ¶æ„ã€‚ç³»ç»Ÿä¹‹é—´çš„äº¤äº’è¶Šæ¥è¶Šå¤æ‚ï¼Œç³»ç»Ÿé—´çš„æ•°æ®äº¤äº’é‡çº§ä¹Ÿæ˜¯æŒ‡æ•°çº§å¢é•¿ã€‚ä½œä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬è¦ä¿è¯é€»è¾‘çš„è‡ªæ´½å’Œæ•°æ®çš„è‡ªæ´½ã€‚</p><a id="more"></a><p>æ•°æ®è‡ªæ´½æœ‰ä¸¤æ–¹é¢è¦æ±‚ï¼š</p><ol><li>æŠ›å¼€ä»£ç ï¼Œæ•°æ®èƒ½å¤Ÿè‡ªå·±éªŒè¯è‡ªå·±çš„å‡†ç¡®æ€§ï¼Œä¹Ÿå°±æ˜¯æ•°æ®å½¼æ­¤ä¹‹é—´ä¸çŸ›ç›¾</li><li>æ‰€æœ‰æ•°æ®å‡†ç¡®ä¸”ç¬¦åˆæœŸæœ›</li></ol><p>ä¸ºäº†å®ç°è¿™ä¸¤ç‚¹ï¼Œéœ€è¦å®ç°æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¸ºäº†å®ç°ä¸€è‡´æ€§ï¼Œå°±éœ€è¦ç”¨åˆ°äº‹åŠ¡ã€‚</p><p>éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œæœ¬æ–‡æ‰€è®¾è®¡çš„æ•°æ®ä¸€è‡´æ€§ï¼Œä¸æ˜¯å¤šæ•°æ®å‰¯æœ¬ä¹‹é—´ä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼Œè€Œæ˜¯ç³»ç»Ÿä¹‹é—´çš„ä¸šåŠ¡æ•°æ®ä¿æŒä¸€è‡´æ€§ã€‚</p><h2 id="æœ¬åœ°äº‹åŠ¡"><a href="#æœ¬åœ°äº‹åŠ¡" class="headerlink" title="æœ¬åœ°äº‹åŠ¡"></a>æœ¬åœ°äº‹åŠ¡</h2><p>åœ¨æ—©æœŸçš„ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…³ç³»å‹æ•°æ®åº“çš„äº‹åŠ¡ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚è¿™ç§äº‹åŠ¡æœ‰å››ä¸ªåŸºæœ¬è¦ç´ ï¼šACIDã€‚</p><ul><li>Aï¼ˆAtomicityï¼ŒåŸå­æ€§ï¼‰ï¼šæ•´ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œä¸å¯èƒ½åœæ»åœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚</li><li>Cï¼ˆConsistencyï¼Œä¸€è‡´æ€§ï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡å¯ä»¥å°è£…çŠ¶æ€æ”¹å˜ï¼ˆé™¤éå®ƒæ˜¯ä¸€ä¸ªåªè¯»çš„ï¼‰ã€‚äº‹åŠ¡å¿…é¡»å§‹ç»ˆä¿æŒç³»ç»Ÿå¤„äºä¸€è‡´çš„çŠ¶æ€ï¼Œä¸ç®¡åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´å¹¶å‘äº‹åŠ¡æœ‰å¤šå°‘ã€‚</li><li>Iï¼ˆIsolationï¼Œéš”ç¦»æ€§ï¼‰ï¼šéš”ç¦»çŠ¶æ€æ‰§è¡Œäº‹åŠ¡ï¼Œä½¿å®ƒä»¬å¥½åƒæ˜¯ç³»ç»Ÿåœ¨ç»™å®šæ—¶é—´å†…æ‰§è¡Œçš„å”¯ä¸€æ“ä½œã€‚å¦‚æœæœ‰ä¸¤ä¸ªäº‹åŠ¡ï¼Œè¿è¡Œåœ¨ç›¸åŒçš„æ—¶é—´å†…ï¼Œæ‰§è¡Œç›¸åŒçš„åŠŸèƒ½ï¼Œäº‹åŠ¡çš„éš”ç¦»æ€§å°†ç¡®ä¿æ¯ä¸€äº‹åŠ¡åœ¨ç³»ç»Ÿä¸­è®¤ä¸ºåªæœ‰è¯¥äº‹åŠ¡åœ¨ä½¿ç”¨ç³»ç»Ÿã€‚è¿™ç§å±æ€§æœ‰æ—¶ç§°ä¸ºä¸²è¡ŒåŒ–ï¼Œä¸ºäº†é˜²æ­¢äº‹åŠ¡æ“ä½œé—´çš„æ··æ·†ï¼Œå¿…é¡»ä¸²è¡ŒåŒ–æˆ–åºåˆ—åŒ–è¯·æ±‚ï¼Œä½¿å¾—åœ¨åŒä¸€æ—¶é—´ä»…æœ‰ä¸€ä¸ªè¯·æ±‚ç”¨äºåŒä¸€æ•°æ®ã€‚</li><li>Dï¼ˆDurabilityï¼ŒæŒä¹…æ€§ï¼‰ï¼šåœ¨äº‹åŠ¡å®Œæˆä»¥åï¼Œè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€ä½œçš„æ›´æ”¹ä¾¿æŒä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ï¼Œå¹¶ä¸ä¼šè¢«å›æ»šã€‚</li></ul><p>è¿™å››ä¸ªè¦ç´ æ˜¯å…³ç³»å‹æ•°æ®åº“çš„æ ¹æœ¬ã€‚æ— è®ºç³»ç»Ÿå¤šä¹ˆå¤æ‚ï¼Œåªè¦ä½¿ç”¨åŒä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©äº‹åŠ¡ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚åŸºäºå¯¹å…³ç³»å‹æ•°æ®åº“çš„ä¿¡ä»»ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæœ¬åœ°äº‹åŠ¡æ˜¯å¯é çš„ï¼Œå¼€å‘è¿‡ç¨‹ä¸­ä¸éœ€è¦é¢å¤–çš„å·¥ä½œã€‚ä»æ¶æ„çš„è§’åº¦ï¼Œå…³ç³»å‹æ•°æ®åº“ä¹Ÿæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç³»ç»Ÿï¼Œé‚£å…³ç³»å‹æ•°æ®åº“ä¸åº”ç”¨ä¹‹é—´ä¹Ÿæ˜¯å½¢æˆäº†åˆ†å¸ƒå¼ã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆç ”ç©¶ä¸€ä¸‹è¿™ç§ç®€å•çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¦‚ä½•å®ç° ACIDã€‚</p><p>é¦–å…ˆï¼ŒAï¼ˆåŸå­æ€§ï¼‰å’Œ Dï¼ˆæŒä¹…æ€§ï¼‰æ˜¯å½¼æ­¤ä¹‹é—´å¯†ä¸å¯åˆ†çš„ä¸¤ä¸ªå±æ€§ï¼šåŸå­æ€§ä¿è¯äº†äº‹åŠ¡çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œä¸å¯èƒ½åœæ»åœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ï¼›æŒä¹…æ€§ä¿è¯äº†ä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€ä½œçš„æ›´æ”¹ä¾¿æŒä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ï¼Œä¸ä¼šå› ä¸ºä»»ä½•åŸå› è€Œå¯¼è‡´å…¶ä¿®æ”¹çš„å†…å®¹è¢«æ’¤é”€æˆ–ä¸¢å¤±ã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæ•°æ®å¿…é¡»å†™å…¥åˆ°ç£ç›˜åæ‰èƒ½ä¿è¯æŒä¹…åŒ–ï¼Œä»…ä»…ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸€æ—¦å‡ºç°ç³»ç»Ÿå´©æºƒã€ä¸»æœºæ–­ç”µç­‰æƒ…å†µï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ã€‚æ‰€ä»¥ï¼Œå…³é”®æ˜¯â€œå†™å…¥ç£ç›˜â€è¦å®ç°åŸå­æ€§å’ŒæŒä¹…æ€§ï¼Œç„¶è€Œè¿™ä¸ªåŠ¨ä½œå­˜åœ¨ä¸­é—´æ€ï¼šæ­£åœ¨å†™å…¥ã€‚æ‰€ä»¥ï¼Œç°ä»£çš„å…³ç³»å‹æ•°æ®åº“é€šå¸¸é‡‡ç”¨è¿½åŠ æ—¥å¿—è®°å½•çš„æ–¹å¼ã€‚å°†ä¿®æ”¹æ•°æ®æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¿®æ”¹ä»€ä¹ˆæ•°æ®ã€æ•°æ®ç‰©ç†ä¸Šä½äºå“ªä¸ªå†…å­˜é¡µå’Œç£ç›˜å—ä¸­ã€ä»ä»€ä¹ˆå€¼æ”¹æˆä»€ä¹ˆå€¼ï¼Œç­‰ç­‰ï¼‰ï¼Œä»¥é¡ºåºè¿½åŠ çš„å½¢å¼è®°å½•åˆ°ç£ç›˜ä¸­ã€‚åªæœ‰åœ¨æ—¥å¿—è®°å½•å…¨éƒ¨è½ç›˜ï¼Œæ•°æ®åº“åœ¨æ—¥å¿—ä¸­çœ‹åˆ°ä»£è¡¨äº‹åŠ¡æˆåŠŸæäº¤çš„â€œæäº¤è®°å½•â€åï¼Œæ‰ä¼šæ ¹æ®æ—¥å¿—ä¸Šçš„ä¿¡æ¯å¯¹çœŸæ­£çš„æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚ä¿®æ”¹å®Œæˆåï¼Œå†åœ¨æ—¥å¿—ä¸­åŠ å…¥ä¸€æ¡â€œç»“æŸè®°å½•â€è¡¨ç¤ºäº‹åŠ¡å·²å®ŒæˆæŒä¹…åŒ–ï¼Œè¿™ç§äº‹åŠ¡å®ç°æ–¹æ³•è¢«ç§°ä¸ºâ€œæäº¤æ—¥å¿—â€ã€‚</p><p><img src="https://static.howardliu.cn/20210917175145.png" alt="æœ¬åœ°äº‹åŠ¡"></p><p>æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡æ—¥å¿—ä¿è¯ä¸€ä¸ªäº‹åŠ¡çš„åŸå­æ€§å’ŒæŒä¹…æ€§ï¼Œé‚£å¦‚æœå‡ºç°å¤šä¸ªäº‹åŠ¡è®¿é—®åŒä¸€ä¸ªèµ„æºå‘¢ï¼Ÿä½œä¸ºç¨‹åºçŒ¿éƒ½çŸ¥é“ï¼Œå¤šä¸ªçº¿ç¨‹/è¿›ç¨‹è®¿é—®åŒä¸€ä¸ªèµ„æºï¼Œè¿™ä¸ªèµ„æºå°±ç§°ä¸ºä¸´ç•Œèµ„æºï¼Œæƒ³è¦è§£å†³ä¸´ç•Œèµ„æºå ç”¨å†²çªçš„æ–¹å¼å¾ˆç®€å•ï¼Œå°±æ˜¯åŠ é”ã€‚å…³ç³»å‹æ•°æ®åº“ä¸ºæˆ‘ä»¬å‡†å¤‡äº†ä¸‰ç§é”ï¼š</p><ul><li>å†™é”ï¼ˆWrite Lockï¼‰ï¼šåŒä¸€ä¸ªæ—¶åˆ»ï¼Œåªæœ‰æœ‰ä¸€ä¸ªäº‹åŠ¡å¯¹æ•°æ®åŠ å†™é”ï¼Œæ‰€ä»¥å†™é”ä¹Ÿè¢«ç§°ä¸ºæ’å®ƒé”ï¼ˆexclusive Lockï¼‰ã€‚æ•°æ®è¢«åŠ äº†å†™é”åï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å†™å…¥æ•°æ®ï¼Œä¹Ÿä¸èƒ½å¯¹å…¶æ·»åŠ è¯»é”ï¼ˆæ³¨æ„ï¼Œæ˜¯ä¸èƒ½åŠ è¯»é”ï¼Œä½†æ˜¯å¯ä»¥è¯»å–æ•°æ®ï¼‰ã€‚</li><li>è¯»é”ï¼ˆRead Lockï¼‰ï¼šåŒä¸€æ—¶åˆ»ï¼Œå¤šä¸ªäº‹åŠ¡å¯ä»¥å¯¹æ•°æ®æ·»åŠ è¯»é”ï¼Œæ‰€ä»¥è¯»é”ä¹Ÿè¢«ç§°ä¸ºå…±äº«é”ï¼ˆShared Lockï¼‰ã€‚æ•°æ®åº“è¢«æ·»åŠ è¯»é”åï¼Œæ•°æ®ä¸èƒ½è¢«æ·»åŠ å†™é”ã€‚</li><li>èŒƒå›´é”ï¼ˆRange Lockï¼‰ï¼šå¯¹ä¸€ä¸ªèŒƒå›´çš„æ•°æ®æ·»åŠ å†™é”ï¼Œè¿™ä¸ªèŒƒå›´çš„æ•°æ®ä¸èƒ½è¢«å†™å…¥ã€‚ä¹Ÿå¯ä»¥ç®—ä½œå†™é”çš„æ‰¹é‡è¡Œä¸ºã€‚</li></ul><p>æ ¹æ®è¿™ä¸‰ç§é”çš„ä¸åŒç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å››ç§ä¸åŒçš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š</p><ul><li>å¯ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰ï¼šå†™å…¥çš„æ—¶å€™åŠ å†™é”ï¼Œè¯»å–çš„æ—¶å€™åŠ è¯»é”ï¼ŒèŒƒå›´è¯»å†™çš„æ—¶å€™åŠ èŒƒå›´é”ã€‚</li><li>å¯é‡å¤åº¦ï¼ˆRepeatable Readï¼‰ï¼šå†™å…¥çš„æ—¶å€™åŠ å†™é”ï¼Œè¯»å–çš„æ—¶å€™åŠ è¯»é”ï¼ŒèŒƒå›´è¯»å†™çš„æ—¶å€™ä¸åŠ é”ï¼Œè¿™æ ·ä¼šå‡ºç°è¯»å–ç›¸åŒèŒƒå›´æ•°æ®çš„æ—¶å€™ï¼Œè¿”å›ç»“æœä¸åŒï¼Œå³å¹»è¯»ï¼ˆPhantom Readï¼‰ã€‚</li><li>è¯»å·²æäº¤ï¼ˆRead Committedï¼‰ï¼šå†™å…¥çš„æ—¶å€™åŠ å†™é”ï¼Œè¯»å–çš„æ—¶å€™åŠ è¯»é”ï¼Œè¯»å–å®Œæˆåç«‹é©¬é‡Šæ”¾è¯»é”ã€‚è¿™æ ·ä¼šå‡ºç°åŒä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡è¯»å–ç›¸åŒæ•°æ®ï¼Œè¿”å›ç»“æœä¸åŒï¼Œå³ä¸å¯é‡å¤è¯»ï¼ˆNon-Repeatable Readï¼‰ã€‚</li><li>è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰ï¼šå†™å…¥çš„æ—¶å€™åŠ å†™é”ï¼Œè¯»å–çš„æ—¶å€™ä¸åŠ é”ã€‚è¿™æ ·å°±ä¼šè¯»å–åˆ°å¦ä¸€ä¸ªè¿˜æœªæäº¤çš„äº‹åŠ¡å†™å…¥çš„æ•°æ®ï¼Œå³è„è¯»ï¼ˆDirty Readï¼‰ã€‚</li></ul><h2 id="å…¨å±€äº‹åŠ¡"><a href="#å…¨å±€äº‹åŠ¡" class="headerlink" title="å…¨å±€äº‹åŠ¡"></a>å…¨å±€äº‹åŠ¡</h2><p>éšç€ç³»ç»Ÿè§„æ¨¡ä¸æ–­æ‰©å¤§ï¼Œä¸šåŠ¡é‡ä¸æ–­å¢åŠ ã€‚å•ä½“åº”ç”¨ä¸å†æ»¡è¶³éœ€æ±‚ï¼Œæˆ‘ä»¬ä¼šæ‹†åˆ†ç³»ç»Ÿï¼Œç„¶åæ‹†åˆ†æ•°æ®åº“ã€‚æ­¤æ—¶ï¼ŒåŒä¸€ä¸ªè¯·æ±‚ä¸­ï¼Œå°±ä¼šå‡ºç°åŒæ—¶è®¿é—®å¤šä¸ªæ•°æ®åº“çš„æƒ…å†µã€‚ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µçš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼ŒX/Open ç»„ç»‡åœ¨ 1991 å¹´ï¼ˆé‚£ä¸ªæ—¶å€™æˆ‘è¿˜å°ï¼‰æå‡ºäº†ä¸€å¥— X/Open XA çš„å¤„ç†äº‹åŠ¡çš„æ¶æ„ã€‚XA çš„æ ¸å¿ƒå†…å®¹æ˜¯å®šä¹‰äº†å…¨å±€çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆTransaction Managerï¼Œç”¨äºåè°ƒå…¨å±€äº‹åŠ¡ï¼‰å’Œå±€éƒ¨çš„èµ„æºç®¡ç†å™¨ï¼ˆResource Managerï¼Œç”¨äºé©±åŠ¨æœ¬åœ°äº‹åŠ¡ï¼‰ä¹‹é—´çš„é€šä¿¡æ¥å£ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡ç®¡ç†å™¨å’Œå¤šä¸ªèµ„æºç®¡ç†å™¨ï¼ˆResource Managerï¼‰ä¹‹é—´å½¢æˆé€šä¿¡æ¡¥æ¢ï¼Œé€šè¿‡åè°ƒå¤šä¸ªæ•°æ®æºçš„ä¸€è‡´åŠ¨ä½œï¼Œå®ç°å…¨å±€äº‹åŠ¡çš„ç»Ÿä¸€æäº¤æˆ–è€…ç»Ÿä¸€å›æ»šã€‚ä¸ XA æ¶æ„é…å¥—çš„æ˜¯ä¸¤é˜¶æ®µæäº¤åè®®ï¼ˆ2PCï¼ŒTwo Phase Commitment Protocolï¼‰ã€‚åœ¨è¿™ä¸ªåè®®ä¸­ï¼Œæœ€å…³é”®çš„ç‚¹å°±æ˜¯ï¼Œå¤šä¸ªæ•°æ®åº“çš„æ´»åŠ¨ï¼Œå‡ç”±ä¸€ä¸ªäº‹åŠ¡åè°ƒå™¨çš„ç»„ä»¶æ¥æ§åˆ¶ã€‚å…·ä½“çš„åˆ†ä¸º 5 ä¸ªæ­¥éª¤ï¼š</p><ol><li>åº”ç”¨ç¨‹åºè°ƒç”¨äº‹åŠ¡ç®¡ç†å™¨ä¸­çš„æäº¤æ–¹æ³•</li><li>äº‹åŠ¡ç®¡ç†å™¨å°†è”ç»œäº‹åŠ¡ä¸­æ¶‰åŠçš„æ¯ä¸ªæ•°æ®åº“ï¼Œå¹¶é€šçŸ¥å®ƒä»¬å‡†å¤‡æäº¤äº‹åŠ¡ï¼ˆè¿™æ˜¯ç¬¬ä¸€é˜¶æ®µçš„å¼€å§‹ï¼‰</li><li>æ¥æ”¶åˆ°å‡†å¤‡æäº¤äº‹åŠ¡é€šçŸ¥åï¼Œæ•°æ®åº“å¿…é¡»ç¡®ä¿èƒ½åœ¨è¢«è¦æ±‚æäº¤äº‹åŠ¡æ—¶æäº¤äº‹åŠ¡ï¼Œæˆ–åœ¨è¢«è¦æ±‚å›æ»šäº‹åŠ¡æ—¶å›æ»šäº‹åŠ¡ã€‚å¦‚æœæ•°æ®åº“æ— æ³•å‡†å¤‡äº‹åŠ¡ï¼Œå®ƒä¼šä»¥ä¸€ä¸ªå¦å®šå“åº”æ¥å›åº”äº‹åŠ¡ç®¡ç†å™¨ã€‚</li><li>äº‹åŠ¡ç®¡ç†å™¨æ”¶é›†æ¥è‡ªå„æ•°æ®åº“çš„æ‰€æœ‰å“åº”ã€‚</li><li>åœ¨ç¬¬äºŒé˜¶æ®µï¼Œäº‹åŠ¡ç®¡ç†å™¨å°†äº‹åŠ¡çš„ç»“æœé€šçŸ¥ç»™æ¯ä¸ªæ•°æ®åº“ã€‚å¦‚æœä»»ä¸€æ•°æ®åº“åšå‡ºå¦å®šå“åº”ï¼Œåˆ™äº‹åŠ¡ç®¡ç†å™¨ä¼šå°†ä¸€ä¸ªå›æ»šå‘½ä»¤å‘é€ç»™äº‹åŠ¡ä¸­æ¶‰åŠçš„æ‰€æœ‰æ•°æ®åº“ã€‚å¦‚æœæ•°æ®åº“éƒ½åšå‡ºè‚¯å®šå“åº”ï¼Œåˆ™äº‹åŠ¡ç®¡ç†å™¨ä¼šæŒ‡ç¤ºæ‰€æœ‰çš„èµ„æºç®¡ç†å™¨æäº¤äº‹åŠ¡ã€‚ä¸€æ—¦é€šçŸ¥æ•°æ®åº“æäº¤ï¼Œæ­¤åçš„äº‹åŠ¡å°±ä¸èƒ½å¤±è´¥äº†ã€‚é€šè¿‡ä»¥è‚¯å®šçš„æ–¹å¼å“åº”ç¬¬ä¸€é˜¶æ®µï¼Œæ¯ä¸ªèµ„æºç®¡ç†å™¨å‡å·²ç¡®ä¿ï¼Œå¦‚æœä»¥åé€šçŸ¥å®ƒæäº¤äº‹åŠ¡ï¼Œåˆ™äº‹åŠ¡ä¸ä¼šå¤±è´¥ã€‚</li></ol><p><img src="https://static.howardliu.cn/20210917181732.png" alt="2PC"></p><p>ä¸¤é˜¶æ®µæäº¤åè®®å®ç°ç®€å•ï¼Œä½†å­˜åœ¨å‡ ä¸ªæ˜æ˜¾ç¼ºé™·ï¼š</p><ul><li>å•ç‚¹é—®é¢˜ï¼šäº‹åŠ¡ç®¡ç†å™¨åœ¨ä¸¤æ®µæäº¤ä¸­å…·æœ‰ä¸¾è¶³è½»é‡çš„ä½œç”¨ï¼Œäº‹åŠ¡ç®¡ç†å™¨ç­‰å¾…èµ„æºç®¡ç†å™¨å›å¤æ—¶å¯ä»¥æœ‰è¶…æ—¶æœºåˆ¶ï¼Œå…è®¸èµ„æºç®¡ç†å™¨å®•æœºï¼Œä½†èµ„æºç®¡ç†å™¨ç­‰å¾…äº‹åŠ¡ç®¡ç†å™¨æŒ‡ä»¤æ—¶æ— æ³•åšè¶…æ—¶å¤„ç†ã€‚ä¸€æ—¦å®•æœºçš„ä¸æ˜¯å…¶ä¸­æŸä¸ªèµ„æºç®¡ç†å™¨ï¼Œè€Œæ˜¯äº‹åŠ¡ç®¡ç†å™¨çš„è¯ï¼Œæ‰€æœ‰èµ„æºç®¡ç†å™¨éƒ½ä¼šå—åˆ°å½±å“ã€‚å¦‚æœäº‹åŠ¡ç®¡ç†å™¨ä¸€ç›´æ²¡æœ‰æ¢å¤ï¼Œæ²¡æœ‰æ­£å¸¸å‘é€ Commit æˆ–è€… Rollback çš„æŒ‡ä»¤ï¼Œé‚£æ‰€æœ‰èµ„æºç®¡ç†å™¨éƒ½å¿…é¡»ä¸€ç›´ç­‰å¾…ã€‚</li><li>æ€§èƒ½é—®é¢˜ï¼šä¸¤æ®µæäº¤è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰èµ„æºç®¡ç†å™¨ç›¸å½“äºè¢«ç»‘å®šæˆä¸ºä¸€ä¸ªç»Ÿä¸€è°ƒåº¦çš„æ•´ä½“ï¼ŒæœŸé—´è¦ç»è¿‡ä¸¤æ¬¡è¿œç¨‹æœåŠ¡è°ƒç”¨ï¼Œä¸‰æ¬¡æ•°æ®æŒä¹…åŒ–ï¼ˆå‡†å¤‡é˜¶æ®µå†™é‡åšæ—¥å¿—ï¼Œäº‹åŠ¡ç®¡ç†å™¨åšçŠ¶æ€æŒä¹…åŒ–ï¼Œæäº¤é˜¶æ®µåœ¨æ—¥å¿—å†™å…¥ Commit Recordï¼‰ï¼Œæ•´ä¸ªè¿‡ç¨‹å°†æŒç»­åˆ°èµ„æºç®¡ç†å™¨é›†ç¾¤ä¸­æœ€æ…¢çš„é‚£ä¸€ä¸ªå¤„ç†æ“ä½œç»“æŸä¸ºæ­¢ï¼Œè¿™å†³å®šäº†ä¸¤æ®µå¼æäº¤çš„æ€§èƒ½é€šå¸¸éƒ½è¾ƒå·®ã€‚</li><li>ä¸€è‡´æ€§é£é™©ï¼šå°½ç®¡æäº¤é˜¶æ®µæ—¶é—´å¾ˆçŸ­ï¼Œä½†è¿™ä»æ˜¯ä¸€æ®µæ˜ç¡®å­˜åœ¨çš„å±é™©æœŸã€‚å¦‚æœäº‹åŠ¡ç®¡ç†å™¨åœ¨å‘å‡ºå‡†å¤‡æŒ‡ä»¤åï¼Œæ ¹æ®æ”¶åˆ°å„ä¸ªèµ„æºç®¡ç†å™¨å‘å›çš„ä¿¡æ¯ç¡®å®šäº‹åŠ¡çŠ¶æ€æ˜¯å¯ä»¥æäº¤çš„ï¼Œäº‹åŠ¡ç®¡ç†å™¨ä¼šå…ˆæŒä¹…åŒ–äº‹åŠ¡çŠ¶æ€ï¼Œå¹¶æäº¤è‡ªå·±çš„äº‹åŠ¡ï¼Œå¦‚æœè¿™æ—¶å€™ç½‘ç»œæ–­å¼€ï¼Œæ— æ³•å†é€šè¿‡ç½‘ç»œå‘æ‰€æœ‰èµ„æºç®¡ç†å™¨å‘å‡º Commit æŒ‡ä»¤çš„è¯ï¼Œå°±ä¼šå¯¼è‡´éƒ¨åˆ†æ•°æ®ï¼ˆäº‹åŠ¡ç®¡ç†å™¨çš„ï¼‰å·²æäº¤ï¼Œä½†éƒ¨åˆ†æ•°æ®ï¼ˆèµ„æºç®¡ç†å™¨çš„ï¼‰æ—¢æœªæäº¤ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•å›æ»šï¼Œäº§ç”Ÿäº†æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</li></ul><p>èƒ½å¤Ÿå‘ç°é—®é¢˜ï¼Œå°±èƒ½å¤Ÿæƒ³åˆ°åŠæ³•è§£å†³ã€‚æˆ‘ä»¬é«˜ä¸­è€å¸ˆè¯´äº†ï¼Œåªè¦æ„è¯†ä¸æ»‘å¡ï¼ŒåŠæ³•æ€»æ¯”å›°éš¾å¤šã€‚æ‰€ä»¥åˆå‘å±•å‡ºäº†ä¸‰é˜¶æ®µæäº¤åè®®ï¼ˆ3PCï¼ŒThree Phase Commitment Protocolï¼‰ï¼Œèƒ½å¤Ÿç¼“è§£å•ç‚¹é—®é¢˜å’Œå‡†å¤‡é˜¶æ®µçš„æ€§èƒ½é—®é¢˜ã€‚è¿™ä¸ªåè®®æŠŠ 2PC ä¸­çš„å‡†å¤‡é˜¶æ®µæ‹†åˆ†ä¸º CanCommit å’Œ PreCommitï¼ŒæŠŠæäº¤é˜¶æ®µæ”¹åä¸º DoCommitã€‚CanCommit æ˜¯è¯¢é—®é˜¶æ®µï¼Œè®©æ¯ä¸ªèµ„æºç®¡ç†å™¨æ ¹æ®è‡ªèº«æƒ…å†µåˆ¤æ–­è¯¥äº‹åŠ¡æ˜¯å¦æœ‰å¯èƒ½å®Œæˆã€‚</p><p>3PC æœ¬è´¨æ˜¯é€šè¿‡ä¸€æ¬¡é—®è¯¢ï¼Œå¦‚æœå¤§å®¶éƒ½è¯´è‡ªå·±å¯ä»¥ï¼Œé‚£æˆäº‹çš„å¯èƒ½æ€§å¾ˆå¤§ï¼Œå‡å°‘äº†å‡†å¤‡é˜¶æ®µç›´æ¥é”å®šèµ„æºçš„é‡æ“ä½œã€‚ç”±äºäº‹åŠ¡å¤±è´¥å›æ»šæ¦‚ç‡å˜å°çš„åŸå› ï¼Œåœ¨ä¸‰æ®µå¼æäº¤ä¸­ï¼Œå¦‚æœåœ¨ PreCommit é˜¶æ®µä¹‹åå‘ç”Ÿäº†äº‹åŠ¡ç®¡ç†å™¨å®•æœºï¼Œå³èµ„æºç®¡ç†å™¨æ²¡æœ‰èƒ½ç­‰åˆ° DoCommit çš„æ¶ˆæ¯çš„è¯ï¼Œé»˜è®¤çš„æ“ä½œç­–ç•¥å°†æ˜¯æäº¤äº‹åŠ¡è€Œä¸æ˜¯å›æ»šäº‹åŠ¡æˆ–è€…æŒç»­ç­‰å¾…ï¼Œè¿™å°±ç›¸å½“äºé¿å…äº†äº‹åŠ¡ç®¡ç†å™¨å•ç‚¹é—®é¢˜çš„é£é™©ã€‚</p><p><img src="https://static.howardliu.cn/20210917181759.png" alt="3PC"></p><h2 id="åˆ†å¸ƒå¼äº‹åŠ¡"><a href="#åˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="åˆ†å¸ƒå¼äº‹åŠ¡"></a>åˆ†å¸ƒå¼äº‹åŠ¡</h2><p>è¯´åˆ°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œä¸å¾—ä¸æ CAP ç†è®ºï¼šä»»ä½•åˆ†å¸ƒå¼ç³»ç»Ÿåªå¯åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰ä¸­çš„ä¸¤ç‚¹ï¼Œæ²¡æ³•ä¸‰è€…å…¼é¡¾ã€‚</p><p><img src="https://static.howardliu.cn/20210917184402.png" alt="CAP ç†è®º"></p><ul><li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šæ•°æ®åœ¨ä»»ä½•æ—¶åˆ»ã€ä»»ä½•åˆ†å¸ƒå¼èŠ‚ç‚¹ä¸­æ‰€çœ‹åˆ°çš„éƒ½æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚</li><li>å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ï¼šç³»ç»Ÿä¸é—´æ–­åœ°æä¾›æœåŠ¡çš„èƒ½åŠ›ï¼Œå¯ç”¨æ€§æ˜¯ç”±å¯é æ€§ï¼ˆReliabilityï¼‰å’Œå¯ç»´æŠ¤æ€§ï¼ˆServiceabilityï¼‰è®¡ç®—å¾—å‡ºçš„æ¯”ä¾‹å€¼ã€‚å¯é æ€§é€šè¿‡å¹³å‡æ— æ•…éšœæ—¶é—´ï¼ˆMean Time Between Failureï¼ŒMTBFï¼‰æ¥åº¦é‡ï¼›å¯ç»´æŠ¤æ€§é€šè¿‡å¹³å‡å¯ä¿®å¤æ—¶é—´ï¼ˆMean Time To Repairï¼ŒMTTRï¼‰æ¥åº¦é‡ã€‚å¯ç”¨æ€§è¡¡é‡ç³»ç»Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„æ—¶é—´ä¸æ€»æ—¶é—´ä¹‹æ¯”ï¼Œå…¬å¼ä¸ºï¼šA=MTBF/(MTBF+MTTR)ã€‚</li><li>åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition Toleranceï¼‰ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸­éƒ¨åˆ†èŠ‚ç‚¹å› ç½‘ç»œåŸå› è€Œå½¼æ­¤å¤±è”åï¼Œç³»ç»Ÿä»èƒ½æ­£ç¡®åœ°æä¾›æœåŠ¡çš„èƒ½åŠ›ã€‚</li></ul><blockquote><p>CAP ç†è®ºå®šä¹‰æ˜¯ç»è¿‡å‡ æ¬¡ä¿®æ”¹çš„ï¼Œä¿®æ”¹åçš„å®šä¹‰æœ¬è´¨æ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯åœ¨é€»è¾‘ä¸Šæ›´åŠ ä¸¥è°¨ã€‚æœ¬æ–‡ä¸ºäº†å¥½ç†è§£ï¼Œä½¿ç”¨äº†æœ€å®¹æ˜“è®©å¤§ä¼—æ¥æ”¶å¹¶ç†è§£çš„å®šä¹‰ã€‚</p></blockquote><p>æ—¢ç„¶ CAP ä¸èƒ½å…¼é¡¾ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹ç¼ºå°‘å…¶ä¸­ä¸€ç¯ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼š</p><ul><li>é€‰æ‹© CA æ”¾å¼ƒ Pï¼šå³æˆ‘ä»¬è®¤ä¸ºç½‘ç»œå¯é ä¸ä¼šå‡ºç°åˆ†åŒºæƒ…å†µï¼Œè¿™ç§å¯é æ˜¯å„ä¸ªèŠ‚ç‚¹ä¹‹é—´ä¸ä¼šå‡ºç°ç½‘ç»œå»¶è¿Ÿã€ä¸­æ–­ç­‰æƒ…å†µï¼Œæ˜¾ç„¶æ˜¯ä¸æˆç«‹çš„ã€‚</li><li>é€‰æ‹© CP æ”¾å¼ƒ Aï¼šè¿™æ ·åšå°±æ˜¯æŠ›å¼ƒäº†å¯ç”¨æ€§ï¼Œä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œä¸€æ—¦å‡ºç°ç½‘ç»œå¼‚å¸¸ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„ä¿¡æ¯åŒæ­¥æ—¶é—´å¯ä»¥æ— é™åˆ¶åœ°å»¶é•¿ã€‚ä½¿ç”¨ CP ç»„åˆçš„ä¸€èˆ¬ç”¨äºå¯¹æ•°æ®è´¨é‡è¦æ±‚å¾ˆé«˜çš„åœºåˆï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†ä¿è¯æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œæš‚æ—¶ä¸æä¾›æœåŠ¡ï¼Œç›´åˆ°ç½‘ç»œå®Œå…¨æ¢å¤ï¼Œè¿™å¯èƒ½æŒç»­ä¸€ä¸ªä¸ç¡®å®šçš„æ—¶é—´ï¼Œå°¤å…¶æ˜¯åœ¨ç³»ç»Ÿå·²ç»è¡¨ç°å‡ºé«˜å»¶è¿Ÿæ—¶æˆ–è€…ç½‘ç»œæ•…éšœå¯¼è‡´å¤±å»è¿æ¥æ—¶ã€‚</li><li>é€‰æ‹© AP æ”¾å¼ƒ Cï¼šæ„å‘³ç€ä¸€æ—¦å‘ç”Ÿç½‘ç»œåˆ†åŒºï¼Œä¼˜å…ˆæä¾›æœåŠ¡å¯ç”¨ï¼Œæ”¾å¼ƒæ•°æ®ä¸€è‡´æ€§ã€‚è¿™æ˜¯ç›®å‰åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸»æµé€‰æ‹©ï¼Œå› ä¸ºç½‘ç»œæœ¬èº«å°±æ˜¯é“¾æ¥ä¸åŒåŒºåŸŸçš„æœåŠ¡å™¨çš„ï¼Œç½‘ç»œåˆæ˜¯ä¸å¯é çš„ï¼Œæ‰€ä»¥ P ä¸èƒ½è¢«èˆå¼ƒã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å®ç°åˆ†å¸ƒå¼ç³»ç»Ÿå°±æ˜¯ä¸ºäº†æé«˜å¯ç”¨æ€§ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„ç›®çš„ï¼Œä¸èƒ½èˆå¼ƒã€‚</li></ul><p>è¿™é‡Œéœ€è¦å†è¯´æ˜ä¸€ä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹© AP æ”¾å¼ƒ C ä¸æ˜¯æ”¾å¼ƒæ•°æ®ä¸€è‡´ï¼Œè€Œæ˜¯æš‚æ—¶æ”¾å¼ƒå¼ºä¸€è‡´æ€§ï¼ˆStrong Consistencyï¼‰ï¼Œè€Œæ˜¯é€‰æ‹©å¼±ä¸€è‡´æ€§ï¼Œå³æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventual Consistencyï¼‰ï¼šç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å‰¯æœ¬ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚è¿™é‡Œæ‰€è¯´çš„ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿè¦æ˜¯ç”¨æˆ·å¯æ¥å—èŒƒå›´å†…çš„ä¸€æ®µæ—¶é—´ã€‚</p><p>æœ€ç»ˆä¸€è‡´æ€§ä¹Ÿæœ‰ä¸€ä¸ªç†è®ºæ”¯æ’‘ï¼šBASE ç†è®ºï¼ˆä¸å¾—ä¸è¯´ï¼Œç†è®ºç•Œçš„ç¼©å†™çœŸç‰›å•Šï¼ŒACID æ˜¯é…¸ï¼ŒCAP æ˜¯å¸½å­ï¼ŒBASE æ˜¯ç¢±ï¼‰ï¼Œå†…å®¹ä¸»è¦åŒ…æ‹¬ï¼š</p><ul><li>åŸºæœ¬å¯ç”¨ï¼ˆ<strong>B</strong>asically <strong>A</strong>vailableï¼‰ï¼šå½“ç³»ç»Ÿåœ¨å‡ºç°ä¸å¯é¢„çŸ¥æ•…éšœçš„æ—¶å€™ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ã€‚æ¯”å¦‚ï¼Œå…è®¸å“åº”æ—¶é—´å¢é•¿ï¼Œå…è®¸éƒ¨åˆ†éå…³é”®æ¥å£é™çº§æˆ–ç†”æ–­ç­‰ã€‚</li><li>è½¯çŠ¶æ€ï¼ˆ<strong>S</strong>oft <strong>S</strong>tateï¼‰ï¼šè½¯çŠ¶æ€ä¹Ÿç§°ä¸ºå¼±çŠ¶æ€ï¼Œå’Œç¡¬çŠ¶æ€ç›¸å¯¹ã€‚æ˜¯æŒ‡å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€çš„å­˜åœ¨ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ï¼Œå³å…è®¸ç³»ç»Ÿåœ¨ä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨å»¶æ—¶ã€‚</li><li>æœ€ç»ˆä¸€è‡´æ€§ï¼ˆ<strong>E</strong>ventually Consistentï¼‰ï¼šæœ€ç»ˆä¸€è‡´æ€§å¼ºè°ƒçš„æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œæœ€ç»ˆä¸€è‡´æ€§çš„æœ¬è´¨æ˜¯éœ€è¦ç³»ç»Ÿä¿è¯æœ€ç»ˆæ•°æ®èƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´ï¼Œè€Œä¸éœ€è¦å®æ—¶ä¿è¯ç³»ç»Ÿæ•°æ®çš„å¼ºä¸€è‡´æ€§ã€‚</li></ul><p>åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œæœ€ç»ˆä¸€è‡´æ€§åˆ†ä¸º 5 ç§ï¼Œè¿™ 5 ç§æ–¹å¼ä¼šç»“åˆä½¿ç”¨ï¼Œå…±åŒå®ç°æœ€ç»ˆä¸€è‡´æ€§ï¼š</p><ul><li>å› æœä¸€è‡´æ€§ï¼ˆCausal consistencyï¼‰ï¼šå¦‚æœèŠ‚ç‚¹ A åœ¨æ›´æ–°å®ŒæŸä¸ªæ•°æ®åé€šçŸ¥äº†èŠ‚ç‚¹ Bï¼Œé‚£ä¹ˆèŠ‚ç‚¹ B ä¹‹åå¯¹è¯¥æ•°æ®çš„è®¿é—®å’Œä¿®æ”¹éƒ½æ˜¯åŸºäº A æ›´æ–°åçš„å€¼ã€‚äºæ­¤åŒæ—¶ï¼Œå’ŒèŠ‚ç‚¹ A æ— å› æœå…³ç³»çš„èŠ‚ç‚¹ C çš„æ•°æ®è®¿é—®åˆ™æ²¡æœ‰è¿™æ ·çš„é™åˆ¶ã€‚</li><li>è¯»å·±ä¹‹æ‰€å†™ï¼ˆRead your writesï¼‰ï¼šèŠ‚ç‚¹ A æ›´æ–°ä¸€ä¸ªæ•°æ®åï¼Œå®ƒè‡ªèº«æ€»æ˜¯èƒ½è®¿é—®åˆ°è‡ªèº«æ›´æ–°è¿‡çš„æœ€æ–°å€¼ï¼Œè€Œä¸ä¼šçœ‹åˆ°æ—§å€¼ã€‚</li><li>ä¼šè¯ä¸€è‡´æ€§ï¼ˆSession consistencyï¼‰ï¼šä¼šè¯ä¸€è‡´æ€§å°†å¯¹ç³»ç»Ÿæ•°æ®çš„è®¿é—®è¿‡ç¨‹æ¡†å®šåœ¨äº†ä¸€ä¸ªä¼šè¯å½“ä¸­ï¼Œç³»ç»Ÿèƒ½ä¿è¯åœ¨åŒä¸€ä¸ªæœ‰æ•ˆçš„ä¼šè¯ä¸­å®ç°â€œè¯»å·±ä¹‹æ‰€å†™â€çš„ä¸€è‡´æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œä¹‹åï¼Œå®¢æˆ·ç«¯èƒ½å¤Ÿåœ¨åŒä¸€ä¸ªä¼šè¯ä¸­å§‹ç»ˆè¯»å–åˆ°è¯¥æ•°æ®é¡¹çš„æœ€æ–°å€¼ã€‚</li><li>å•è°ƒè¯»ä¸€è‡´æ€§ï¼ˆMonotonic read consistencyï¼‰ï¼šå¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä»ç³»ç»Ÿä¸­è¯»å–å‡ºä¸€ä¸ªæ•°æ®é¡¹çš„æŸä¸ªå€¼åï¼Œé‚£ä¹ˆç³»ç»Ÿå¯¹äºè¯¥èŠ‚ç‚¹åç»­çš„ä»»ä½•æ•°æ®è®¿é—®éƒ½ä¸åº”è¯¥è¿”å›æ›´æ—§çš„å€¼ã€‚</li><li>å•è°ƒå†™ä¸€è‡´æ€§ï¼ˆMonotonic write consistencyï¼‰ï¼šä¸€ä¸ªç³»ç»Ÿè¦èƒ½å¤Ÿä¿è¯æ¥è‡ªåŒä¸€ä¸ªèŠ‚ç‚¹çš„å†™æ“ä½œè¢«é¡ºåºçš„æ‰§è¡Œã€‚</li></ul><p><img src="https://static.howardliu.cn/20210917182909.png" alt="ä¸€è‡´æ€§å…³ç³»æ¨¡å‹"></p><p>æœ‰äº†ç†è®ºä¹‹åï¼Œæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹å®ç°æœ€ç»ˆä¸€è‡´æ€§çš„å‡ ç§æ¨¡å¼ã€‚</p><h3 id="å¯é äº‹ä»¶æ¨¡å¼"><a href="#å¯é äº‹ä»¶æ¨¡å¼" class="headerlink" title="å¯é äº‹ä»¶æ¨¡å¼"></a>å¯é äº‹ä»¶æ¨¡å¼</h3><p>å¯é äº‹ä»¶æ¨¡å¼å±äºäº‹ä»¶é©±åŠ¨æ¶æ„ï¼šå½“æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¾‹å¦‚æ›´æ–°ä¸€ä¸ªä¸šåŠ¡å®ä½“ï¼ŒæœåŠ¡ä¼šå‘æ¶ˆæ¯ä»£ç†å‘å¸ƒä¸€ä¸ªäº‹ä»¶ã€‚æ¶ˆæ¯ä»£ç†ä¼šå‘è®¢é˜…äº‹ä»¶çš„æœåŠ¡æ¨é€äº‹ä»¶ï¼Œå½“è®¢é˜…è¿™äº›äº‹ä»¶çš„æœåŠ¡æ¥æ”¶æ­¤äº‹ä»¶æ—¶ï¼Œå°±å¯ä»¥å®Œæˆè‡ªå·±çš„ä¸šåŠ¡ï¼Œä¹Ÿå¯èƒ½ä¼šå¼•å‘æ›´å¤šçš„äº‹ä»¶å‘å¸ƒã€‚</p><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šä¸€ä¸‹è¿™ç§æ¨¡å¼ï¼Œç”¨æˆ·ä¸‹å•æˆåŠŸåï¼Œè®¢å•ç³»ç»Ÿéœ€è¦é€šçŸ¥åº“å­˜ç³»ç»Ÿå‡åº“å­˜ã€‚</p><p><img src="https://static.howardliu.cn/20210917181828.png" alt="å¯é äº‹ä»¶æ¨¡å¼"></p><ol><li>è®¢å•ç³»ç»Ÿæ ¹æ®ç”¨æˆ·æ“ä½œå®Œæˆä¸‹å•æ“ä½œã€‚æ­¤æ—¶ä¼šä½¿ç”¨åŒä¸€ä¸ªæœ¬åœ°äº‹åŠ¡ä¿å­˜è®¢å•ä¿¡æ¯å’Œå†™å…¥äº‹ä»¶ã€‚</li><li>å¦å¤–ä¸€ä¸ªæ¶ˆæ¯æœåŠ¡ä¼šè½®è¯¢äº‹ä»¶è¡¨ï¼Œå°†çŠ¶æ€æ˜¯â€œè¿›è¡Œä¸­â€çš„äº‹ä»¶ä»¥æ¶ˆæ¯å½¢å¼å‘é€åˆ°æ¶ˆæ¯æœåŠ¡ä¸­ã€‚å¦‚æœå‘é€å¤±è´¥ï¼Œå› ä¸ºæ˜¯è½®è¯¢ä»»åŠ¡ï¼Œä¼šåœ¨ä¸‹ä¸€æ¬¡è½®è¯¢çš„æ—¶å€™å†æ¬¡å‘é€ã€‚ï¼ˆæ­¤å¤„æœ‰ä¸€äº›ä¼˜åŒ–ç‚¹ï¼Œæœ¬ä¾‹ä¸ºäº†ç®€åŒ–æ¨¡å‹ï¼Œä¸å±•å¼€ï¼‰</li><li>æ¶ˆæ¯æœåŠ¡å‘è®¢é˜…ä¸‹å•æ¶ˆæ¯çš„åº“å­˜æœåŠ¡å‘é€ä¸‹å•æˆåŠŸæ¶ˆæ¯ï¼Œåº“å­˜æœåŠ¡å¼€å§‹å¤„ç†ã€‚æ­¤æ—¶ä¼šæœ‰è¿™ä¹ˆé›†ä¸­æƒ…å†µï¼š<ol><li>åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜æˆåŠŸï¼Œæ¶ˆæ¯æœåŠ¡æ¥æ”¶åˆ°å¤„ç†æˆåŠŸå“åº”ã€‚æ¶ˆæ¯æœåŠ¡å°†å“åº”ç»“æœè¿”å›ç»™è®¢å•æœåŠ¡ï¼Œè®¢å•æœåŠ¡ä¸­äº‹ä»¶æ¥æ”¶å™¨å°†äº‹ä»¶ä¿®æ”¹ä¸ºâ€œå·²å®Œæˆâ€ã€‚</li><li>åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜å¤±è´¥ï¼Œæ¶ˆæ¯æœåŠ¡æ¥æ”¶åˆ°å¤„ç†å¤±è´¥å“åº”ã€‚æ­¤æ—¶æ¶ˆæ¯æœåŠ¡ä¼šå†æ¬¡å‘åº“å­˜æœåŠ¡å‘é€æ¶ˆæ¯ï¼Œç›´åˆ°å¾—åˆ°æˆåŠŸå“åº”ã€‚å¦‚æœå¤±è´¥æ¬¡æ•°è¾¾åˆ°é˜ˆå€¼ï¼Œå¯ä»¥å‘Šè­¦é€šçŸ¥äººå·¥ä»‹å…¥ã€‚</li><li>æ¶ˆæ¯æœåŠ¡ç»™è®¢å•æœåŠ¡è¿”å›ç»“æœæ—¶ï¼Œå‘ç”Ÿå¤±è´¥ï¼Œè®¢å•æœåŠ¡æ²¡æœ‰æ¥æ”¶åˆ°æˆåŠŸå“åº”ã€‚è¿™ä¸ªæ—¶å€™ï¼Œäº‹ä»¶è½®è¯¢é€»è¾‘ä¼šå†æ¬¡å°†äº‹ä»¶å‘é€ç»™æ¶ˆæ¯æœåŠ¡ã€‚è¿™æ ·ï¼Œåº“å­˜æœåŠ¡ä¼šé‡å¤æ”¶åˆ°æ‰£å‡åº“å­˜çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥è¦æ±‚åº“å­˜æœåŠ¡åšå¥½å¹‚ç­‰ã€‚åº“å­˜æœåŠ¡å‘ç°æ¶ˆæ¯å·²ç»å¤„ç†è¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸã€‚</li></ol></li></ol><p>è¿™ç§é ç€æŒç»­é‡è¯•æ¥ä¿è¯å¯é æ€§çš„è§£å†³æ–¹æ¡ˆï¼Œå«åšâ€œæœ€å¤§åŠªåŠ›äº¤ä»˜â€ï¼ˆBest-Effort Deliveryï¼‰ï¼Œä¹Ÿæ˜¯â€œå¯é â€ä¸¤ä¸ªå­—çš„æ¥æºã€‚</p><p>å¯é äº‹ä»¶æ¨¡å¼è¿˜æœ‰ä¸€ç§æ›´æ™®é€šçš„å½¢å¼ï¼Œè¢«ç§°ä¸ºâ€œæœ€å¤§åŠªåŠ›ä¸€æ¬¡æäº¤â€ï¼ˆBest-Effort 1PCï¼‰ï¼ŒæŒ‡çš„å°±æ˜¯å°†æœ€æœ‰å¯èƒ½å‡ºé”™æˆ–æœ€æ ¸å¿ƒçš„ä¸šåŠ¡ä»¥æœ¬åœ°äº‹åŠ¡çš„æ–¹å¼å®Œæˆåï¼Œé‡‡ç”¨ä¸æ–­é‡è¯•çš„æ–¹å¼ï¼ˆä¸é™äºæ¶ˆæ¯æœåŠ¡ï¼‰æ¥ä¿ƒä½¿åŒä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡ä¸­çš„å…¶ä»–å…³è”ä¸šåŠ¡å…¨éƒ¨å®Œæˆã€‚æ‰¾åˆ°æœ€å¯èƒ½å‡ºé”™çš„æ–¹å¼æ˜¯æå‰åšå¥½å‡ºé”™æ¦‚ç‡çš„å…ˆéªŒè¯„ä¼°ï¼Œæ‰èƒ½å¤ŸçŸ¥é“å“ªå—æœ€å®¹æ˜“å‡ºé”™ã€‚æ‰¾åˆ°æœ€æ ¸å¿ƒçš„ä¸šåŠ¡çš„æ–¹å¼æ˜¯æ‰¾åˆ°é‚£ç§åªè¦æˆåŠŸï¼Œå…¶ä»–ä¸šåŠ¡å¿…é¡»æˆåŠŸçš„é‚£å—ä¸šåŠ¡ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å†è¡¥å……ä¸¤ä¸ªæ¦‚å¿µï¼š</p><ul><li>ä¸šåŠ¡å¼‚å¸¸ï¼šä¸šåŠ¡é€»è¾‘äº§ç”Ÿé”™è¯¯çš„æƒ…å†µï¼Œæ¯”å¦‚è´¦æˆ·ä½™é¢ä¸è¶³ã€å•†å“åº“å­˜ä¸è¶³ç­‰ã€‚</li><li>æŠ€æœ¯å¼‚å¸¸ï¼šéä¸šåŠ¡é€»è¾‘äº§ç”Ÿçš„å¼‚å¸¸ï¼Œå¦‚ç½‘ç»œè¿æ¥å¼‚å¸¸ã€ç½‘ç»œè¶…æ—¶ç­‰ã€‚</li></ul><h3 id="TCC-æ¨¡å¼"><a href="#TCC-æ¨¡å¼" class="headerlink" title="TCC æ¨¡å¼"></a>TCC æ¨¡å¼</h3><p>TCCï¼ˆTry-Confirm-Cancelï¼‰æ˜¯ä¸€ç§<strong>ä¸šåŠ¡ä¾µå…¥å¼</strong>è¾ƒå¼ºçš„äº‹åŠ¡æ–¹æ¡ˆï¼Œè¦æ±‚ä¸šåŠ¡å¤„ç†è¿‡ç¨‹å¿…é¡»æ‹†åˆ†ä¸ºâ€œé¢„ç•™ä¸šåŠ¡èµ„æºâ€å’Œâ€œç¡®è®¤/é‡Šæ”¾æ¶ˆè´¹èµ„æºâ€ä¸¤ä¸ªå­è¿‡ç¨‹ï¼Œç”±ç»Ÿä¸€çš„æœåŠ¡åè°ƒè°ƒåº¦ä¸åŒä¸šåŠ¡ç³»ç»Ÿçš„å­è¿‡ç¨‹ã€‚åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š</p><ul><li>Tryï¼šå°è¯•æ‰§è¡Œé˜¶æ®µï¼Œå®Œæˆæ‰€æœ‰ä¸šåŠ¡å¯æ‰§è¡Œæ€§çš„æ£€æŸ¥ï¼ˆä¿éšœä¸€è‡´æ€§ï¼‰ï¼Œå¹¶ä¸”é¢„ç•™å¥½å…¨éƒ¨éœ€è¦ç”¨åˆ°çš„ä¸šåŠ¡èµ„æºï¼ˆä¿éšœéš”ç¦»æ€§ï¼‰ã€‚</li><li>Confirmï¼šç¡®è®¤æ‰§è¡Œé˜¶æ®µï¼Œä¸è¿›è¡Œä»»ä½•ä¸šåŠ¡æ£€æŸ¥ï¼Œç›´æ¥ä½¿ç”¨ Try é˜¶æ®µå‡†å¤‡çš„èµ„æºæ¥å®Œæˆä¸šåŠ¡å¤„ç†ã€‚Confirm é˜¶æ®µå¯èƒ½ä¼šé‡å¤æ‰§è¡Œï¼Œéœ€è¦æ»¡è¶³å¹‚ç­‰æ€§ã€‚</li><li>Cancelï¼šå–æ¶ˆæ‰§è¡Œé˜¶æ®µï¼Œé‡Šæ”¾ Try é˜¶æ®µé¢„ç•™çš„ä¸šåŠ¡èµ„æºã€‚Cancel é˜¶æ®µå¯èƒ½ä¼šé‡å¤æ‰§è¡Œï¼Œéœ€è¦æ»¡è¶³å¹‚ç­‰æ€§ã€‚</li></ul><p><img src="https://static.howardliu.cn/20210917181847.png" alt="TCC æ¨¡å¼"></p><ol><li>è®¢å•ç³»ç»Ÿåˆ›å»ºäº‹åŠ¡ï¼Œç”Ÿæˆäº‹åŠ¡ IDï¼ˆç”¨äºä½œä¸ºè¯†åˆ«è¯·æ±‚å¹‚ç­‰çš„æ ‡è¯†ï¼‰ï¼Œé€šè¿‡æ´»åŠ¨ç®¡ç†å™¨è®°å½•æ´»åŠ¨æ—¥å¿—ã€‚</li><li>è¿›å…¥ Try é˜¶æ®µ<ol><li>è°ƒç”¨è´¦æˆ·ç³»ç»Ÿï¼Œæ£€æŸ¥è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼Œå¦‚æœå……è¶³ï¼Œå†»ç»“éœ€è¦çš„é‡‘é¢ï¼Œæ­¤æ—¶è´¦æˆ·ä½™é¢æ˜¯ä¸´ç•Œèµ„æºï¼Œéœ€è¦é€šè¿‡æ’å®ƒé”æˆ–ä¹è§‚é”ä¿è¯å†»ç»“æ“ä½œçš„å®‰å…¨æ€§ã€‚</li><li>è°ƒç”¨åº“å­˜ç³»ç»Ÿï¼Œæ£€æŸ¥å•†å“åº“å­˜æ˜¯å¦å……è¶³ï¼Œå¦‚æœå……è¶³ï¼Œé”å®šéœ€è¦çš„åº“å­˜ï¼Œé”åº“æ“ä½œä¹Ÿéœ€è¦åŠ é”ä¿è¯å®‰å…¨</li></ol></li><li>å¦‚æœæ‰€æœ‰ä¸šåŠ¡è¿”å›æˆåŠŸï¼Œè®°å½•æ´»åŠ¨æ—¥å¿—ä¸º Confirmï¼Œè¿›å…¥ Confirm é˜¶æ®µï¼š<ol><li>è°ƒç”¨è´¦æˆ·ç³»ç»Ÿï¼Œæ‰£å‡å†»ç»“çš„é‡‘é¢</li><li>è°ƒç”¨åº“å­˜ç³»ç»Ÿï¼Œæ‰£å‡é”å®šçš„åº“å­˜</li></ol></li><li>ç¬¬ 3 æ­¥æ“ä½œä¸­å¦‚æœå…¨éƒ¨å®Œæˆï¼Œäº‹åŠ¡å®£å‘Šç»“æŸã€‚å¦‚æœç¬¬ 3 æ­¥ä¸­ä»»ä½•ä¸€æ–¹å‡ºç°å¼‚å¸¸ï¼Œéƒ½ä¼šæ ¹æ®æ´»åŠ¨æ—¥å¿—ä¸­çš„è®°å½•ï¼Œé‡å¤æ‰§è¡Œ Confirm æ“ä½œï¼Œå³è¿›è¡Œæœ€å¤§åŠªåŠ›äº¤ä»˜ã€‚æ‰€ä»¥å„ä¸šåŠ¡ç³»ç»Ÿçš„ Confirm æ“ä½œéœ€è¦å®ç°å¹‚ç­‰æ€§ã€‚</li><li>å¦‚æœç¬¬ 2 æ­¥æœ‰ä»»ä½•ä¸€æ–¹å¤±è´¥ï¼ˆåŒ…æ‹¬ä¸šåŠ¡å¼‚å¸¸å’ŒæŠ€æœ¯å¼‚å¸¸ï¼‰ï¼Œå°†æ´»åŠ¨æ—¥å¿—è®°å½•ä¸º Cancelï¼Œè¿›å…¥ Cancel é˜¶æ®µï¼š<ol><li>è°ƒç”¨è´¦æˆ·ç³»ç»Ÿï¼Œé‡Šæ”¾å†»ç»“çš„é‡‘é¢</li><li>è°ƒç”¨åº“å­˜ç³»ç»Ÿï¼Œé‡Šæ”¾é”å®šçš„åº“å­˜</li></ol></li><li>ç¬¬ 5 æ­¥æ“ä½œä¸­å¦‚æœå…¨éƒ¨å®Œæˆï¼Œäº‹åŠ¡å®£å‘Šå¤±è´¥ã€‚å¦‚æœç¬¬ 5 æ­¥ä¸­ä»»ä½•ä¸€æ–¹å‡ºç°å¼‚å¸¸ï¼ˆåŒ…æ‹¬ä¸šåŠ¡å¼‚å¸¸å’ŒæŠ€æœ¯å¼‚å¸¸ï¼‰ï¼Œéƒ½ä¼šæ ¹æ®æ´»åŠ¨æ—¥å¿—ä¸­çš„è®°å½•ï¼Œé‡å¤æ‰§è¡Œ Cacel æ“ä½œï¼Œå³æœ€å¤§åŠªåŠ›äº¤ä»˜ã€‚æ‰€ä»¥å„ä¸šåŠ¡ç³»ç»Ÿçš„ Cancel æ“ä½œä¹Ÿéœ€è¦å®ç°å¹‚ç­‰æ€§ã€‚</li></ol><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰ TCC ä¸ 2PC çš„å¾ˆåƒï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼ŒTCC ä½äºä¸šåŠ¡ä»£ç å±‚é¢ï¼Œå±äºç™½ç›’ï¼Œ2PC ä½äºåŸºç¡€è®¾æ–½å±‚é¢ï¼Œå±äºé»‘ç›’ã€‚æ‰€ä»¥ TCC æœ‰æ›´é«˜çš„çµæ´»æ€§ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ï¼Œè°ƒæ•´èµ„æºé”å®šçš„ç²’åº¦ã€‚</p><p>TCC åœ¨ä¸šåŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥é¢„ç•™èµ„æºï¼Œè§£å†³äº†å¯é äº‹ä»¶æ¨¡å¼çš„èµ„æºéš”ç¦»é—®é¢˜ã€‚ä½†æ˜¯ï¼ŒTCC è¿˜æœ‰ä¸¤ä¸ªæ˜æ˜¾ç¼ºç‚¹ï¼š</p><ol><li>TCC å°†åŸºç¡€è®¾æ–½å±‚çš„é€»è¾‘ä¸Šç§»åˆ°ä¸šåŠ¡ä»£ç ï¼Œå¯¹ä¸šåŠ¡æœ‰å¾ˆé«˜çš„ä¾µå…¥æ€§ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘æˆæœ¬ï¼Œå¼€å‘æˆæœ¬æå‡ï¼Œç›¸å¯¹åº”çš„ç»´æŠ¤æˆæœ¬ã€å¼€å‘äººå‘˜çš„ç´ è´¨ç­‰ï¼Œéƒ½ä¼šæœ‰æ›´é«˜çš„è¦æ±‚ã€‚</li><li>TCC è¦æ±‚èµ„æºå¯ä»¥é”å®šã€å ç”¨æˆ–é‡Šæ”¾ï¼Œä½†æ˜¯æœ‰çš„èµ„æºå±äºå¤–éƒ¨ç³»ç»Ÿï¼Œæ²¡æœ‰åŠæ³•å®ç°é”å®šã€‚</li></ol><p>é‰´äºä¸Šé¢çš„ä¸¤ä¸ªç¼ºç‚¹ï¼Œæˆ‘ä»¬çœ‹çœ‹ SAGA æ˜¯å¦å¯ä»¥å¼¥è¡¥ã€‚</p><h3 id="SAGA-æ¨¡å¼"><a href="#SAGA-æ¨¡å¼" class="headerlink" title="SAGA æ¨¡å¼"></a>SAGA æ¨¡å¼</h3><p>SAGA åœ¨è‹±æ–‡ä¸­æ˜¯â€œé•¿ç¯‡æ•…äº‹ã€é•¿ç¯‡è®°å™ã€ä¸€é•¿ä¸²äº‹ä»¶â€çš„æ„æ€ã€‚SAGA æ¨¡å¼çš„æå‡ºè¿œæ—©äºåˆ†å¸ƒå¼äº‹åŠ¡æ¦‚å¿µçš„æå‡ºï¼ˆå†æ¬¡å¯¹å‰è¾ˆå¤§ä½¬ä½©æœçš„äº”ä½“æŠ•åœ°ï¼‰ï¼Œå®ƒæºäº 1987 å¹´æ™®æ—æ–¯é¡¿å¤§å­¦çš„ Hector Garcia-Molina å’Œ Kenneth Salem åœ¨ ACM å‘è¡¨çš„ä¸€ç¯‡è®ºæ–‡ã€ŠSAGASã€‹ã€‚æ–‡ä¸­æå‡ºäº†ä¸€ç§æå‡â€œé•¿æ—¶é—´äº‹åŠ¡â€ï¼ˆLong Lived Transactionï¼‰è¿ä½œæ•ˆç‡çš„æ–¹æ³•ï¼Œå¤§è‡´æ€è·¯æ˜¯æŠŠä¸€ä¸ªå¤§äº‹åŠ¡åˆ†è§£ä¸ºå¯ä»¥äº¤é”™è¿è¡Œçš„ä¸€ç³»åˆ—å­äº‹åŠ¡é›†åˆï¼Œåæ¥å‘å±•æˆå°†ä¸€ä¸ªåˆ†å¸ƒå¼ç¯å¢ƒä¸­çš„å¤§äº‹åŠ¡åˆ†è§£ä¸ºä¸€ç³»åˆ—æœ¬åœ°äº‹åŠ¡çš„è®¾è®¡æ¨¡å¼ã€‚åœ¨æœ‰çš„æ–‡ç« ä¸­ï¼Œå°†è¿™ç§æ¨¡å¼ç§°ä¸ºä¸šåŠ¡è¡¥å¿æ¨¡å¼ï¼ŒSAGA æ˜¯å¯¹äº‹åŠ¡å½¢å¼çš„æè¿°ï¼Œä¸šåŠ¡è¡¥å¿æ˜¯å¯¹äº‹åŠ¡è¡Œä¸ºçš„æè¿°ï¼Œå…¶æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚</p><p>SAGA æ¨¡å¼æœ‰ä¸¤ç§å®ç°ï¼š</p><ul><li>æ­£å‘æ¢å¤ï¼ˆForward Recoveryï¼‰ï¼šé¡ºåºæ‰§è¡Œå„ä¸ªå­äº‹åŠ¡ï¼Œå¦‚æœé‡åˆ°æŸä¸ªå­äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå°†ä¸€ç›´é‡è¯•è¯¥æ“ä½œï¼ŒçŸ¥é“æˆåŠŸï¼Œç„¶åç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå­äº‹åŠ¡ã€‚æ¯”å¦‚ç”¨æˆ·ä¸‹å•æ”¯ä»˜æˆåŠŸäº†ï¼Œå°±ä¸€å®šè¦æ‰£å‡åº“å­˜ã€‚</li><li>åå‘æ¢å¤ï¼ˆBackward Recoveryï¼‰ï¼šé¡ºåºæ‰§è¡Œå„ä¸ªå­äº‹åŠ¡ï¼Œå¦‚æœé‡åˆ°æŸä¸ªå­äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå°†æ‰§è¡Œè¯¥å­äº‹åŠ¡çš„è¡¥å¿æ“ä½œï¼ˆé¿å…å› ä¸ºæŠ€æœ¯å¼‚å¸¸é€ æˆçš„å¤±è´¥ï¼Œè¡¥å¿æ“ä½œéœ€è¦å¹‚ç­‰ï¼‰ï¼Œç„¶åå€’åºæ‰§è¡Œå·²ç»æˆåŠŸçš„å­äº‹åŠ¡çš„è¡¥å¿æ“ä½œã€‚è¿™ç§ä¸€èˆ¬æ˜¯å¯å–æ¶ˆçš„æ‰¹é‡æ“ä½œï¼Œæ¯”å¦‚å‡ºè¡Œè®¢ç¥¨ï¼Œéœ€è¦è´­ä¹°é£æœºç¥¨ã€è®¢é…’åº—ã€ä¹°é—¨ç¥¨ï¼Œå¦‚æœä¹°é—¨ç¥¨å¤±è´¥äº†ï¼Œé£æœºç¥¨å’Œé…’åº—å°±å¯ä»¥å–æ¶ˆäº†ã€‚</li></ul><p><img src="https://static.howardliu.cn/20210917181908.png" alt="SAGA æ¨¡å¼"></p><p>æ ¹æ®è¿™ä¸¤ç§å®ç°ï¼ŒSAGA å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ul><li>å­äº‹åŠ¡ï¼ˆNormal Transactionsï¼‰ï¼šå¤§äº‹åŠ¡æ‹†åˆ†è‹¥å¹²ä¸ªå°äº‹åŠ¡ï¼Œå°†æ•´ä¸ªäº‹åŠ¡ T åˆ†è§£ä¸º n ä¸ªå­äº‹åŠ¡ï¼Œå‘½åä¸º T<sub>1</sub>ã€T<sub>2</sub>ã€â€¦ã€T<sub>n</sub>ã€‚æ¯ä¸ªå­äº‹åŠ¡éƒ½åº”è¯¥æ˜¯æˆ–è€…èƒ½è¢«è§†ä¸ºæ˜¯åŸå­è¡Œä¸ºã€‚å¦‚æœåˆ†å¸ƒå¼äº‹åŠ¡èƒ½å¤Ÿæ­£å¸¸æäº¤ï¼Œå…¶å¯¹æ•°æ®çš„å½±å“ï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰åº”ä¸è¿ç»­æŒ‰é¡ºåºæˆåŠŸæäº¤ Ti ç­‰ä»·ã€‚</li><li>è¡¥å¿äº‹åŠ¡ï¼ˆCompensating Transactionsï¼‰ï¼šæ¯ä¸ªå­äº‹åŠ¡å¯¹åº”çš„è¡¥å¿åŠ¨ä½œï¼Œå‘½åä¸º C<sub>1</sub>ã€C<sub>2</sub>ã€â€¦ã€C<sub>n</sub>ã€‚</li></ul><p>å­äº‹åŠ¡ä¸è¡¥å¿åŠ¨ä½œéœ€è¦æ»¡è¶³ä¸€äº›æ¡ä»¶ï¼š</p><ol><li>T<sub>i</sub>ä¸ C<sub>i</sub>å¿…é¡»å¯¹åº”</li><li>è¡¥å¿åŠ¨ä½œ C<sub>i</sub>ä¸€å®šä¼šæ‰§è¡ŒæˆåŠŸï¼Œå³éœ€è¦å®ç°æœ€å¤§åŠªåŠ›äº¤ä»˜ã€‚</li><li>T<sub>i</sub>ä¸ C<sub>i</sub>éœ€è¦å…·å¤‡å¹‚ç­‰æ€§</li></ol><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦æ€»ç»“äº†æœ¬åœ°äº‹åŠ¡ã€å…¨å±€äº‹åŠ¡ã€æœ€ç»ˆä¸€è‡´æ€§ç­‰æ–¹å¼å®ç°æ•°æ®è‡ªæ´½ã€‚é‡ç‚¹ä»‹ç»äº†å®ç°æœ€ç»ˆä¸€è‡´æ€§çš„é›†ä¸­æ¨¡å¼ï¼šå¯é äº‹ä»¶æ¨¡å¼ã€TCC æ¨¡å¼ã€SAGA æ¨¡å¼ç­‰ã€‚æ•°æ®çš„ä¸€è‡´æ€§ä¸€ç›´æ˜¯ä¸ªéš¾é¢˜ï¼Œéšç€å¾®æœåŠ¡åŒ–ä¹‹åï¼Œæ•°æ®ä¸€è‡´æ€§æ›´åŠ å›°éš¾ï¼Œæœ‰å›°éš¾ä¸æ€•ï¼Œåªè¦ä¸æ”¾å¼ƒï¼Œæ€»ä¼šè§£å†³çš„ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://icyfenix.cn/architect-perspective/general-architecture/transaction/" target="_blank" rel="noopener">äº‹åŠ¡å¤„ç†</a></li><li><a href="https://kanshan.blog.csdn.net/article/details/51867631" target="_blank" rel="noopener">å¾®æœåŠ¡æ¶æ„ä¸‹çš„æ•°æ®ä¸€è‡´æ€§ï¼šæ¦‚å¿µåŠç›¸å…³æ¨¡å¼</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/data-consistency-in-microservices/">å…³äºå¾®æœåŠ¡ç³»ç»Ÿä¸­æ•°æ®ä¸€è‡´æ€§çš„æ€»ç»“</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/120358607" target="_blank" rel="noopener">å…³äºå¾®æœåŠ¡ç³»ç»Ÿä¸­æ•°æ®ä¸€è‡´æ€§çš„æ€»ç»“</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      ä»å•ä½“æ¶æ„åˆ°åˆ†å¸ƒå¼æ¶æ„ï¼Œä»å·¨çŸ³æ¶æ„åˆ°å¾®æœåŠ¡æ¶æ„ã€‚ç³»ç»Ÿä¹‹é—´çš„äº¤äº’è¶Šæ¥è¶Šå¤æ‚ï¼Œç³»ç»Ÿé—´çš„æ•°æ®äº¤äº’é‡çº§ä¹Ÿæ˜¯æŒ‡æ•°çº§å¢é•¿ã€‚ä½œä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬è¦ä¿è¯é€»è¾‘çš„è‡ªæ´½å’Œæ•°æ®çš„è‡ªæ´½ã€‚æ•°æ®è‡ªæ´½æœ‰ä¸¤æ–¹é¢è¦æ±‚ï¼šæŠ›å¼€ä»£ç ï¼Œæ•°æ®èƒ½å¤Ÿè‡ªå·±éªŒè¯è‡ªå·±çš„å‡†ç¡®æ€§ï¼Œä¹Ÿå°±æ˜¯æ•°æ®å½¼æ­¤ä¹‹é—´ä¸çŸ›ç›¾ï¼›æ‰€æœ‰æ•°æ®å‡†ç¡®ä¸”ç¬¦åˆæœŸæœ›ã€‚
    
    </summary>
    
    
      <category term="microservice" scheme="https://www.howardliu.cn/categories/microservice/"/>
    
    
      <category term="å¾®æœåŠ¡" scheme="https://www.howardliu.cn/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
      <category term="æ•°æ®ä¸€è‡´æ€§" scheme="https://www.howardliu.cn/tags/%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7/"/>
    
      <category term="äº‹åŠ¡" scheme="https://www.howardliu.cn/tags/%E4%BA%8B%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</title>
    <link href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/"/>
    <id>https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/</id>
    <published>2021-09-11T14:30:27.000Z</published>
    <updated>2021-09-11T14:30:27.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static.howardliu.cn/coffee-beans-6603499_1920.jpg" alt="SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/nickype-10327513/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6603499" target="_blank" rel="noopener">NickyPe</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6603499" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>ä»Šå¤©èŠèŠå¦‚ä½•åœ¨ SpringBoot ä¸­é›†æˆ Junit5ã€MockMvcã€Mocktioã€‚Junit5 æ˜¯åœ¨ Java æ ˆä¸­åº”ç”¨æœ€å¹¿çš„æµ‹è¯•æ¡†æ¶ï¼ŒJunit4 ä¸€åº¦éœ¸æ¦œã€‚</p><a id="more"></a><p>å‡çº§åˆ° Junit5 ä¹‹åï¼Œé™¤äº†å¢åŠ  Java8 çš„å¾ˆå¤šç‰¹æ€§ï¼Œåšäº†å¾ˆå¤šåŠŸèƒ½å¢å¼ºï¼Œåœ¨ç»“æ„ä¸Šåšäº†ä¼˜åŒ–è°ƒæ•´ï¼Œæ‹†åˆ†äº†å¾ˆå¤šä¸åŒçš„æ¨¡å—ï¼Œå¯ä»¥æŒ‰éœ€å¼•å…¥ï¼Œæ¯”å¦‚ï¼š</p><ul><li>JUnit Platform - åœ¨ JVM ä¸Šå¯åŠ¨æµ‹è¯•æ¡†æ¶</li><li>JUnit Jupiter - åœ¨ JUnit5 ä¸­ç¼–å†™æµ‹è¯•å’Œæ‰©å±•</li><li>JUnit Vintage - æä¾›è¿è¡ŒåŸºäº JUnit3 å’Œ JUnit4 çš„æµ‹è¯•å¼•æ“</li></ul><p>ä» SpringBoot 2.2.0 ä¹‹åï¼ŒJunit5 å·²ç»æˆä¸ºäº†é»˜è®¤çš„ Junit ç‰ˆæœ¬ã€‚æœ‰äº† JUnit Vintageï¼Œä» Junit4 è¿ç§»åˆ° Junit5 çš„æˆæœ¬æä½ã€‚æ‰€ä»¥æœ¬æ–‡å°±ç›´æ¥é’ˆå¯¹ Junit5 å¼€å§‹äº†ã€‚</p><h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><p>å…ˆè¯´ç‰ˆæœ¬ï¼Œæ˜¯ä¸ºäº†é¿å…å› ä¸ºç‰ˆæœ¬å·®å¼‚å‡ºç°å„ç§å¥‡æ€ªçš„é—®é¢˜ï¼š</p><ul><li>JDKï¼šjdk8ï¼ˆå°ç‰ˆæœ¬å¯ä»¥å¿½ç•¥ï¼‰</li><li>SpringBootï¼š2.5.2<ul><li>ç»§æ‰¿<code>spring-boot-starter-parent</code></li><li>ä¾èµ–<code>spring-boot-starter-web</code></li><li>ä¾èµ–<code>spring-boot-starter-test</code></li></ul></li><li>JUnitï¼š5.7.2</li><li>Mockitoï¼š3.9.0</li><li>hamcrestï¼š2.2</li></ul><p>SpringBoot çš„å¥½å¤„åœ¨äºï¼Œåªè¦ç»§æ‰¿<code>spring-boot-starter-parent</code>æˆ–å¼•å…¥<code>spring-boot-pom-dependencies</code>ï¼Œç„¶åæ·»åŠ <code>spring-boot-starter-test</code>ä¾èµ–å³å¯ã€‚å®šä¹‰çš„ POM å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;parent&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        &lt;version&gt;2.5.2&lt;/version&gt;    &lt;/parent&gt;    &lt;groupId&gt;cn.howardliu.effective.spring&lt;/groupId&gt;    &lt;artifactId&gt;springboot-junit5-mockito&lt;/artifactId&gt;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;    &lt;name&gt;springboot-junit5-mockio&lt;/name&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;            &lt;scope&gt;runtime&lt;/scope&gt;            &lt;optional&gt;true&lt;/optional&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;            &lt;optional&gt;true&lt;/optional&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            &lt;scope&gt;test&lt;/scope&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;    &lt;build&gt;        &lt;plugins&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;            &lt;/plugin&gt;        &lt;/plugins&gt;    &lt;/build&gt;&lt;/project&gt;</code></pre><p>å› ä¸ºç»§æ‰¿äº†<code>spring-boot-starter-parent</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾èµ–çš„<code>spring-boot-starter-test</code>ä¸éœ€è¦å†™å…·ä½“çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥é›†æˆçˆ¶çº§çš„ç‰ˆæœ¬å®šä¹‰ã€‚å…¶ä¸­ï¼Œ<code>spring-boot-starter-web</code>æ˜¯ç”¨äºæä¾› REST API çš„ web å®¹å™¨ï¼Œ<code>spring-boot-starter-test</code>å¯ä»¥æä¾›å„ç§æµ‹è¯•æ¡†æ¶çš„ï¼Œ<code>spring-boot-maven-plugin</code>æ˜¯å°† SpringBoot åº”ç”¨æ‰“åŒ…ä¸ºå¯æ‰§è¡Œ jar çš„æ’ä»¶ã€‚</p><h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><p>å› ä¸ºæ˜¯ DEMO ç¤ºä¾‹ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ª Echo æ¥å£ï¼Œèƒ½å¤Ÿæ¥æ”¶è¯·æ±‚å‚æ•°ï¼Œå¹¶è¿”å›åŠ å·¥åçš„å­—ç¬¦ä¸²ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‡èƒ½çš„<code>Hello, World!</code>ã€‚</p><p>æˆ‘ä»¬çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code class="txt">â”œâ”€â”€ pom.xmlâ””â”€â”€ src    â”œâ”€â”€ main    â”‚   â”œâ”€â”€ java    â”‚   â”‚   â””â”€â”€ cn    â”‚   â”‚       â””â”€â”€ howardliu    â”‚   â”‚           â””â”€â”€ effective    â”‚   â”‚               â””â”€â”€ spring    â”‚   â”‚                   â””â”€â”€ springbootjunit5mockio    â”‚   â”‚                       â”œâ”€â”€ SpringbootJunit5MockioApplication.java    â”‚   â”‚                       â”œâ”€â”€ controller    â”‚   â”‚                       â”‚   â””â”€â”€ EchoController.java    â”‚   â”‚                       â””â”€â”€ service    â”‚   â”‚                           â”œâ”€â”€ EchoService.java    â”‚   â”‚                           â””â”€â”€ impl    â”‚   â”‚                               â””â”€â”€ EchoServiceImpl.java    â”‚   â””â”€â”€ resources    â”‚       â””â”€â”€ application.yaml    â””â”€â”€ test        â””â”€â”€ java            â””â”€â”€ cn                â””â”€â”€ howardliu                    â””â”€â”€ effective                        â””â”€â”€ spring                            â””â”€â”€ springbootjunit5mockio                                â””â”€â”€ controller                                    â”œâ”€â”€ EchoControllerMockTest.java                                    â””â”€â”€ EchoControllerNoMockitoTest.java</code></pre><ul><li>SpringbootJunit5MockioApplicationï¼šSpringBoot åº”ç”¨å¯åŠ¨å…¥å£</li><li>EchoControllerï¼šæ¥å£å®šä¹‰</li><li>EchoServiceï¼šå®ç°ä¸šåŠ¡é€»è¾‘æ¥å£</li><li>EchoServiceImplï¼šæ¥å£å®ç°</li><li>EchoControllerMockTestï¼šä½¿ç”¨ Mock ä»£ç† EchoService å®ç°</li><li>EchoControllerNoMockitoTestï¼šç›´æ¥æµ‹è¯•æ¥å£å®ç°</li></ul><h3 id="EchoServiceImpl"><a href="#EchoServiceImpl" class="headerlink" title="EchoServiceImpl"></a>EchoServiceImpl</h3><p>æˆ‘ä»¬çœ‹ä¸‹<code>EchoService</code>çš„å®ç°ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬ DEMO çš„æ ¸å¿ƒå®ç°ï¼š</p><pre><code class="java">@Servicepublic class EchoServiceImpl implements EchoService {    @Override    public String echo(String foo) {        return &quot;Hello, &quot; + foo;    }}</code></pre><h3 id="EchoControllerNoMockitoTest"><a href="#EchoControllerNoMockitoTest" class="headerlink" title="EchoControllerNoMockitoTest"></a>EchoControllerNoMockitoTest</h3><p>æˆ‘ä»¬å…ˆä½¿ç”¨ Junit5+MockMvc å®ç° Controller æ¥å£çš„æ™®é€šè°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">@SpringBootTest(classes = SpringbootJunit5MockioApplication.class)@AutoConfigureMockMvcclass EchoControllerNoMockitoTest {    @Autowired    private MockMvc mockMvc;    @Test    void echo() throws Exception {        final String result = mockMvc.perform(                MockMvcRequestBuilders.get(&quot;/echo/&quot;)                        .param(&quot;name&quot;, &quot;çœ‹å±±&quot;)        )                .andExpect(MockMvcResultMatchers.status().isOk())                .andDo(MockMvcResultHandlers.print())                .andReturn()                .getResponse()                .getContentAsString(StandardCharsets.UTF_8);        Assertions.assertEquals(&quot;Hello, çœ‹å±±&quot;, result);    }}</code></pre><p>æˆ‘ä»¬é€šè¿‡<code>SpringBootTest</code>æ³¨è§£å®šä¹‰è¿™æ˜¯ä¸€ä¸ª SpringBoot åº”ç”¨çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç„¶åé€šè¿‡<code>AutoConfigureMockMvc</code>å¯åŠ¨æµ‹è¯•å®¹å™¨ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥ç›´æ¥æ³¨å…¥<code>MockMvc</code>å®ä¾‹æµ‹è¯• Controller æ¥å£ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ä¼šè®©å†™<code>@ExtendWith({SpringExtension.class})</code>è¿™æ ·ä¸€ä¸ªæ³¨è§£ï¼Œå…¶å®å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚é€šè¿‡æºç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<code>SpringBootTest</code>æ³¨è§£å·²ç»æ·»åŠ äº†<code>ExtendWith</code>ã€‚</p><h3 id="EchoControllerMockTest"><a href="#EchoControllerMockTest" class="headerlink" title="EchoControllerMockTest"></a>EchoControllerMockTest</h3><p>è¿™ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ Mockito ç»„ä»¶ä»£ç†<code>EchoService</code>çš„<code>echo</code>æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">@SpringBootTest(classes = SpringbootJunit5MockioApplication.class)@ExtendWith(MockitoExtension.class)@AutoConfigureMockMvcclass EchoControllerMockTest {    @Autowired    private MockMvc mockMvc;    @MockBean    private EchoService echoService;    @BeforeEach    void setUp() {        Mockito.when(echoService.echo(Mockito.any()))                .thenReturn(&quot;çœ‹å±±è¯´ï¼š&quot; + System.currentTimeMillis());    }    @Test    void echo() throws Exception {        final String result = mockMvc.perform(                MockMvcRequestBuilders.get(&quot;/echo/&quot;)                        .param(&quot;name&quot;, &quot;çœ‹å±±çš„å°å±‹&quot;)        )                .andExpect(MockMvcResultMatchers.status().isOk())                .andDo(MockMvcResultHandlers.print())                .andReturn()                .getResponse()                .getContentAsString(StandardCharsets.UTF_8);        Assertions.assertTrue(result.startsWith(&quot;çœ‹å±±&quot;));    }}</code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„<code>@ExtendWith(MockitoExtension.class)</code>æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£æ˜¯ç”¨äºå¼•å…¥<code>MockBean</code>çš„ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹<code>echo</code>æ–¹æ³•çš„æ‹¦æˆªï¼Œä½¿å…¶è¿”å›æˆ‘ä»¬å®šä¹‰å¥½çš„å“åº”ç»“æœã€‚è¿™ç§æ–¹å¼æ˜¯ä¸ºäº†åœ¨å¤šç³»ç»Ÿæˆ–è€…å¤šåŠŸèƒ½æµ‹è¯•æ—¶ï¼Œä¸éœ€è¦çœŸæ­£è°ƒç”¨æ¥å£ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦è·å–ç”¨æˆ·æ‰‹æœºå·ï¼Œé€šå¸¸åœ¨æ¥å£ä¸­ä¼šæ ¡éªŒç”¨æˆ·æœ‰æ²¡æœ‰ç™»å½•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Mockito çš„èƒ½åŠ›ä»£ç†ç™»å½•éªŒè¯ï¼Œä½¿ç»“æœæ°¸è¿œæ˜¯ trueã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº† SpringBoot é›†æˆ Junit5ã€MockMvcã€Mockito çš„ç¤ºä¾‹ã€‚æƒ³è¦è·å–æºç ï¼Œåªéœ€è¦å…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤<code>spring</code>å³å¯ã€‚</p><p>å¾ˆå¤šåŒå­¦æ„Ÿè§‰å•å…ƒæµ‹è¯•æ²¡æœ‰ç¼–å†™çš„å¿…è¦ï¼Œç›´æ¥ä½¿ç”¨ Swagger æˆ–è€… Postman ä¹‹ç±»çš„å·¥å…·å°±èƒ½å¾ˆå¥½çš„æµ‹è¯•æ¥å£ã€‚ç¡®å®å¦‚æ­¤ï¼Œå¯¹äºç®€å•çš„ CRUD æ¥å£ï¼Œå†™å•å…ƒæµ‹è¯•çš„å¿…è¦æ€§ä¸å¤ªé«˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ˜¯å¤æ‚æ¥å£å‘¢ï¼Ÿæ¥å£å‚æ•°æœ‰å¾ˆå¤šçš„ç»„åˆï¼Œå“åº”ç»“æœä¹Ÿéœ€è¦å„ç§éªŒè¯ï¼Œå¦‚æœä½¿ç”¨ä¸€æ¬¡æ€§çš„å·¥å…·ï¼Œæ¯æ¬¡æµ‹è¯•ç»„åˆå‚æ•°å°±å·²ç»è®©äººå´©æºƒäº†ï¼Œè€Œä¸”ç»„åˆå‚æ•°ä¸èƒ½å­˜ç•™ç”šè‡³ä¸èƒ½åœ¨å¤šäººé—´ä¼ æ‰¿ï¼Œå°±ä¼šæµªè´¹å¾ˆå¤šçš„äººåŠ›ã€‚</p><p>æ­¤æ—¶ï¼Œå•å…ƒæµ‹è¯•çš„æ•ˆæœå°±ä¼šæ˜¾ç°ã€‚æˆ‘ä»¬åªéœ€è¦ç¼–å†™ä¸€æ¬¡å‚æ•°ç»„åˆï¼Œæ”¾åœ¨ csv ä¹‹ç±»çš„æ–‡ä»¶ä¸­ï¼Œé€šè¿‡å•å…ƒæµ‹è¯•çš„å‚æ•°åŒ–æµ‹è¯•æ–¹å¼ï¼Œå³å¯å¤šæ¬¡è¿è¡Œï¼ŒéªŒè¯æ¥å£çš„æ­£ç¡®æ€§ã€‚</p><p>æˆ–è€…ï¼Œå½“æˆ‘ä»¬æ„Ÿè§‰ç³»ç»Ÿå·²ç»è‡­å‘³å¼¥æ¼«ï¼Œå¯¹å…¶é‡æ„ä¹‹åï¼Œä¸ºäº†éªŒè¯æ¥å£åŠŸèƒ½ä¸å˜ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨åŸæ¥çš„æµ‹è¯•ç”¨ä¾‹åŠ ä»¥éªŒè¯ã€‚</p><p>ç»¼ä¸Šï¼Œè™½ç„¶æµ‹è¯•ç”¨ä¾‹ç¼–å†™éº»çƒ¦ï¼Œä½†æ˜¯å¦™ç”¨æ— ç©·ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response/">SpringBoot å®æˆ˜ï¼šä¸€æ‹›å®ç°ç»“æœçš„ä¼˜é›…å“åº”</a></li><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response-exception/">SpringBoot å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…çš„å¤„ç†å¼‚å¸¸</a></li><li><a href="https://www.howardliu.cn/spring-beanpostprocessor/">SpringBoot å®æˆ˜ï¼šé€šè¿‡ BeanPostProcessor åŠ¨æ€æ³¨å…¥ ID ç”Ÿæˆå™¨</a></li><li><a href="https://www.howardliu.cn/spring-request-recorder/">SpringBoot å®æˆ˜ï¼šè‡ªå®šä¹‰ Filter ä¼˜é›…è·å–è¯·æ±‚å‚æ•°å’Œå“åº”ç»“æœ</a></li><li><a href="https://www.howardliu.cn/spring-enum-params/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-enum-params-principle/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/120244720" target="_blank" rel="noopener">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://static.howardliu.cn/coffee-beans-6603499_1920.jpg&quot; alt=&quot;SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¥å›¾ç‰‡ç”±&lt;a href=&quot;https://pixabay.com/zh/users/nickype-10327513/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=6603499&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;NickyPe&lt;/a&gt;åœ¨&lt;a href=&quot;https://pixabay.com/zh/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=6603499&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Pixabay&lt;/a&gt;ä¸Šå‘å¸ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¤©èŠèŠå¦‚ä½•åœ¨ SpringBoot ä¸­é›†æˆ Junit5ã€MockMvcã€Mocktioã€‚Junit5 æ˜¯åœ¨ Java æ ˆä¸­åº”ç”¨æœ€å¹¿çš„æµ‹è¯•æ¡†æ¶ï¼ŒJunit4 ä¸€åº¦éœ¸æ¦œã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="springboot" scheme="https://www.howardliu.cn/categories/springboot/"/>
    
    
      <category term="å®æˆ˜" scheme="https://www.howardliu.cn/tags/%E5%AE%9E%E6%88%98/"/>
    
      <category term="SpringBoot" scheme="https://www.howardliu.cn/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</title>
    <link href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/"/>
    <id>https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/</id>
    <published>2021-08-28T08:39:56.000Z</published>
    <updated>2021-08-28T08:39:56.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static.howardliu.cn/lesser-sand-plover-6535531_1920.jpg" alt="SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/johnnys_pic-21062476/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6535531" target="_blank" rel="noopener">Johnnys_pic</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6535531" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>åœ¨<a href="https://www.howardliu.cn/springboot-enum-params-principle/">ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a>ä¸­æˆ‘ä»¬èŠè¿‡ï¼ŒSpringå¯¹äºä¸åŒçš„å‚æ•°å½¢å¼ï¼Œä¼šé‡‡ç”¨ä¸åŒçš„å¤„ç†ç±»å¤„ç†å‚æ•°ï¼Œè¿™ç§å½¢å¼ï¼Œæœ‰äº›ç±»ä¼¼äºç­–ç•¥æ¨¡å¼ã€‚å°†é’ˆå¯¹ä¸åŒå‚æ•°å½¢å¼çš„å¤„ç†é€»è¾‘ï¼Œæ‹†åˆ†åˆ°ä¸åŒå¤„ç†ç±»ä¸­ï¼Œå‡å°‘è€¦åˆå’Œå„ç§if-elseé€»è¾‘ã€‚æœ¬æ–‡å°±æ¥æ‰’ä¸€æ‰’ï¼ŒRequestBodyå‚æ•°ä¸­ä½¿ç”¨æšä¸¾å‚æ•°çš„åŸç†ã€‚</p><a id="more"></a><h2 id="æ‰¾å…¥å£"><a href="#æ‰¾å…¥å£" class="headerlink" title="æ‰¾å…¥å£"></a>æ‰¾å…¥å£</h2><p>å¯¹ Spring æœ‰ä¸€å®šåŸºç¡€çš„åŒå­¦ä¸€å®šçŸ¥é“ï¼Œè¯·æ±‚å…¥å£æ˜¯<code>DispatcherServlet</code>ï¼Œæ‰€æœ‰çš„è¯·æ±‚æœ€ç»ˆéƒ½ä¼šè½åˆ°<code>doDispatch</code>æ–¹æ³•ä¸­çš„<code>ha.handle(processedRequest, response, mappedHandler.getHandler())</code>é€»è¾‘ã€‚æˆ‘ä»¬ä»è¿™é‡Œå‡ºå‘ï¼Œä¸€å±‚ä¸€å±‚å‘é‡Œæ‰’ã€‚</p><p>è·Ÿç€ä»£ç æ·±å…¥ï¼Œæˆ‘ä»¬ä¼šæ‰¾åˆ°<code>org.springframework.web.method.support.InvocableHandlerMethod#invokeForRequest</code>çš„é€»è¾‘ï¼š</p><pre><code class="java">public Object invokeForRequest(NativeWebRequest request, @Nullable ModelAndViewContainer mavContainer,        Object... providedArgs) throws Exception {    Object[] args = getMethodArgumentValues(request, mavContainer, providedArgs);    if (logger.isTraceEnabled()) {        logger.trace(&quot;Arguments: &quot; + Arrays.toString(args));    }    return doInvoke(args);}</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œé¢é€šè¿‡<code>getMethodArgumentValues</code>æ–¹æ³•å¤„ç†å‚æ•°ï¼Œç„¶åè°ƒç”¨<code>doInvoke</code>æ–¹æ³•è·å–è¿”å›å€¼ã€‚<code>getMethodArgumentValues</code>æ–¹æ³•å†…éƒ¨åˆæ˜¯é€šè¿‡<code>HandlerMethodArgumentResolverComposite</code>å®ä¾‹å¤„ç†å‚æ•°ã€‚è¿™ä¸ªç±»å†…éƒ¨æ˜¯ä¸€ä¸ª<code>HandlerMethodArgumentResolver</code>å®ä¾‹åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ˜¯Springå¤„ç†å‚æ•°é€»è¾‘çš„é›†åˆï¼Œè·Ÿéšä»£ç Debugï¼Œå¯ä»¥çœ‹åˆ°æœ‰27ä¸ªå…ƒç´ ã€‚è¿™äº›ç±»ä¹Ÿæ˜¯å¯ä»¥å®šåˆ¶æ‰©å±•ï¼Œå®ç°è‡ªå·±çš„å‚æ•°è§£æé€»è¾‘ï¼Œè¿™éƒ¨åˆ†å†…å®¹åç»­å†åšä»‹ç»ã€‚</p><h2 id="é€‰æ‹©Resolver"><a href="#é€‰æ‹©Resolver" class="headerlink" title="é€‰æ‹©Resolver"></a>é€‰æ‹©Resolver</h2><p>è¿™ä¸ªResolveråˆ—è¡¨ä¸­ï¼ŒåŒ…å«æˆ‘ä»¬å¸¸ç”¨çš„å‡ ä¸ªå¤„ç†ç±»ã€‚Getè¯·æ±‚çš„æ™®é€šå‚æ•°æ˜¯é€šè¿‡<code>RequestParamMethodArgumentResolver</code>å¤„ç†å‚æ•°ï¼ŒåŒ…è£…ç±»é€šè¿‡<code>ModelAttributeMethodProcessor</code>å¤„ç†å‚æ•°ï¼ŒRequestBodyå½¢å¼çš„å‚æ•°ï¼Œåˆ™æ˜¯é€šè¿‡<code>RequestResponseBodyMethodProcessor</code>å¤„ç†å‚æ•°ã€‚è¿™æ®µå°±æ˜¯Springä¸­ç­–ç•¥æ¨¡å¼çš„ä½¿ç”¨ï¼Œé€šè¿‡å®ç°<code>org.springframework.web.method.support.HandlerMethodArgumentResolver#supportsParameter</code>æ–¹æ³•ï¼Œåˆ¤æ–­è¾“å…¥å‚æ•°æ˜¯å¦å¯ä»¥è§£æã€‚ä¸‹é¢è´´ä¸Š<code>RequestResponseBodyMethodProcessor</code>çš„å®ç°ï¼š</p><pre><code class="java">public boolean supportsParameter(MethodParameter parameter) {    return parameter.hasParameterAnnotation(RequestBody.class);}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>RequestResponseBodyMethodProcessor</code>æ˜¯é€šè¿‡åˆ¤æ–­å‚æ•°æ˜¯å¦å¸¦æœ‰<code>RequestBody</code>æ³¨è§£æ¥åˆ¤æ–­ï¼Œå½“å‰å‚æ•°æ˜¯å¦å¯ä»¥è§£æã€‚</p><h2 id="è§£æå‚æ•°"><a href="#è§£æå‚æ•°" class="headerlink" title="è§£æå‚æ•°"></a>è§£æå‚æ•°</h2><p><code>RequestResponseBodyMethodProcessor</code>ç»§æ‰¿è‡ª<code>AbstractMessageConverterMethodArgumentResolver</code>ï¼ŒçœŸæ­£è§£æ<code>RequestBody</code>å‚æ•°çš„é€»è¾‘åœ¨<code>org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver#readWithMessageConverters</code>æ–¹æ³•ä¸­ã€‚æˆ‘ä»¬çœ‹ä¸‹æºç ï¼ˆå› ä¸ºæºç æ¯”è¾ƒé•¿ï¼Œæ–‡ä¸­ä»…ç•™ä¸‹æ ¸å¿ƒé€»è¾‘ã€‚ï¼‰ï¼š</p><pre><code class="java">protected &lt;T&gt; Object readWithMessageConverters(HttpInputMessage inputMessage, MethodParameter parameter,        Type targetType) throws IOException, HttpMediaTypeNotSupportedException, HttpMessageNotReadableException {    MediaType contentType = inputMessage.getHeaders().getContentType();// 1    Class&lt;?&gt; contextClass = parameter.getContainingClass();// 2    Class&lt;T&gt; targetClass = (targetType instanceof Class ? (Class&lt;T&gt;) targetType : null);// 3    Object body = NO_VALUE;    EmptyBodyCheckingHttpInputMessage message = new EmptyBodyCheckingHttpInputMessage(inputMessage);// 4    for (HttpMessageConverter&lt;?&gt; converter : this.messageConverters) {// 5        Class&lt;HttpMessageConverter&lt;?&gt;&gt; converterType = (Class&lt;HttpMessageConverter&lt;?&gt;&gt;) converter.getClass();        GenericHttpMessageConverter&lt;?&gt; genericConverter =                (converter instanceof GenericHttpMessageConverter ? (GenericHttpMessageConverter&lt;?&gt;) converter : null);        if (genericConverter != null ? genericConverter.canRead(targetType, contextClass, contentType) :                (targetClass != null &amp;&amp; converter.canRead(targetClass, contentType))) {            if (message.hasBody()) {                HttpInputMessage msgToUse =                        getAdvice().beforeBodyRead(message, parameter, targetType, converterType);                body = (genericConverter != null ? genericConverter.read(targetType, contextClass, msgToUse) :                        ((HttpMessageConverter&lt;T&gt;) converter).read(targetClass, msgToUse));// 6                body = getAdvice().afterBodyRead(body, msgToUse, parameter, targetType, converterType);            }            else {                body = getAdvice().handleEmptyBody(null, message, parameter, targetType, converterType);            }            break;        }    }    return body;}</code></pre><p>è·Ÿç€ä»£ç è¯´æ˜ä¸€ä¸‹å„éƒ¨åˆ†ç”¨é€”ï¼š</p><ol><li>è·å–è¯·æ±‚content-type</li><li>è·å–å‚æ•°å®¹å™¨ç±»</li><li>è·å–ç›®æ ‡å‚æ•°ç±»å‹</li><li>å°†è¯·æ±‚å‚æ•°è½¬æ¢ä¸º<code>EmptyBodyCheckingHttpInputMessage</code>ç±»å‹</li><li>å¾ªç¯å„ç§RequestBodyå‚æ•°è§£æå™¨ï¼Œè¿™äº›è§£æå™¨éƒ½æ˜¯<code>HttpMessageConverter</code>æ¥å£çš„å®ç°ç±»ã€‚Springå¯¹å„ç§æƒ…å†µåšäº†å…¨é‡è¦†ç›–ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆçš„ã€‚æ–‡æœ«ç»™å‡º<code>HttpMessageConverter</code>å„ä¸ªæ‰©å±•ç±»çš„ç±»å›¾ã€‚</li><li>forå¾ªç¯ä½“ä¸­å°±æ˜¯é€‰æ‹©ä¸€æ¬¾é€‚åˆçš„ï¼Œè¿›è¡Œè§£æ<ol><li>é¦–å…ˆè°ƒç”¨<code>canRead</code>æ–¹æ³•åˆ¤æ–­æ˜¯å¦å¯ç”¨</li><li>åˆ¤æ–­è¯·æ±‚è¯·æ±‚å‚æ•°æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºåˆ™é€šè¿‡AOPçš„<code>advice</code>å¤„ç†ä¸€ä¸‹ç©ºè¯·æ±‚ä½“ï¼Œç„¶åè¿”å›</li><li>ä¸ä¸ºç©ºï¼Œå…ˆé€šè¿‡AOPçš„<code>advice</code>åšå‰ç½®å¤„ç†ï¼Œç„¶åè°ƒç”¨<code>read</code>æ–¹æ³•è½¬æ¢å¯¹è±¡ï¼Œåœ¨é€šè¿‡<code>advice</code>åšåç½®å¤„ç†</li></ol></li></ol><blockquote><p>Springçš„AOPä¸åœ¨æœ¬æ–‡èŒƒå›´å†…ï¼Œæ‰€ä»¥ä¸€ç¬”å¸¦è¿‡ã€‚åç»­æœ‰ä¸“é¢˜è¯´æ˜ã€‚</p></blockquote><p>æœ¬ä¾‹ä¸­ï¼Œ<code>HttpMessageConverter</code>ä½¿ç”¨çš„æ˜¯<code>MappingJackson2HttpMessageConverter</code>ï¼Œè¯¥ç±»ç»§æ‰¿è‡ª<code>AbstractJackson2HttpMessageConverter</code>ã€‚çœ‹åç§°å°±çŸ¥é“ï¼Œè¿™ä¸ªç±»æ˜¯ä½¿ç”¨Jacksonå¤„ç†è¯·æ±‚å‚æ•°ã€‚å…¶ä¸­<code>read</code>æ–¹æ³•ä¹‹åï¼Œä¼šè°ƒç”¨å†…éƒ¨ç§æœ‰æ–¹æ³•<code>readJavaType</code>ï¼Œä¸‹é¢ç»™å‡ºè¯¥æ–¹æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼š</p><pre><code class="java">private Object readJavaType(JavaType javaType, HttpInputMessage inputMessage) throws IOException {    MediaType contentType = inputMessage.getHeaders().getContentType();// 1    Charset charset = getCharset(contentType);    ObjectMapper objectMapper = selectObjectMapper(javaType.getRawClass(), contentType);// 2    Assert.state(objectMapper != null, &quot;No ObjectMapper for &quot; + javaType);    boolean isUnicode = ENCODINGS.containsKey(charset.name()) ||            &quot;UTF-16&quot;.equals(charset.name()) ||            &quot;UTF-32&quot;.equals(charset.name());// 3    try {        if (isUnicode) {            return objectMapper.readValue(inputMessage.getBody(), javaType);// 4        } else {            Reader reader = new InputStreamReader(inputMessage.getBody(), charset);            return objectMapper.readValue(reader, javaType);        }    }    catch (InvalidDefinitionException ex) {        throw new HttpMessageConversionException(&quot;Type definition error: &quot; + ex.getType(), ex);    }    catch (JsonProcessingException ex) {        throw new HttpMessageNotReadableException(&quot;JSON parse error: &quot; + ex.getOriginalMessage(), ex, inputMessage);    }}</code></pre><p>è·Ÿç€ä»£ç è¯´æ˜ä¸€ä¸‹å„éƒ¨åˆ†ç”¨é€”ï¼š</p><ol><li>è·å–è¯·æ±‚çš„<code>content-type</code>ï¼Œè¿™ä¸ªæ˜¯Springå®ç°çš„æ‰©å±•é€»è¾‘ï¼Œæ ¹æ®ä¸åŒçš„<code>content-type</code>å¯ä»¥é€‰æ‹©ä¸åŒçš„<code>ObjectMapper</code>å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯ç¬¬2æ­¥çš„é€»è¾‘</li><li>æ ¹æ®<code>content-type</code>å’Œç›®æ ‡ç±»å‹ï¼Œé€‰æ‹©<code>ObjectMapper</code>å®ä¾‹ã€‚æœ¬ä¾‹ä¸­ç›´æ¥è¿”å›çš„æ˜¯é»˜è®¤çš„ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡<code>Jackson2ObjectMapperBuilder.cbor().build()</code>æ–¹æ³•åˆ›å»ºçš„ã€‚</li><li>æ£€æŸ¥è¯·æ±‚æ˜¯å¦æ˜¯unicodeå­—ç¬¦ï¼Œç›®å‰æ¥è¯´ï¼Œå¤§å®¶ç”¨çš„éƒ½æ˜¯<code>UTF-8</code>çš„</li><li>é€šè¿‡<code>ObjectMapper</code>å°†è¯·æ±‚jsonè½¬æ¢ä¸ºå¯¹è±¡ã€‚å…¶å®è¿™éƒ¨åˆ†è¿˜æœ‰ä¸€æ®µåˆ¤æ–­<code>inputMessage</code>æ˜¯å¦æ˜¯<code>MappingJacksonInputMessage</code>å®ä¾‹çš„ï¼Œè€ƒè™‘åˆ°å¤§å®¶ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œè¿™éƒ¨åˆ†å°±ä¸è¯´äº†ã€‚</li></ol><p>è‡³æ­¤ï¼ŒSpringçš„é€»è¾‘å…¨éƒ¨ç»“æŸï¼Œä¼¼ä¹è¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°æˆ‘ä»¬ä½¿ç”¨çš„<code>JsonCreator</code>æ³¨è§£æˆ–è€…<code>JsonDeserialize</code>çš„é€»è¾‘ã€‚ä¸è¿‡ä¹Ÿèƒ½æƒ³åˆ°ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯Jacksonçš„ç±»ï¼Œé‚£å¿…ç„¶åº”è¯¥æ˜¯Jacksonçš„é€»è¾‘ã€‚æ¥ä¸‹æ¥ï¼Œå°±æ‰’ä¸€æ‰’Jacksonçš„è½¬æ¢é€»è¾‘äº†ã€‚</p><h2 id="æ·±å…¥Jacksonçš„ObjectMapperé€»è¾‘"><a href="#æ·±å…¥Jacksonçš„ObjectMapperé€»è¾‘" class="headerlink" title="æ·±å…¥Jacksonçš„ObjectMapperé€»è¾‘"></a>æ·±å…¥Jacksonçš„ObjectMapperé€»è¾‘</h2><p>ç‰µæ‰¯Jacksonçš„é€»è¾‘ä¸»è¦åˆ†å¸ƒåœ¨<code>AbstractMessageConverterMethodArgumentResolver#readWithMessageConverters</code>å’Œ<code>ObjectMapper#readValue</code>è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­ã€‚å…ˆè¯´ä¸€ä¸‹<code>ObjectMapper#readValue</code>æ–¹æ³•çš„é€»è¾‘ï¼Œè¿™é‡Œé¢ä¼šè°ƒç”¨<code>GenderIdCodeEnum#create</code>æ–¹æ³•ï¼Œå®Œæˆç±»å‹è½¬æ¢ã€‚</p><p><code>ObjectMapper#readValue</code>æ–¹æ³•ç›´æ¥è°ƒç”¨äº†å½“å‰ç±»ä¸­çš„<code>_readMapAndClose</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œé¢æ¯”è¾ƒå…³é”®çš„æ˜¯<code>ctxt.readRootValue(p, valueType, _findRootDeserializer(ctxt, valueType), null)</code>ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯å°†è¾“å…¥jsonè½¬æ¢ä¸ºå¯¹è±¡ã€‚å’±ä»¬å†ç»§ç»­æ·±å…¥ï¼Œå¯ä»¥æ‰¾åˆ°Jacksonå†…éƒ¨æ˜¯é€šè¿‡<code>BeanDeserializer</code>è¿™ä¸ªç±»è½¬æ¢å¯¹è±¡çš„ï¼Œæ¯”è¾ƒé‡è¦çš„æ˜¯<code>deserializeFromObject</code>æ–¹æ³•ï¼Œæºç å¦‚ä¸‹ï¼ˆåˆ é™¤ä¸€ä¸‹ä¸å¤ªé‡è¦çš„ä»£ç ï¼‰ï¼š</p><pre><code class="java">public Object deserializeFromObject(JsonParser p, DeserializationContext ctxt) throws IOException{    // è¿™é‡Œæ ¹æ®ä¸Šä¸‹æ–‡ä¸­ç›®æ ‡ç±»å‹ï¼Œåˆ›å»ºå®ä¾‹å¯¹è±¡ï¼Œå…¶ä¸­ _valueInstantiator æ˜¯ StdValueInstantiator å®ä¾‹ã€‚    final Object bean = _valueInstantiator.createUsingDefault(ctxt);    // [databind#631]: Assign current value, to be accessible by custom deserializers    p.setCurrentValue(bean);    if (p.hasTokenId(JsonTokenId.ID_FIELD_NAME)) {        String propName = p.currentName();        do {            p.nextToken();            // æ ¹æ®å­—æ®µåæ‰¾åˆ° å±æ€§å¯¹è±¡ï¼Œå¯¹äºgenderå­—æ®µï¼Œç±»å‹æ˜¯ MethodPropertyã€‚            SettableBeanProperty prop = _beanProperties.find(propName);            if (prop != null) { // normal case                try {                    // å¼€å§‹è¿›è¡Œè§£ç æ“ä½œï¼Œå¹¶å°†è§£ç ç»“æœå†™å…¥åˆ°å¯¹è±¡ä¸­                    prop.deserializeAndSet(p, ctxt, bean);                } catch (Exception e) {                    wrapAndThrow(e, bean, propName, ctxt);                }                continue;            }            handleUnknownVanilla(p, ctxt, bean, propName);        } while ((propName = p.nextFieldName()) != null);    }    return bean;}</code></pre><p>å’±ä»¬çœ‹ä¸€ä¸‹<code>MethodProperty#deserializeAndSet</code>çš„é€»è¾‘ï¼ˆåªä¿ç•™å…³é”®ä»£ç ï¼‰ï¼š</p><pre><code class="java">public void deserializeAndSet(JsonParser p, DeserializationContext ctxt,        Object instance) throws IOException{    Object value;    // è°ƒç”¨ FactoryBasedEnumDeserializer å®ä¾‹çš„è§£ç æ–¹æ³•    value = _valueDeserializer.deserialize(p, ctxt);    // é€šè¿‡åå°„å°†å€¼å†™å…¥å¯¹è±¡ä¸­    _setter.invoke(instance, value);}</code></pre><p>å…¶ä¸­<code>_valueDeserializer</code>æ˜¯<code>FactoryBasedEnumDeserializer</code>å®ä¾‹ï¼Œå¿«è¦æ¥è¿‘ç›®æ ‡äº†ï¼Œçœ‹ä¸‹è¿™æ®µé€»è¾‘ï¼š</p><pre><code class="java">public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException{    // è·å–jsonä¸­çš„å€¼    Object value = _deser.deserialize(p, ctxt);    // è°ƒç”¨ GenderIdCodeEnum#create æ–¹æ³•    return _factory.callOnWith(_valueClass, value);}</code></pre><p><code>_factory</code>æ˜¯<code>AnnotatedMethod</code>å®ä¾‹ï¼Œä¸»è¦æ˜¯å¯¹<code>JsonCreator</code>æ³¨è§£å®šä¹‰çš„æ–¹æ³•çš„åŒ…è£…ï¼Œç„¶å<code>callOnWith</code>ä¸­è°ƒç”¨<code>java.lang.reflect.Method#invoke</code>åå°„æ–¹æ³•ï¼Œæ‰§è¡Œ<code>GenderIdCodeEnum#create</code>ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç»ˆäºä¸²èµ·æ¥æ‰€æœ‰é€»è¾‘ã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç¤ºä¾‹ä¸²èµ·æ¥<code>@JsonCreator</code>æ³¨è§£èµ·ä½œç”¨çš„é€»è¾‘ï¼Œ<code>JsonDeserializer</code>æ¥å£çš„é€»è¾‘ä¸ä¹‹ç±»å‹ï¼Œå¯ä»¥è€å¿ƒdebugä¸€ç•ªã€‚ä¸‹é¢ç»™å‡ºä¸»è¦ç±»çš„ç±»å›¾ï¼š</p><p><img src="https://static.howardliu.cn/RequestResponseBodyMethodProcessor.png" alt="SpringBootå‚æ•°è§£æç±»å›¾"></p><p><img src="https://static.howardliu.cn/HttpMessageConverter.png" alt="HttpMessageConverter"></p><p><img src="https://static.howardliu.cn/ObjectMapper.png" alt="ObjectMapper"></p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response/">SpringBoot å®æˆ˜ï¼šä¸€æ‹›å®ç°ç»“æœçš„ä¼˜é›…å“åº”</a></li><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response-exception/">SpringBoot å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…çš„å¤„ç†å¼‚å¸¸</a></li><li><a href="https://www.howardliu.cn/spring-beanpostprocessor/">SpringBoot å®æˆ˜ï¼šé€šè¿‡ BeanPostProcessor åŠ¨æ€æ³¨å…¥ ID ç”Ÿæˆå™¨</a></li><li><a href="https://www.howardliu.cn/spring-request-recorder/">SpringBoot å®æˆ˜ï¼šè‡ªå®šä¹‰ Filter ä¼˜é›…è·å–è¯·æ±‚å‚æ•°å’Œå“åº”ç»“æœ</a></li><li><a href="https://www.howardliu.cn/spring-enum-params/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-enum-params-principle/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/120052842" target="_blank" rel="noopener">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://static.howardliu.cn/lesser-sand-plover-6535531_1920.jpg&quot; alt=&quot;SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¥å›¾ç‰‡ç”±&lt;a href=&quot;https://pixabay.com/zh/users/johnnys_pic-21062476/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=6535531&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Johnnys_pic&lt;/a&gt;åœ¨&lt;a href=&quot;https://pixabay.com/zh/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=6535531&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Pixabay&lt;/a&gt;ä¸Šå‘å¸ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;a href=&quot;https://www.howardliu.cn/springboot-enum-params-principle/&quot;&gt;ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰&lt;/a&gt;ä¸­æˆ‘ä»¬èŠè¿‡ï¼ŒSpringå¯¹äºä¸åŒçš„å‚æ•°å½¢å¼ï¼Œä¼šé‡‡ç”¨ä¸åŒçš„å¤„ç†ç±»å¤„ç†å‚æ•°ï¼Œè¿™ç§å½¢å¼ï¼Œæœ‰äº›ç±»ä¼¼äºç­–ç•¥æ¨¡å¼ã€‚å°†é’ˆå¯¹ä¸åŒå‚æ•°å½¢å¼çš„å¤„ç†é€»è¾‘ï¼Œæ‹†åˆ†åˆ°ä¸åŒå¤„ç†ç±»ä¸­ï¼Œå‡å°‘è€¦åˆå’Œå„ç§if-elseé€»è¾‘ã€‚æœ¬æ–‡å°±æ¥æ‰’ä¸€æ‰’ï¼ŒRequestBodyå‚æ•°ä¸­ä½¿ç”¨æšä¸¾å‚æ•°çš„åŸç†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/categories/spring/"/>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/tags/spring/"/>
    
      <category term="enum" scheme="https://www.howardliu.cn/tags/enum/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</title>
    <link href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/"/>
    <id>https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/</id>
    <published>2021-08-22T07:45:44.000Z</published>
    <updated>2021-08-22T07:45:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/macroperspective-6558526_1920.jpg" alt="SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/christian_crowd-22911196/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6558526" target="_blank" rel="noopener">Christian_Crowd</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6558526" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>å‰æ–‡è¯´åˆ° <a href="https://www.howardliu.cn/spring-enum-params/">ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a> å’Œ <a href="https://www.howardliu.cn/springboot-enum-params-principle/">å®ç°åŸç†</a>ï¼Œæœ¬æ–‡ç»§ç»­è¯´ä¸€ä¸‹å¦‚ä½•åœ¨ RequestBody ä¸­ä¼˜é›…ä½¿ç”¨æšä¸¾ã€‚</p><p>æœ¬æ–‡å…ˆä¸Šå®æˆ˜ï¼Œè¯´ä¸€ä¸‹å¦‚ä½•å®ç°ã€‚åœ¨ <a href="https://www.howardliu.cn/spring-enum-params/">ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a> ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ç»§ç»­å®ç°ã€‚å¦‚æœæƒ³è¦è·å–æºç ï¼Œå¯ä»¥å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤ spring å³å¯ã€‚</p><a id="more"></a><h2 id="ç¡®è®¤éœ€æ±‚"><a href="#ç¡®è®¤éœ€æ±‚" class="headerlink" title="ç¡®è®¤éœ€æ±‚"></a>ç¡®è®¤éœ€æ±‚</h2><p>éœ€æ±‚ä¸å‰æ–‡ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™é‡Œéœ€è¦æ˜¯åœ¨ RequestBody ä¸­ä½¿ç”¨ã€‚ä¸å‰æ–‡ä¸åŒçš„æ˜¯ï¼Œè¿™ç§è¯·æ±‚æ˜¯é€šè¿‡ Http Body çš„æ–¹å¼ä¼ è¾“åˆ°åç«¯ï¼Œé€šå¸¸æ˜¯ json æˆ– xml æ ¼å¼ï¼ŒSpring é»˜è®¤å€ŸåŠ© Jackson ååºåˆ—åŒ–ä¸ºå¯¹è±¡ã€‚</p><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æšä¸¾ä¸­å®šä¹‰ int ç±»å‹çš„ idã€String ç±»å‹çš„ codeï¼Œid å–å€¼ä¸é™äºåºå·ï¼ˆå³ä» 0 å¼€å§‹çš„ orinal æ•°æ®ï¼‰ï¼Œcode ä¸é™äº nameã€‚å®¢æˆ·ç«¯è¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä¼  idï¼Œå¯ä»¥ä¼  codeï¼Œä¹Ÿå¯ä»¥ä¼  nameã€‚æœåŠ¡ç«¯åªéœ€è¦åœ¨å¯¹è±¡ä¸­å®šä¹‰ä¸€ä¸ªæšä¸¾å‚æ•°ï¼Œä¸éœ€è¦é¢å¤–çš„è½¬æ¢ï¼Œå³å¯å¾—åˆ°æšä¸¾å€¼ã€‚</p><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®šä¹‰ä¸€ä¸‹æšä¸¾å¯¹è±¡ã€‚</p><h2 id="å®šä¹‰æšä¸¾å’Œå¯¹è±¡"><a href="#å®šä¹‰æšä¸¾å’Œå¯¹è±¡" class="headerlink" title="å®šä¹‰æšä¸¾å’Œå¯¹è±¡"></a>å®šä¹‰æšä¸¾å’Œå¯¹è±¡</h2><p>å…ˆå®šä¹‰æˆ‘ä»¬çš„æšä¸¾ç±»<code>GenderIdCodeEnum</code>ï¼ŒåŒ…å« id å’Œ code ä¸¤ä¸ªå±æ€§ï¼š</p><pre><code class="java">public enum GenderIdCodeEnum implements IdCodeBaseEnum {    MALE(1, &quot;male&quot;),    FEMALE(2, &quot;female&quot;);    private final Integer id;    private final String code;    GenderIdCodeEnum(Integer id, String code) {        this.id = id;        this.code = code;    }    @Override    public String getCode() {        return code;    }    @Override    public Integer getId() {        return id;    }}</code></pre><p>è¿™ä¸ªæšä¸¾ç±»çš„è¦æ±‚ä¸å‰æ–‡ä¸€è‡´ï¼Œä¸æ¸…æ¥šçš„å¯ä»¥å†å»çœ‹ä¸€ä¸‹ã€‚</p><p>åœ¨å®šä¹‰ä¸€ä¸ªåŒ…è£…ç±»<code>GenderIdCodeRequestBody</code>ï¼Œç”¨äºæ¥æ”¶ json æ•°æ®çš„è¯·æ±‚ä½“ï¼š</p><pre><code class="java">@Datapublic class GenderIdCodeRequestBody {    private String name;    private GenderIdCodeEnum gender;    private long timestamp;}</code></pre><p>é™¤äº†<code>GenderIdCodeEnum</code>å‚æ•°å¤–ï¼Œå…¶ä»–éƒ½æ˜¯ç¤ºä¾‹ï¼Œæ‰€ä»¥éšä¾¿å®šä¹‰ä¸€ä¸‹ã€‚</p><h2 id="å®ç°è½¬æ¢é€»è¾‘"><a href="#å®ç°è½¬æ¢é€»è¾‘" class="headerlink" title="å®ç°è½¬æ¢é€»è¾‘"></a>å®ç°è½¬æ¢é€»è¾‘</h2><p>å‰å¥é“ºå«å¥½ï¼Œæ¥ä¸‹æ¥å…¥æ­£é¢˜äº†ã€‚Jackson æä¾›äº†ä¸¤ç§æ–¹æ¡ˆï¼š</p><ul><li>æ–¹æ¡ˆä¸€ï¼šç²¾å‡†æ”»å‡»ï¼ŒæŒ‡å®šéœ€è¦è½¬æ¢çš„å­—æ®µï¼Œä¸å½±å“å…¶ä»–ç±»å¯¹è±¡ä¸­çš„å­—æ®µ</li><li>æ–¹æ¡ˆäºŒï¼šå…¨èŒƒå›´æ”»å‡»ï¼Œæ‰€æœ‰å€ŸåŠ© Jackson ååºåˆ—åŒ–çš„æšä¸¾å­—æ®µï¼Œå…¨éƒ¨å…·å¤‡è‡ªåŠ¨è½¬æ¢åŠŸèƒ½</li></ul><h3 id="æ–¹æ¡ˆä¸€ï¼šç²¾å‡†æ”»å‡»"><a href="#æ–¹æ¡ˆä¸€ï¼šç²¾å‡†æ”»å‡»" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šç²¾å‡†æ”»å‡»"></a>æ–¹æ¡ˆä¸€ï¼šç²¾å‡†æ”»å‡»</h3><p>è¿™ç§æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å®ç°<code>JsonDeserialize</code>æŠ½è±¡ç±»ï¼š</p><pre><code class="java">public class IdCodeToEnumDeserializer extends JsonDeserializer&lt;BaseEnum&gt; {    @Override    public BaseEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)            throws IOException {        final String param = jsonParser.getText();// 1        final JsonStreamContext parsingContext = jsonParser.getParsingContext();// 2        final String currentName = parsingContext.getCurrentName();// 3        final Object currentValue = parsingContext.getCurrentValue();// 4        try {            final Field declaredField = currentValue.getClass().getDeclaredField(currentName);// 5            final Class&lt;?&gt; targetType = declaredField.getType();// 6            final Method createMethod = targetType.getDeclaredMethod(&quot;create&quot;, Object.class);// 7            return (BaseEnum) createMethod.invoke(null, param);// 8        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException | NoSuchFieldException e) {            throw new CodeBaseException(ErrorResponseEnum.PARAMS_ENUM_NOT_MATCH, new Object[] {param}, &quot;&quot;, e);        }    }}</code></pre><p>ç„¶ååœ¨æŒ‡å®šæšä¸¾å­—æ®µä¸Šå®šä¹‰<code>@JsonDeserialize</code>æ³¨è§£ï¼Œæ¯”å¦‚ï¼š</p><pre><code class="java">@JsonDeserialize(using = IdCodeToEnumDeserializer.class)private GenderIdCodeEnum gender;</code></pre><p>å…·ä½“è¯´ä¸€ä¸‹æ¯è¡Œçš„ä½œç”¨ï¼š</p><ol><li>è·å–å‚æ•°å€¼ã€‚æ ¹æ®éœ€è¦ï¼Œæ­¤å¤„å¯èƒ½æ˜¯ idã€code æˆ– nameï¼Œä¹Ÿå°±æ˜¯æºå€¼ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸ºæšä¸¾ï¼›</li><li>è·å–è½¬æ¢ä¸Šçº¿æ–‡ï¼Œè¿™ä¸ªæ˜¯ä¸º 3ã€4 æ­¥åšå‡†å¤‡çš„ï¼›</li><li>è·å–æ ‡è®°<code>@JsonDeserialize</code>æ³¨è§£çš„å­—æ®µï¼Œæ­¤æ—¶<code>currentName</code>çš„å€¼æ˜¯<code>gender</code>ï¼›</li><li>è·å–åŒ…è£…å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>GenderIdCodeRequestBody</code>å¯¹è±¡ï¼›</li><li>æ ¹æ®åŒ…è£…å¯¹è±¡çš„<code>Class</code>å¯¹è±¡ï¼Œä»¥åŠå­—æ®µå<code>gender</code>è·å–<code>Field</code>å¯¹è±¡ï¼Œä¸ºç¬¬ 5 æ­¥åšå‡†å¤‡ï¼›</li><li>è·å–<code>gender</code>å­—æ®µå¯¹åº”çš„æšä¸¾ç±»å‹ï¼Œä¹Ÿå³æ˜¯<code>GenderIdCodeEnum</code>ã€‚ä¹‹æ‰€ä»¥è¿™æ ·åšï¼Œæ˜¯è¦å®ç°ä¸€ä¸ªé€šç”¨çš„ååºåˆ—åŒ–ç±»ï¼›</li><li>è¿™é‡Œæ˜¯å†™æ­»çš„ä¸€ç§å®ç°ï¼Œå°±æ˜¯åœ¨æšä¸¾ç±»ä¸­ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæ–¹æ³•åæ˜¯<code>create</code>ï¼Œè¯·æ±‚å‚æ•°æ˜¯<code>Object</code>ï¼›</li><li>é€šè¿‡åå°„è°ƒç”¨<code>create</code>æ–¹æ³•ï¼Œå°†ç¬¬ä¸€æ­¥è·å–çš„è¯·æ±‚å‚æ•°ä¼ å…¥ã€‚</li></ol><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æšä¸¾ç±»ä¸­å®šä¹‰çš„<code>create</code>æ–¹æ³•ï¼š</p><pre><code class="java">public static GenderIdCodeEnum create(Object code) {    final String stringCode = code.toString();    final Integer intCode = BaseEnum.adapter(stringCode);    for (GenderIdCodeEnum item : values()) {        if (Objects.equals(stringCode, item.name())) {            return item;        }        if (Objects.equals(item.getCode(), stringCode)) {            return item;        }        if (Objects.equals(item.getId(), intCode)) {            return item;        }    }    return null;}</code></pre><p>ä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼Œæˆ‘ä»¬å¯ä»¥æå‰å®šä¹‰ä¸‰ç»„ mapï¼Œåˆ†åˆ«ä»¥ idã€codeã€name ä¸º keyï¼Œä»¥æšä¸¾å€¼ä¸º valueï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ O(1) çš„æ—¶é—´å¤æ‚åº¦è¿”å›äº†ã€‚å¯ä»¥å‚è€ƒå‰æ–‡çš„<code>Converter</code>ç±»çš„å®ç°é€»è¾‘ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°ç²¾å‡†è½¬æ¢äº†ã€‚</p><h3 id="æ–¹æ¡ˆäºŒï¼šå…¨èŒƒå›´æ”»å‡»"><a href="#æ–¹æ¡ˆäºŒï¼šå…¨èŒƒå›´æ”»å‡»" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šå…¨èŒƒå›´æ”»å‡»"></a>æ–¹æ¡ˆäºŒï¼šå…¨èŒƒå›´æ”»å‡»</h3><p>è¿™ç§æ–¹æ¡ˆæ˜¯å…¨èŒƒå›´æ”»å‡»äº†ï¼Œåªè¦æ˜¯ Jackson å‚ä¸çš„ååºåˆ—åŒ–ï¼Œåªè¦å…¶ä¸­æœ‰ç›®æ ‡æšä¸¾å‚æ•°ï¼Œå°±ä¼šå—åˆ°è¿™ç§è¿›å…¥è¿™ç§æ–¹æ¡ˆçš„é€»è¾‘ä¸­ã€‚è¿™ç§æ–¹æ¡ˆæ˜¯åœ¨æšä¸¾ç±»ä¸­å®šä¹‰ä¸€ä¸ªé™æ€è½¬æ¢æ–¹æ³•ï¼Œé€šè¿‡<code>@JsonCreator</code>æ³¨è§£æ³¨é‡Šï¼ŒJackson å°±ä¼šè‡ªåŠ¨è½¬æ¢äº†ã€‚</p><p>è¿™ä¸ªæ–¹æ³•çš„å®šä¹‰ä¸æ–¹æ¡ˆä¸€ä¸­çš„<code>create</code>æ–¹æ³•å®Œå…¨ä¸€è‡´ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨<code>create</code>æ–¹æ³•ä¸ŠåŠ ä¸Šæ³¨è§£å³å¯ï¼š</p><pre><code class="java">@JsonCreator(mode = Mode.DELEGATING)public static GenderIdCodeEnum create(Object code) {    final String stringCode = code.toString();    final Integer intCode = BaseEnum.adapter(stringCode);    for (GenderIdCodeEnum item : values()) {        if (Objects.equals(stringCode, item.name())) {            return item;        }        if (Objects.equals(item.getCode(), stringCode)) {            return item;        }        if (Objects.equals(item.getId(), intCode)) {            return item;        }    }    return null;}</code></pre><p>å…¶ä¸­<code>Mode</code>ç±»æœ‰å››ä¸ªå€¼ï¼š<code>DEFAULT</code>ã€<code>DELEGATING</code>ã€<code>PROPERTIES</code>ã€<code>DISABLED</code>ï¼Œè¿™å››ç§çš„å·®åˆ«ä¼šåœ¨åŸç†ç¯‡ä¸­è¯´æ˜ã€‚è¿˜æ˜¯é‚£å¥è¯ï¼Œå¯¹äºåº”ç”¨ç±»æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçŸ¥å…¶ç„¶ï¼Œå†çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä¹Ÿä¸€å®šè¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å…ˆå®šä¹‰ä¸€ä¸ª controller æ–¹æ³•ï¼š</p><pre><code class="java">@PostMapping(&quot;gender-id-code-request-body&quot;)public GenderIdCodeRequestBody bodyGenderIdCode(@RequestBody GenderIdCodeRequestBody genderRequest) {    genderRequest.setTimestamp(System.currentTimeMillis());    return genderRequest;}</code></pre><p>ç„¶åå®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼Œè¿˜æ˜¯å€ŸåŠ© JUnit5ï¼š</p><pre><code class="java">@ParameterizedTest@ValueSource(strings = {&quot;\&quot;MALE\&quot;&quot;, &quot;\&quot;male\&quot;&quot;, &quot;\&quot;1\&quot;&quot;, &quot;1&quot;})void postGenderIdCode(String gender) throws Exception {    final String result = mockMvc.perform(            MockMvcRequestBuilders.post(&quot;/echo/gender-id-code-request-body&quot;)                    .contentType(MediaType.APPLICATION_JSON_UTF8)                    .accept(MediaType.APPLICATION_JSON_UTF8)                    .content(&quot;{\&quot;gender\&quot;: &quot; + gender + &quot;, \&quot;name\&quot;: \&quot;çœ‹å±±\&quot;}&quot;)    )            .andExpect(MockMvcResultMatchers.status().isOk())            .andDo(MockMvcResultHandlers.print())            .andReturn()            .getResponse()            .getContentAsString();    ObjectMapper objectMapper = new ObjectMapper();    final GenderIdCodeRequestBody genderRequest = objectMapper.readValue(result, GenderIdCodeRequestBody.class);    Assertions.assertEquals(GenderIdCodeEnum.MALE, genderRequest.getGender());    Assertions.assertEquals(&quot;çœ‹å±±&quot;, genderRequest.getName());    Assertions.assertTrue(genderRequest.getTimestamp() &gt; 0);}</code></pre><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦è¯´æ˜äº†å¦‚ä½•åœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼Œå€ŸåŠ©äº† Jackson çš„ååºåˆ—åŒ–æ‰©å±•ï¼Œå¯ä»¥å®šåˆ¶ç±»å‹è½¬æ¢é€»è¾‘ã€‚ç¢äºæ–‡ç« ç¯‡å¹…ï¼Œæ²¡æœ‰ç½—åˆ—å¤§æ®µä»£ç ã€‚å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€å›å¤ spring å¯ä»¥è·å–æºç ã€‚å…³æ³¨æˆ‘ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬è¿›å…¥åŸç†ç¯‡ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response/">SpringBoot å®æˆ˜ï¼šä¸€æ‹›å®ç°ç»“æœçš„ä¼˜é›…å“åº”</a></li><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response-exception/">SpringBoot å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…çš„å¤„ç†å¼‚å¸¸</a></li><li><a href="https://www.howardliu.cn/spring-beanpostprocessor/">SpringBoot å®æˆ˜ï¼šé€šè¿‡ BeanPostProcessor åŠ¨æ€æ³¨å…¥ ID ç”Ÿæˆå™¨</a></li><li><a href="https://www.howardliu.cn/spring-request-recorder/">SpringBoot å®æˆ˜ï¼šè‡ªå®šä¹‰ Filter ä¼˜é›…è·å–è¯·æ±‚å‚æ•°å’Œå“åº”ç»“æœ</a></li><li><a href="https://www.howardliu.cn/spring-enum-params/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-enum-params-principle/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://static.howardliu.cn/macroperspective-6558526_1920.jpg&quot; alt=&quot;SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¥å›¾ç‰‡ç”±&lt;a href=&quot;https://pixabay.com/zh/users/christian_crowd-22911196/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=6558526&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Christian_Crowd&lt;/a&gt;åœ¨&lt;a href=&quot;https://pixabay.com/zh/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=6558526&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Pixabay&lt;/a&gt;ä¸Šå‘å¸ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚&lt;/p&gt;
&lt;p&gt;å‰æ–‡è¯´åˆ° &lt;a href=&quot;https://www.howardliu.cn/spring-enum-params/&quot;&gt;ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°&lt;/a&gt; å’Œ &lt;a href=&quot;https://www.howardliu.cn/springboot-enum-params-principle/&quot;&gt;å®ç°åŸç†&lt;/a&gt;ï¼Œæœ¬æ–‡ç»§ç»­è¯´ä¸€ä¸‹å¦‚ä½•åœ¨ RequestBody ä¸­ä¼˜é›…ä½¿ç”¨æšä¸¾ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å…ˆä¸Šå®æˆ˜ï¼Œè¯´ä¸€ä¸‹å¦‚ä½•å®ç°ã€‚åœ¨ &lt;a href=&quot;https://www.howardliu.cn/spring-enum-params/&quot;&gt;ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°&lt;/a&gt; ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ç»§ç»­å®ç°ã€‚å¦‚æœæƒ³è¦è·å–æºç ï¼Œå¯ä»¥å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤ spring å³å¯ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/categories/spring/"/>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/tags/spring/"/>
    
      <category term="enum" scheme="https://www.howardliu.cn/tags/enum/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</title>
    <link href="https://www.howardliu.cn/springboot-enum-params-principle/"/>
    <id>https://www.howardliu.cn/springboot-enum-params-principle/</id>
    <published>2021-08-13T13:30:21.000Z</published>
    <updated>2021-08-13T13:30:21.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/wheat-6536039_1920.jpg" alt="SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/minka2507-3728206/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6536039" target="_blank" rel="noopener">minka2507</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6536039" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p><a href="https://howardliu.cn/spring-enum-params/" target="_blank" rel="noopener">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a> ä¸­èŠäº†æ€ä¹ˆä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼Œæœ¬æ–‡å°±æ¥æ‰’ä¸€æ‰’ Spring æ˜¯å¦‚ä½•æ‰¾åˆ°å¯¹åº”è½¬æ¢å™¨ Converter çš„ã€‚</p><a id="more"></a><h2 id="æ‰¾å…¥å£"><a href="#æ‰¾å…¥å£" class="headerlink" title="æ‰¾å…¥å£"></a>æ‰¾å…¥å£</h2><p>å¯¹ Spring æœ‰ä¸€å®šåŸºç¡€çš„åŒå­¦ä¸€å®šçŸ¥é“ï¼Œè¯·æ±‚å…¥å£æ˜¯<code>DispatcherServlet</code>ï¼Œæ‰€æœ‰çš„è¯·æ±‚æœ€ç»ˆéƒ½ä¼šè½åˆ°<code>doDispatch</code>æ–¹æ³•ä¸­çš„<code>ha.handle(processedRequest, response, mappedHandler.getHandler())</code>é€»è¾‘ã€‚æˆ‘ä»¬ä»è¿™é‡Œå‡ºå‘ï¼Œä¸€å±‚ä¸€å±‚å‘é‡Œæ‰’ã€‚</p><p>è·Ÿç€ä»£ç æ·±å…¥ï¼Œæˆ‘ä»¬ä¼šæ‰¾åˆ°<code>org.springframework.web.method.support.InvocableHandlerMethod#invokeForRequest</code>çš„é€»è¾‘ï¼š</p><pre><code class="java">public Object invokeForRequest(NativeWebRequest request, @Nullable ModelAndViewContainer mavContainer,        Object... providedArgs) throws Exception {    Object[] args = getMethodArgumentValues(request, mavContainer, providedArgs);    if (logger.isTraceEnabled()) {        logger.trace(&quot;Arguments: &quot; + Arrays.toString(args));    }    return doInvoke(args);}</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œé¢é€šè¿‡<code>getMethodArgumentValues</code>æ–¹æ³•å¤„ç†å‚æ•°ï¼Œç„¶åè°ƒç”¨<code>doInvoke</code>æ–¹æ³•è·å–è¿”å›å€¼ã€‚</p><p>ç»§ç»­æ·±å…¥ï¼Œèƒ½å¤Ÿæ‰¾åˆ°<code>org.springframework.web.method.annotation.RequestParamMethodArgumentResolver#resolveArgument</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯è§£æå‚æ•°çš„é€»è¾‘ã€‚</p><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯æˆ‘ä»¬è‡ªå·±å®ç°è¿™æ®µé€»è¾‘ï¼Œä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ</p><ol><li>è·å–è¾“å…¥å‚æ•°</li><li>æ‰¾åˆ°ç›®æ ‡å‚æ•°</li><li>æ£€æŸ¥æ˜¯å¦éœ€è¦ç‰¹æ®Šè½¬æ¢é€»è¾‘</li><li>å¦‚æœéœ€è¦ï¼Œè¿›è¡Œè½¬æ¢</li><li>å¦‚æœä¸éœ€è¦ï¼Œç›´æ¥è¿”å›</li></ol><p><img src="http://static.howardliu.cn/spring/spring-resolveArgument.jpg" alt="è§£æå‚æ•°"></p><p>è·å–è¾“å…¥å‚æ•°çš„é€»è¾‘åœ¨<code>org.springframework.web.method.annotation.RequestParamMethodArgumentResolver#resolveName</code>ï¼Œå•å‚æ•°è¿”å›çš„æ˜¯ String ç±»å‹ï¼Œå¤šå‚æ•°è¿”å› String æ•°ç»„ã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">String[] paramValues = request.getParameterValues(name);if (paramValues != null) {    arg = (paramValues.length == 1 ? paramValues[0] : paramValues);}</code></pre><p>æ‰€ä»¥è¯´ï¼Œæ— è®ºæˆ‘ä»¬çš„ç›®æ ‡å‚æ•°æ˜¯ä»€ä¹ˆï¼Œè¾“å…¥å‚æ•°éƒ½æ˜¯ String ç±»å‹æˆ– String æ•°ç»„ï¼Œç„¶å Spring æŠŠå®ƒä»¬è½¬æ¢ä¸ºæˆ‘ä»¬æœŸæœ›çš„ç±»å‹ã€‚</p><p>æ‰¾åˆ°ç›®æ ‡å‚æ•°çš„é€»è¾‘åœ¨<code>DispatcherServlet</code>ä¸­ï¼Œæ ¹æ® uri æ‰¾åˆ°å¯¹åº”çš„ Controller å¤„ç†æ–¹æ³•ï¼Œæ‰¾åˆ°æ–¹æ³•å°±æ‰¾åˆ°äº†ç›®æ ‡å‚æ•°ç±»å‹ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯æ£€æŸ¥æ˜¯å¦éœ€è¦è½¬æ¢é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯<code>org.springframework.validation.DataBinder#convertIfNecessary</code>ï¼Œé¡¾åæ€ä¹‰ï¼Œå¦‚æœéœ€è¦å°±è½¬æ¢ï¼Œå°†å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå°±æ˜¯å°† String è½¬æ¢ä¸ºæšä¸¾å€¼ã€‚</p><h2 id="æŸ¥æ‰¾è½¬æ¢å™¨"><a href="#æŸ¥æ‰¾è½¬æ¢å™¨" class="headerlink" title="æŸ¥æ‰¾è½¬æ¢å™¨"></a>æŸ¥æ‰¾è½¬æ¢å™¨</h2><p>ç»§ç»­æ·±æ‰’ï¼Œä¼šåœ¨<code>org.springframework.beans.TypeConverterDelegate#convertIfNecessary</code>æ–¹æ³•ä¸­æ‰¾åˆ°è¿™ä¹ˆä¸€æ®µé€»è¾‘ï¼š</p><pre><code class="java">if (conversionService.canConvert(sourceTypeDesc, typeDescriptor)) {    try {        return (T) conversionService.convert(newValue, sourceTypeDesc, typeDescriptor);    }    catch (ConversionFailedException ex) {        // fallback to default conversion logic below        conversionAttemptEx = ex;    }}</code></pre><p>è¿™æ®µé€»è¾‘ä¸­ï¼Œè°ƒç”¨äº†<code>org.springframework.core.convert.support.GenericConversionService#canConvert</code>æ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦å¯è½¬æ¢ï¼Œå¦‚æœå¯ä»¥è½¬æ¢ï¼Œå°†ä¼šæ‰§è¡Œç±»å‹è½¬æ¢é€»è¾‘ã€‚</p><p>æ£€æŸ¥æ˜¯å¦å¯è½¬æ¢çš„æœ¬è´¨å°±æ˜¯æ£€æŸ¥æ˜¯å¦èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„è½¬æ¢å™¨ã€‚å¦‚æœèƒ½æ‰¾åˆ°ï¼Œå°±ç”¨æ‰¾åˆ°çš„è½¬æ¢å™¨å¼€å§‹è½¬æ¢é€»è¾‘ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£å°±æ˜¯ä¸èƒ½è½¬æ¢ï¼Œèµ°å…¶ä»–é€»è¾‘ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹çœ‹æŸ¥æ‰¾è½¬æ¢å™¨çš„ä»£ç <code>org.springframework.core.convert.support.GenericConversionService#getConverter</code>ï¼Œå¯ä»¥å¯¹æˆ‘ä»¬è‡ªå·±å†™ä»£ç æœ‰ä¸€äº›å¯å‘ï¼š</p><pre><code class="java">private final Map&lt;ConverterCacheKey, GenericConverter&gt; converterCache = new ConcurrentReferenceHashMap&lt;&gt;(64);protected GenericConverter getConverter(TypeDescriptor sourceType, TypeDescriptor targetType) {    ConverterCacheKey key = new ConverterCacheKey(sourceType, targetType);    GenericConverter converter = this.converterCache.get(key);    if (converter != null) {        return (converter != NO_MATCH ? converter : null);    }    converter = this.converters.find(sourceType, targetType);    if (converter == null) {        converter = getDefaultConverter(sourceType, targetType);    }    if (converter != null) {        this.converterCache.put(key, converter);        return converter;    }    this.converterCache.put(key, NO_MATCH);    return null;}</code></pre><p>è½¬æ¢ä¸ºä¼ªä»£ç å°±æ˜¯ï¼š</p><ol><li>æ ¹æ®å‚æ•°ç±»å‹å’Œç›®æ ‡ç±»å‹ï¼Œæ„é€ ç¼“å­˜ key</li><li>æ ¹æ®ç¼“å­˜ keyï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢è½¬æ¢å™¨</li><li>å¦‚æœèƒ½æ‰¾åˆ°ä¸”ä¸æ˜¯ NO_MATCHï¼Œè¿”å›è½¬æ¢å™¨ï¼›å¦‚æœæ˜¯ NO_MATCHï¼Œè¿”å› nullï¼›å¦‚æœæœªæ‰¾åˆ°ï¼Œç»§ç»­</li><li>é€šè¿‡<code>org.springframework.core.convert.support.GenericConversionService.Converters#find</code>æŸ¥è¯¢è½¬æ¢å™¨</li><li>å¦‚æœæœªæ‰¾åˆ°ï¼Œæ£€æŸ¥æºç±»å‹å’Œç›®æ ‡ç±»å‹æ˜¯å¦å¯ä»¥å¼ºè½¬ï¼Œä¹Ÿå°±æ˜¯ç±»å‹ä¸€è‡´ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› NoOpConverterï¼Œå¦‚æœå¦ï¼Œè¿”å› nullã€‚</li><li>æ£€æŸ¥æ‰¾åˆ°çš„è½¬æ¢å™¨æ˜¯å¦ä¸º nullï¼Œå¦‚æœä¸æ˜¯ï¼Œå°†è½¬æ¢å™¨åŠ å…¥åˆ°ç¼“å­˜ä¸­ï¼Œè¿”å›è¯¥è½¬æ¢å™¨</li><li>å¦‚æœå¦ï¼Œåœ¨ç¼“å­˜ä¸­æ·»åŠ  NO_MATCH æ ‡è¯†ï¼Œè¿”å› null</li></ol><p><img src="http://static.howardliu.cn/spring/spring-find-converter.jpg" alt="æŸ¥æ‰¾è½¬æ¢å™¨"></p><p>Spring å†…éƒ¨ä½¿ç”¨<code>Map</code>ä½œä¸ºç¼“å­˜ï¼Œç”¨æ¥å­˜å‚¨é€šç”¨è½¬æ¢å™¨æ¥å£<code>GenericConverter</code>ï¼Œè¿™ä¸ªæ¥å£ä¼šæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰è½¬æ¢å™¨çš„åŒ…è£…ç±»ã€‚æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œè½¬æ¢å™¨ç¼“å­˜ç”¨çš„æ˜¯<code>ConcurrentReferenceHashMap</code>ï¼Œè¿™ä¸ªç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥ä¿è¯å¹¶å‘æƒ…å†µä¸‹ï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸å­˜å‚¨ã€‚ä½†æ˜¯<code>getConverter</code>æ–¹æ³•æ²¡æœ‰ä½¿ç”¨åŒæ­¥é€»è¾‘ã€‚æ¢å¥è¯è¯´ï¼Œå¹¶å‘è¯·æ±‚æ—¶ï¼Œå¯èƒ½å­˜åœ¨æ€§èƒ½æŸè€—ã€‚ä¸è¿‡ï¼Œå¯¹äº web è¯·æ±‚åœºæ™¯ï¼Œå¹¶å‘æŸè€—å¥½è¿‡é˜»å¡ç­‰å¾…ã€‚</p><p>æˆ‘ä»¬åœ¨çœ‹ä¸‹ Spring æ˜¯å¦‚ä½•æŸ¥æ‰¾è½¬æ¢å™¨çš„ï¼Œåœ¨<code>org.springframework.core.convert.support.GenericConversionService.Converters#find</code>ä¸­å°±æ˜¯æ‰¾åˆ°å¯¹åº”è½¬æ¢å™¨çš„æ ¸å¿ƒé€»è¾‘ï¼š</p><pre><code class="java">private final Map&lt;ConvertiblePair, ConvertersForPair&gt; converters = new ConcurrentHashMap&lt;&gt;(256);@Nullablepublic GenericConverter find(TypeDescriptor sourceType, TypeDescriptor targetType) {    // Search the full type hierarchy    List&lt;Class&lt;?&gt;&gt; sourceCandidates = getClassHierarchy(sourceType.getType());    List&lt;Class&lt;?&gt;&gt; targetCandidates = getClassHierarchy(targetType.getType());    for (Class&lt;?&gt; sourceCandidate : sourceCandidates) {        for (Class&lt;?&gt; targetCandidate : targetCandidates) {            ConvertiblePair convertiblePair = new ConvertiblePair(sourceCandidate, targetCandidate);            GenericConverter converter = getRegisteredConverter(sourceType, targetType, convertiblePair);            if (converter != null) {                return converter;            }        }    }    return null;}@Nullableprivate GenericConverter getRegisteredConverter(TypeDescriptor sourceType,        TypeDescriptor targetType, ConvertiblePair convertiblePair) {    // Check specifically registered converters    ConvertersForPair convertersForPair = this.converters.get(convertiblePair);    if (convertersForPair != null) {        GenericConverter converter = convertersForPair.getConverter(sourceType, targetType);        if (converter != null) {            return converter;        }    }    // Check ConditionalConverters for a dynamic match    for (GenericConverter globalConverter : this.globalConverters) {        if (((ConditionalConverter) globalConverter).matches(sourceType, targetType)) {            return globalConverter;        }    }    return null;}</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒSpring æ˜¯é€šè¿‡æºç±»å‹å’Œç›®æ ‡ç±»å‹ç»„åˆèµ·æ¥ï¼ŒæŸ¥æ‰¾å¯¹åº”çš„è½¬æ¢å™¨ã€‚è€Œä¸”ï¼ŒSpring è¿˜é€šè¿‡<code>getClassHierarchy</code>æ–¹æ³•ï¼Œå°†æºç±»å‹å’Œç›®æ ‡ç±»å‹çš„å®¶æ—æ—è°±å…¨éƒ¨åˆ—å‡ºæ¥ï¼Œç”¨åŒå±‚ for å¾ªç¯éå†æŸ¥æ‰¾ã€‚</p><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>matches</code>æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢ï¼Œè°ƒç”¨äº†<code>ConverterFactory#getConverter</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç”¨è¿™ä¸ªå·¥å‚æ–¹æ³•ï¼Œåˆ›å»ºäº†æŒ‡å®šç±»å‹çš„è½¬æ¢å™¨ã€‚</p><pre><code class="java">private final ConverterFactory&lt;Object, Object&gt; converterFactory;public boolean matches(TypeDescriptor sourceType, TypeDescriptor targetType) {    boolean matches = true;    if (this.converterFactory instanceof ConditionalConverter) {        matches = ((ConditionalConverter) this.converterFactory).matches(sourceType, targetType);    }    if (matches) {        Converter&lt;?, ?&gt; converter = this.converterFactory.getConverter(targetType.getType());        if (converter instanceof ConditionalConverter) {            matches = ((ConditionalConverter) converter).matches(sourceType, targetType);        }    }    return matches;}</code></pre><h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><p>ç»è¿‡ä¸Šé¢çš„é€»è¾‘ï¼Œå·²ç»æ‰¾åˆ°åˆ¤æ–­å¯ä»¥è¿›è¡Œè½¬æ¢ã€‚å…¶æ ¸å¿ƒé€»è¾‘å°±æ˜¯å·²ç»æ‰¾åˆ°å¯¹åº”çš„è½¬æ¢å™¨äº†ï¼Œä¸‹é¢å°±æ˜¯è½¬æ¢é€»è¾‘ï¼Œåœ¨<code>org.springframework.core.convert.support.GenericConversionService#convert</code>ä¸­ï¼š</p><pre><code class="java">public Object convert(@Nullable Object source, @Nullable TypeDescriptor sourceType, TypeDescriptor targetType) {    Assert.notNull(targetType, &quot;Target type to convert to cannot be null&quot;);    if (sourceType == null) {        Assert.isTrue(source == null, &quot;Source must be [null] if source type == [null]&quot;);        return handleResult(null, targetType, convertNullSource(null, targetType));    }    if (source != null &amp;&amp; !sourceType.getObjectType().isInstance(source)) {        throw new IllegalArgumentException(&quot;Source to convert from must be an instance of [&quot; +                sourceType + &quot;]; instead it was a [&quot; + source.getClass().getName() + &quot;]&quot;);    }    GenericConverter converter = getConverter(sourceType, targetType);    if (converter != null) {        Object result = ConversionUtils.invokeConverter(converter, source, sourceType, targetType);        return handleResult(sourceType, targetType, result);    }    return handleConverterNotFound(source, sourceType, targetType);}</code></pre><p>å…¶ä¸­çš„<code>GenericConverter converter = getConverter(sourceType, targetType)</code>å°±æ˜¯å‰æ–‡ä¸­<code>getConverter</code>æ–¹æ³•ã€‚æ­¤å¤„è¿˜æ˜¯å¯ä»¥ç»™æˆ‘ä»¬ç¼–ç ä¸Šçš„ä¸€äº›å€Ÿé‰´çš„ï¼š<code>getConverter</code>æ–¹æ³•åœ¨<code>canConvert</code>ä¸­è°ƒç”¨äº†ä¸€æ¬¡ï¼Œç„¶ååœ¨åç»­çœŸæ­£è½¬æ¢çš„æ—¶å€™åˆè°ƒç”¨ä¸€æ¬¡ï¼Œè¿™æ˜¯å‚æ•°è½¬æ¢é€»è¾‘ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆä¼˜åŒ–è¿™ç§åŒä¸€è¯·æ±‚å†…å¤šæ¬¡è°ƒç”¨ç›¸åŒé€»è¾‘æˆ–è€…è¯·æ±‚ç›¸åŒå‚æ•°å‘¢ï¼Ÿé‚£å°±æ˜¯ä½¿ç”¨ç¼“å­˜ã€‚ä¸ºäº†ä¿æŒä¸€æ¬¡è¯·æ±‚ä¸­å‰åä¸¤æ¬¡æ•°æ®çš„ä¸€è‡´æ€§å’Œè¯·æ±‚çš„é«˜æ•ˆï¼Œæ¨èä½¿ç”¨å†…å­˜ç¼“å­˜ã€‚</p><p>æ‰§è¡Œåˆ°è¿™é‡Œï¼Œç›´æ¥è°ƒç”¨<code>ConversionUtils.invokeConverter(converter, source, sourceType, targetType)</code>è½¬æ¢ï¼Œå…¶å†…éƒ¨æ˜¯ä½¿ç”¨<code>org.springframework.core.convert.support.GenericConversionService.ConverterFactoryAdapter#convert</code>æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">public Object convert(@Nullable Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {    if (source == null) {        return convertNullSource(sourceType, targetType);    }    return this.converterFactory.getConverter(targetType.getObjectType()).convert(source);}</code></pre><p>è¿™é‡Œå°±æ˜¯è°ƒç”¨<code>ConverterFactory</code>å·¥å‚ç±»æ„å»ºè½¬æ¢å™¨ï¼ˆå³<code>IdCodeToEnumConverterFactory</code>ç±»çš„<code>getConverter</code>æ–¹æ³•ï¼‰ï¼Œç„¶åè°ƒç”¨è½¬æ¢å™¨çš„<code>conver</code>æ–¹æ³•ï¼ˆå³<code>IdCodeToEnumConverter</code>ç±»çš„<code>convert</code>æ–¹æ³•ï¼‰ï¼Œå°†è¾“å…¥å‚æ•°è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ã€‚å…·ä½“å®ç°å¯ä»¥çœ‹ä¸€ä¸‹å®æˆ˜ç¯‡ä¸­çš„ä»£ç ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æŠŠæ•´ä¸ªè·¯ç¨‹é€šäº†ä¸‹æ¥ã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è·Ÿéšæºç æ‰¾åˆ°è‡ªå®šä¹‰è½¬æ¢å™¨å·¥å‚ç±»å’Œè½¬æ¢å™¨ç±»çš„å®ç°é€»è¾‘ã€‚è¿™é‡Œéœ€è¦å¼ºè°ƒä¸€ä¸‹çš„æ˜¯ï¼Œç”±äºå®æˆ˜ç¯‡ä¸­æˆ‘ä»¬ç”¨åˆ°çš„ä¾‹å­æ˜¯ç®€å•å‚æ•°çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯<code>Controller</code>çš„æ–¹æ³•å‚æ•°éƒ½æ˜¯ç›´æ¥å‚æ•°ï¼Œæ²¡æœ‰åŒ…è£…æˆå¯¹è±¡ã€‚è¿™æ ·çš„è¯ï¼ŒSpring æ˜¯é€šè¿‡<code>RequestParamMethodArgumentResolver</code>å¤„ç†å‚æ•°ã€‚å¦‚æœæ˜¯åŒ…è£…æˆå¯¹è±¡ï¼Œä¼šä½¿ç”¨<code>ModelAttributeMethodProcessor</code>å¤„ç†å‚æ•°ã€‚è¿™ä¸¤ä¸ªå¤„ç†ç±»ä¸­æŸ¥æ‰¾ç±»å‹è½¬æ¢å™¨é€»è¾‘éƒ½æ˜¯ç›¸åŒçš„ã€‚</p><p>æ— è®ºæ˜¯<code>GET</code>è¯·æ±‚ï¼Œè¿˜æ˜¯ä¼ å‚å¼çš„<code>POST</code>è¯·æ±‚ï¼ˆå³<code>Form</code>æ¨¡å¼ï¼‰ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ä¸Šé¢è¿™ç§æ–¹å¼ï¼Œå®ç°æšä¸¾å‚æ•°çš„ç±»å‹è½¬æ¢ã€‚ä½†æ˜¯æ˜¯ HTTP Body æ–¹å¼å´ä¸è¡Œï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>Spring å¯¹äº body å‚æ•°æ˜¯é€šè¿‡<code>RequestResponseBodyMethodProcessor</code>å¤„ç†çš„ï¼Œå…¶å†…éƒ¨ä½¿ç”¨äº†<code>MappingJackson2HttpMessageConverter</code>è½¬æ¢å™¨ï¼Œé€»è¾‘å®Œå…¨ä¸åŒã€‚æ‰€ä»¥ï¼Œæƒ³è¦å®ç° body çš„ç±»å‹è½¬æ¢ï¼Œè¿˜éœ€è¦èµ°å¦å¤–ä¸€ç§æ–¹å¼ã€‚å°†åœ¨ä¸‹ä¸€ç¯‡ä¸­ç»™å‡ºã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response/">SpringBoot å®æˆ˜ï¼šä¸€æ‹›å®ç°ç»“æœçš„ä¼˜é›…å“åº”</a></li><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response-exception/">SpringBoot å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…çš„å¤„ç†å¼‚å¸¸</a></li><li><a href="https://www.howardliu.cn/spring-beanpostprocessor/">SpringBoot å®æˆ˜ï¼šé€šè¿‡ BeanPostProcessor åŠ¨æ€æ³¨å…¥ ID ç”Ÿæˆå™¨</a></li><li><a href="https://www.howardliu.cn/spring-request-recorder/">SpringBoot å®æˆ˜ï¼šè‡ªå®šä¹‰ Filter ä¼˜é›…è·å–è¯·æ±‚å‚æ•°å’Œå“åº”ç»“æœ</a></li><li><a href="https://www.howardliu.cn/spring-enum-params/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-enum-params-principle/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å¦‚æœæ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚æˆ‘è¿˜æ•´ç†äº†ä¸€äº›ç²¾å“å­¦ä¹ èµ„æ–™ï¼Œå…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œèµ„æ–™â€å³å¯è·å¾—ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/springboot-enum-params-principle/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/119725983" target="_blank" rel="noopener">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨ä¸ªäººå…¬ä¼—å·ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ä¸­èŠäº†æ€ä¹ˆä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼Œæœ¬æ–‡å°±æ¥æ‰’ä¸€æ‰’ Spring æ˜¯å¦‚ä½•æ‰¾åˆ°å¯¹åº”è½¬æ¢å™¨ Converter çš„ã€‚
    
    </summary>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/categories/spring/"/>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/tags/spring/"/>
    
      <category term="enum" scheme="https://www.howardliu.cn/tags/enum/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</title>
    <link href="https://www.howardliu.cn/spring-enum-params/"/>
    <id>https://www.howardliu.cn/spring-enum-params/</id>
    <published>2021-08-10T14:40:04.000Z</published>
    <updated>2021-08-10T14:40:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/scarlet-lily-beetle-6389888_1920.jpg" alt="SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/sinousxl-7554155/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6389888" target="_blank" rel="noopener">Sinousxl</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6389888" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>æ¥å£å¼€å‘è¿‡ç¨‹ä¸­ä¸å…æœ‰è¡¨ç¤ºç±»å‹çš„å‚æ•°ï¼Œæ¯”å¦‚ 0 è¡¨ç¤ºæœªçŸ¥ï¼Œ1 è¡¨ç¤ºç”·ï¼Œ2 è¡¨ç¤ºå¥³ã€‚é€šå¸¸æœ‰ä¸¤ç§åšæ³•ï¼Œä¸€ç§æ˜¯ç”¨æ•°å­—è¡¨ç¤ºï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨æšä¸¾å®ç°ã€‚</p><a id="more"></a><p>ä½¿ç”¨æ•°å­—è¡¨ç¤ºå°±æ˜¯é€šè¿‡å¥‘çº¦å½¢å¼ï¼Œçº¦å®šæ¯ä¸ªæ•°å­—è¡¨ç¤ºçš„å«ä¹‰ï¼Œæ¥å£æ¥æ”¶åˆ°å‚æ•°ï¼Œå°±æŒ‰ç…§çº¦å®šå¯¹ç±»å‹è¿›è¡Œåˆ¤æ–­ï¼Œæ¥å£ç»´æŠ¤æˆæœ¬æ¯”è¾ƒå¤§ã€‚</p><p>åœ¨ Spring ä½“ç³»ä¸­ï¼Œä½¿ç”¨æšä¸¾è¡¨ç¤ºï¼Œæ˜¯å€ŸåŠ© Spring çš„ Converter æœºåˆ¶ï¼Œå¯ä»¥å°†æ•°å­—æˆ–å­—ç¬¦ä¸²å¯¹åº”åˆ°æšä¸¾çš„åºå·æˆ–è€… nameï¼Œç„¶åå°†å‰ç«¯çš„è¾“å…¥è½¬æ¢ä¸ºæšä¸¾ç±»å‹ã€‚</p><p>åœ¨åœºæ™¯ä¸å¤æ‚çš„åœºæ™¯ä¸­ï¼Œæšä¸¾å¯ä»¥è½»æ¾èƒœä»»ã€‚</p><p>äºæ˜¯ï¼Œè¿…é€Ÿå®ç°é€»è¾‘ï¼Œå‡†å¤‡ææµ‹ã€‚è¿™ä¸ªæ—¶å€™éœ€æ±‚å˜äº†ï¼Œä¸å…è®¸é€‰æ‹©æœªçŸ¥æ€§åˆ«ï¼Œåªèƒ½é€‰ç”·æˆ–å¥³ï¼Œå°±æ²¡æœ‰ 0 å€¼ã€‚è¿™æ ·ï¼Œå› ä¸ºå–å€¼æ˜¯ä» 1 å¼€å§‹ï¼Œè€Œæšä¸¾çš„åºå·æ˜¯ä» 0 å¼€å§‹ï¼Œå°±ä¼šäº§ç”Ÿå†²çªã€‚</p><p>è¿˜æœ‰ä¸€äº›ä¸å¤ªå¤šçš„åœºæ™¯ï¼Œå°±æ˜¯å‰ç«¯ä¸æœŸæœ›ç±»å‹éƒ½æ˜¯ç”¨æ•°å­—ï¼Œå¯èƒ½æœŸæœ›ç”¨ä¸€äº›æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚ä½†æ˜¯æŒ‰ç…§å‰ç«¯è§„èŒƒï¼Œéœ€è¦ç”¨å°å†™æˆ–è€…é©¼å³°å‘½åã€‚ä½†æ˜¯åç«¯çš„è§„èŒƒä¸­ï¼Œæšä¸¾å¿…é¡»æ˜¯å¤§å†™ï¼Œåˆæ˜¯å†²çªã€‚</p><p>éœ€æ±‚åˆä¸åˆç†æš‚ä¸”ä¸è®ºï¼Œæˆ‘ä»¬è¦ä¿å­˜å¯¹æŠ€æœ¯çš„æ¢ç´¢ç²¾ç¥ã€‚</p><h2 id="ç¡®è®¤éœ€æ±‚"><a href="#ç¡®è®¤éœ€æ±‚" class="headerlink" title="ç¡®è®¤éœ€æ±‚"></a>ç¡®è®¤éœ€æ±‚</h2><p>é¦–å…ˆç¡®è®¤éœ€æ±‚ã€‚æˆ‘ä»¬æœŸæœ›å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»ä½œä¸ºå‚æ•°ï¼Œæ¥å£è®¿é—®çš„æ—¶å€™ï¼Œå¯ä»¥æ˜¯ int ç±»å‹çš„ idï¼Œid å–å€¼ä¸é™äºæšä¸¾çš„åºå·ï¼›ä¹Ÿå¯ä»¥æ˜¯ String ç±»å‹çš„ codeï¼Œcode å–å€¼ä¸é™äºæšä¸¾çš„ nameã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªæšä¸¾æœ‰ä¸ª id å’Œ codeï¼Œéšæ„å®šä¹‰ï¼Œåªè¦æ¥å£ä¼ è¿‡æ¥åŒ¹é…ä¸Šï¼Œå°±èƒ½å¤Ÿè‡ªåŠ¨è½¬æˆæšä¸¾ç±»å‹ã€‚</p><p>æ—¢ç„¶è¿™æ ·ï¼Œæˆ‘ä»¬å°±è§„èŒƒä¸‹ id å’Œ code å–å€¼ã€‚ä¸ºäº†æ‰©å±•ï¼Œå®šä¹‰ä¸‰ä¸ªæ¥å£ï¼šIdBaseEnumã€CodeBaseEnum ä»¥åŠ IdCodeBaseEnumã€‚</p><pre><code class="java">public interface IdBaseEnum {    Integer getId();}public interface CodeBaseEnum {    String getCode();}public interface IdCodeBaseEnum extends IdBaseEnum, CodeBaseEnum {}</code></pre><p>æ¥ä¸‹æ¥å°±è¯¥å®šä¹‰æˆ‘ä»¬çš„ä¸»è§’äº†ã€‚</p><h2 id="å®šä¹‰æšä¸¾"><a href="#å®šä¹‰æšä¸¾" class="headerlink" title="å®šä¹‰æšä¸¾"></a>å®šä¹‰æšä¸¾</h2><p>å‰é¢å®šä¹‰äº†ä¸‰ä¸ªæ¥å£ï¼Œåˆ†åˆ«æ˜¯å•ç‹¬ idã€å•ç‹¬ codeï¼Œå’Œæœ‰ id å’Œ code çš„ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸‰ç§æšä¸¾ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªæ¥å£ã€‚ä¸‰ç§æ–¹å¼ç±»ä¼¼ï¼Œæ‰€ä»¥å°±ä¸åœ¨æ–‡ä¸­é‡å¤åˆ—ä¸¾äº†ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥å…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€å›å¤ spring è·å–æºç ã€‚</p><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ€§åˆ«æšä¸¾ï¼Œæšä¸¾åŒ…å« id å’Œ code ä¸¤ä¸ªå±æ€§ã€‚</p><pre><code class="java">public enum GenderIdCodeEnum implements IdCodeBaseEnum {    MALE(1, &quot;male&quot;),    FEMALE(2, &quot;female&quot;);    private final Integer id;    private final String code;    GenderIdCodeEnum(Integer id, String code) {        this.id = id;        this.code = code;    }    @Override    public String getCode() {        return code;    }    @Override    public Integer getId() {        return id;    }}</code></pre><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œid å’Œ code ä¸èƒ½é‡å¤ã€‚</p><ol><li>id ä¸ idã€code ä¸ code ä¸èƒ½é‡å¤ï¼Œæ¯”å¦‚ MAIL å®šä¹‰ id æ˜¯ 1ï¼ŒFAMLE å°±ä¸èƒ½å®šä¹‰ id æ˜¯ 1 äº†ã€‚</li><li>id ä¸ code ä¹‹é—´ä¹Ÿä¸èƒ½é‡å¤ï¼Œæ¯”å¦‚ï¼ŒMALE å®šä¹‰ id æ˜¯ 1001ï¼ŒFEMALE å®šä¹‰ code æ˜¯ 1001ã€‚</li></ol><p>è¿™æ˜¯ç”±äº Spring åœ¨è½¬æ¢å‚æ•°çš„æ—¶å€™ï¼Œå°†è¾“å…¥å‚æ•°å…¨éƒ¨è§†ä¸º String ç±»å‹ã€‚è™½ç„¶æˆ‘ä»¬å®šä¹‰ id å’Œ code ç±»å‹ä¸åŒï¼Œä½†æ˜¯åœ¨åŒ¹é…çš„æ—¶å€™ï¼Œéƒ½æ˜¯æŒ‰ç…§å­—ç¬¦ä¸²åŒ¹é…çš„ã€‚å¦‚æœå­˜åœ¨ç›¸åŒå€¼ï¼Œå°±ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚</p><h2 id="Converter-å’Œ-ConverterFactory"><a href="#Converter-å’Œ-ConverterFactory" class="headerlink" title="Converter å’Œ ConverterFactory"></a>Converter å’Œ ConverterFactory</h2><p>æ ¹æ®è§„èŒƒï¼Œæ¥ä¸‹æ¥å®šä¹‰ä¸€ä¸‹ Converter å’Œ ConverterFactoryã€‚è¿™äº›æ˜¯ Spring ç•™ç»™æˆ‘ä»¬çš„æ‰©å±•å£ï¼ŒæŒ‰ç…§è§„èŒƒå®šä¹‰å³å¯ã€‚</p><p>Converter ç±»ï¼š</p><pre><code class="java">public class IdCodeToEnumConverter&lt;T extends IdCodeBaseEnum&gt; implements Converter&lt;String, T&gt; {    private final Map&lt;String, T&gt; idEnumMap = Maps.newHashMap();    private final Map&lt;String, T&gt; codeEnumMap = Maps.newHashMap();    public IdCodeToEnumConverter(Class&lt;T&gt; enumType) {        Arrays.stream(enumType.getEnumConstants())                .forEach(x -&gt; {                    idEnumMap.put(x.getId().toString(), x);                    codeEnumMap.put(x.getCode(), x);                });    }    @Override    public T convert(String source) {        return Optional.of(source)                .map(codeEnumMap::get)                .orElseGet(() -&gt; Optional.of(source)                        .map(idEnumMap::get)                        .orElseThrow(() -&gt; new CodeBaseException(ErrorResponseEnum.PARAMS_ENUM_NOT_MATCH)));    }}</code></pre><p>ConverterFactory ç±»ï¼š</p><pre><code class="java">public class IdCodeToEnumConverterFactory implements ConverterFactory&lt;String, IdCodeBaseEnum&gt; {    @SuppressWarnings(&quot;rawtypes&quot;)    private static final Map&lt;Class, Converter&gt; CONVERTERS = Maps.newHashMap();    @Override    public &lt;T extends IdCodeBaseEnum&gt; Converter&lt;String, T&gt; getConverter(Class&lt;T&gt; targetType) {        //noinspection unchecked        Converter&lt;String, T&gt; converter = CONVERTERS.get(targetType);        if (converter == null) {            converter = new IdCodeToEnumConverter&lt;&gt;(targetType);            CONVERTERS.put(targetType, converter);        }        return converter;    }}</code></pre><p>è¿™ä¸¤ä¸ªå°±æ˜¯è½¬æ¢çš„æ ¸å¿ƒäº†ï¼Œæˆ‘ä»¬åªè¦å°†ä»–ä»¬è£…é…åˆ° Spring çš„ç±»å‹è½¬æ¢å™¨ä¸­ï¼Œå°±èƒ½å¤Ÿå®ç°æšä¸¾ç±»å‹çš„è‡ªåŠ¨è½¬åŒ–äº†ã€‚</p><h2 id="åŠ è½½é…ç½®"><a href="#åŠ è½½é…ç½®" class="headerlink" title="åŠ è½½é…ç½®"></a>åŠ è½½é…ç½®</h2><p>å°†æˆ‘ä»¬å®šä¹‰çš„ Converter å’Œ ConverterFactory æ³¨å†Œåˆ° Spring çš„ç±»å‹è½¬æ¢å™¨ä¸­ã€‚</p><pre><code class="java">@Configurationpublic class WebConfig implements WebMvcConfigurer {    @Override    public void addFormatters(FormatterRegistry registry) {        registry.addConverterFactory(new IdCodeToEnumConverterFactory());        registry.addConverterFactory(new CodeToEnumConverterFactory());        registry.addConverterFactory(new IdToEnumConverterFactory());    }}</code></pre><p>è‡³æ­¤ï¼Œæ ¸å¿ƒå®šä¹‰å…¨éƒ¨ç»“æŸã€‚</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å†™ä¸€ä¸ª Controller ä½œä¸ºæµ‹è¯•å…¥å£ï¼š</p><pre><code class="java">@RestController@RequestMapping(&quot;echo&quot;)public class EchoController {    @GetMapping(&quot;gender-id-code&quot;)    public String genderIdCode(@RequestParam(&quot;gender&quot;) GenderIdCodeEnum gender) {        return gender.name();    }}</code></pre><p>å‡†å¤‡æµ‹è¯•ç”¨ä¾‹æµ‹è¯•ï¼š</p><pre><code class="java">@SpringBootTest(classes = SpringEnumParamApplication.class)@AutoConfigureMockMvcclass EchoControllerTest {    @Autowired    private MockMvc mockMvc;    @ParameterizedTest    @ValueSource(strings = {&quot;MALE&quot;, &quot;male&quot;, &quot;1&quot;})    void genderIdCode(String gender) throws Exception {        final String result = mockMvc.perform(                MockMvcRequestBuilders.get(&quot;/echo/gender-id-code&quot;)                        .param(&quot;gender&quot;, gender)        )                .andExpect(MockMvcResultMatchers.status().isOk())                .andDo(MockMvcResultHandlers.print())                .andReturn()                .getResponse()                .getContentAsString();        Assertions.assertEquals(&quot;MALE&quot;, result);    }}</code></pre><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>å®ç°æšä¸¾å‚æ•°å¹¶ä¸éš¾ï¼Œåªè¦æŒ‰ç…§ Spring çš„æ‰©å±•è§„èŒƒå®ç°å³å¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ³¨æ„æšä¸¾ç±»ä¸­å”¯ä¸€çš„ id å’Œ codeã€‚</p><p>æœ¬æ–‡æ˜¯åº”ç”¨ï¼Œä¸‹ç¯‡è¯´ä¸€ä¸‹åŸç†ã€‚ä»¥åŠ http body å½¢å¼è¯·æ±‚çš„æšä¸¾è½¬æ¢é€»è¾‘ã€‚</p><p>å…³æ³¨å…¬ä¼—å·ã€Œçœ‹å±±çš„å°å±‹ã€å›å¤ spring è·å–æºç ã€‚æºç ä¸­å®Œæ•´å®šä¹‰äº†ä¸‰ç§æšä¸¾å½¢å¼ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response/">SpringBoot å®æˆ˜ï¼šä¸€æ‹›å®ç°ç»“æœçš„ä¼˜é›…å“åº”</a></li><li><a href="https://www.howardliu.cn/springboot-action-gracefully-response-exception/">SpringBoot å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…çš„å¤„ç†å¼‚å¸¸</a></li><li><a href="https://www.howardliu.cn/spring-beanpostprocessor/">SpringBoot å®æˆ˜ï¼šé€šè¿‡ BeanPostProcessor åŠ¨æ€æ³¨å…¥ ID ç”Ÿæˆå™¨</a></li><li><a href="https://www.howardliu.cn/spring-request-recorder/">SpringBoot å®æˆ˜ï¼šè‡ªå®šä¹‰ Filter ä¼˜é›…è·å–è¯·æ±‚å‚æ•°å’Œå“åº”ç»“æœ</a></li><li><a href="https://www.howardliu.cn/spring-enum-params/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-enum-params-principle/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></li><li><a href="https://www.howardliu.cn/springboot-action-enum-params-in-requestbody-principle/">SpringBoot å®æˆ˜ï¼šåœ¨ RequestBody ä¸­ä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°ï¼ˆåŸç†ç¯‡ï¼‰</a></li><li><a href="https://www.howardliu.cn/springboot-action-junit5-mockmvc-mockito/">SpringBoot å®æˆ˜ï¼šJUnit5+MockMvc+Mockito åšå¥½å•å…ƒæµ‹è¯•</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/spring-enum-params/">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/119581202" target="_blank" rel="noopener">SpringBoot å®æˆ˜ï¼šä¼˜é›…çš„ä½¿ç”¨æšä¸¾å‚æ•°</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨ä¸ªäººå…¬ä¼—å·ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      æ¥å£å¼€å‘è¿‡ç¨‹ä¸­ä¸å…æœ‰è¡¨ç¤ºç±»å‹çš„å‚æ•°ï¼Œæ¯”å¦‚ 0 è¡¨ç¤ºæœªçŸ¥ï¼Œ1 è¡¨ç¤ºç”·ï¼Œ2 è¡¨ç¤ºå¥³ã€‚é€šå¸¸æœ‰ä¸¤ç§åšæ³•ï¼Œä¸€ç§æ˜¯ç”¨æ•°å­—è¡¨ç¤ºï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨æšä¸¾å®ç°ã€‚
    
    </summary>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/categories/spring/"/>
    
    
      <category term="spring" scheme="https://www.howardliu.cn/tags/spring/"/>
    
      <category term="enum" scheme="https://www.howardliu.cn/tags/enum/"/>
    
  </entry>
  
  <entry>
    <title>çœ‹å±±èŠ Javaï¼šæ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</title>
    <link href="https://www.howardliu.cn/java-date-string-valid-date/"/>
    <id>https://www.howardliu.cn/java-date-string-valid-date/</id>
    <published>2021-08-06T13:47:46.000Z</published>
    <updated>2021-08-06T13:47:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/berries-6514669_1920.jpg" alt="çœ‹å±±èŠ Javaï¼šæ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/nastasyaday-11197808/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6514669" target="_blank" rel="noopener">ĞĞ½Ğ°ÑÑ‚Ğ°ÑĞ¸Ñ Ğ‘ĞµĞ»Ğ¾ÑƒÑĞ¾Ğ²Ğ°</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6514669" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><a id="more"></a><p>è¿™æ¬¡è¯´ä¸€ä¸‹ï¼Œæ€æ ·æ£€æŸ¥ç»™å‡ºçš„å­—ç¬¦ä¸²ï¼Œæ˜¯å¦æ˜¯åˆæ³•æ—¥æœŸå­—ç¬¦ä¸²ã€‚æœ¬æ–‡å°†ä» Java åŸç”Ÿå’Œç¬¬ä¸‰æ–¹ç»„ä»¶ä¸¤ç§æ–¹å¼æ¥è¯´æ˜ã€‚</p><h2 id="WHY"><a href="#WHY" class="headerlink" title="WHY"></a>WHY</h2><p>åç«¯æ¥å£åœ¨æ¥æ”¶æ•°æ®çš„æ—¶å€™ï¼Œéƒ½éœ€è¦è¿›è¡Œæ£€æŸ¥ã€‚æ£€æŸ¥å…¨éƒ¨é€šè¿‡åï¼Œæ‰èƒ½å¤Ÿæ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚å¯¹äºæ—¶é—´æ ¼å¼ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦æ£€æŸ¥è¿™ä¹ˆå‡ æ–¹é¢ï¼š</p><ol><li>å­—ç¬¦ä¸²æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œæ¯”å¦‚æ ¼å¼æ˜¯ä¸æ˜¯<code>yyyy-MM-dd</code></li><li>æ—¶é—´åœ¨åˆæ³•èŒƒå›´å†…ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦é™å®šåœ¨ä¸€ä¸ªæœˆå†…çš„æ—¶é—´</li><li>å­—ç¬¦ä¸²å¯ä»¥è§£æä¸ºæ­£å¸¸çš„æ—¶é—´ï¼Œæ¯”å¦‚ 2 æœˆ 30 å·å°±ä¸æ˜¯æ­£å¸¸æ—¶é—´</li></ol><p>å¯¹äºæ—¶é—´æ ¼å¼çš„åˆ¤æ–­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ¥æ£€æŸ¥ã€‚ä¸è¿‡è€ƒè™‘åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„æ€§èƒ½ã€è¾“å…¥æ•°æ®çš„å¤æ‚æ€§ï¼Œä¸€èˆ¬èƒ½ç”¨åˆ«çš„æ–¹å¼ï¼Œå°±ä¸é€‰æ­£åˆ™è¡¨è¾¾å¼ã€‚æˆ‘ä»¬è¿˜æ˜¯é€‰æ‹©ä¸€ç§æ›´åŠ é€šç”¨ã€æ›´åŠ é«˜æ•ˆçš„æ£€æŸ¥æ–¹å¼ã€‚</p><p>é¦–å…ˆï¼Œå®šä¹‰æ—¶é—´æ ¡éªŒå™¨çš„æ¥å£ï¼š</p><pre><code class="java">public interface DateValidator {    boolean isValid(String dateStr);}</code></pre><p>æ¥å£æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å¸ƒå°”ç±»å‹ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯å¦æ˜¯åˆæ³•çš„æ—¶é—´æ ¼å¼ã€‚</p><h2 id="HOW"><a href="#HOW" class="headerlink" title="HOW"></a>HOW</h2><p>æ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡ä¸åŒæ–¹å¼å®ç°<code>DateValidator</code>ã€‚</p><h3 id="ä½¿ç”¨-DateFormat-æ£€æŸ¥"><a href="#ä½¿ç”¨-DateFormat-æ£€æŸ¥" class="headerlink" title="ä½¿ç”¨ DateFormat æ£€æŸ¥"></a>ä½¿ç”¨ DateFormat æ£€æŸ¥</h3><p>Java æä¾›äº†æ ¼å¼åŒ–å’Œè§£ææ—¶é—´çš„å·¥å…·ï¼š<code>DateFormat</code>æŠ½è±¡ç±»å’Œ<code>SimpleDataFormat</code>å®ç°ç±»ã€‚æˆ‘ä»¬å€Ÿæ­¤å®ç°æ—¶é—´æ ¡éªŒå™¨ï¼š</p><pre><code class="java">public class DateValidatorUsingDateFormat implements DateValidator {    private final String dateFormat;    public DateValidatorUsingDateFormat(String dateFormat) {        this.dateFormat = dateFormat;    }    @Override    public boolean isValid(String dateStr) {        final DateFormat sdf = new SimpleDateFormat(this.dateFormat);        sdf.setLenient(false);        try {            sdf.parse(dateStr);        } catch (ParseException e) {            return false;        }        return true;    }}</code></pre><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œ<code>DateFormat</code>å’Œ<code>SimpleDataFormat</code>æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥æ¯æ¬¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œéƒ½éœ€è¦æ–°å»ºå®ä¾‹ã€‚</p><p>æˆ‘ä»¬é€šè¿‡å•å…ƒæµ‹è¯•éªŒè¯ä¸‹ï¼š</p><pre><code class="java">class DateValidatorUsingDateFormatTest {    @Test    void isValid() {        final DateValidator validator = new DateValidatorUsingDateFormat(&quot;yyyy-MM-dd&quot;);        Assertions.assertTrue(validator.isValid(&quot;2021-02-28&quot;));        Assertions.assertFalse(validator.isValid(&quot;2021-02-30&quot;));    }}</code></pre><p>åœ¨ Java8 ä¹‹å‰ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨è¿™ç§æ–¹å¼æ¥éªŒè¯ã€‚Java8 ä¹‹åï¼Œæˆ‘ä»¬æœ‰äº†æ›´å¤šçš„é€‰æ‹©ã€‚</p><h3 id="ä½¿ç”¨-LocalDate-æ£€æŸ¥"><a href="#ä½¿ç”¨-LocalDate-æ£€æŸ¥" class="headerlink" title="ä½¿ç”¨ LocalDate æ£€æŸ¥"></a>ä½¿ç”¨ LocalDate æ£€æŸ¥</h3><p>Java8 å¼•å…¥äº†æ›´åŠ å¥½ç”¨æ—¥æœŸå’Œæ—¶é—´ APIï¼ˆæƒ³è¦äº†è§£æ›´å¤šå†…å®¹ï¼Œè¯·ç§»æ­¥å‚çœ‹ <a href="https://www.howardliu.cn/java-date-and-time-intro/">Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a>ï¼‰ã€‚å…¶ä¸­åŒ…æ‹¬<code>LocalDate</code>ç±»ï¼Œæ˜¯ä¸€ä¸ªä¸å¯å˜ä¸”çº¿ç¨‹å®‰å…¨çš„æ—¶é—´ç±»ã€‚</p><p><code>LocalDate</code>æä¾›äº†ä¸¤ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨æ¥è§£ææ—¶é—´ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•å†…éƒ¨éƒ½æ˜¯ä½¿ç”¨<code>java.time.format.DateTimeFormatter</code>æ¥å¤„ç†æ•°æ®ï¼š</p><pre><code class="java">// ä½¿ç”¨ DateTimeFormatter.ISO_LOCAL_DATE å¤„ç†æ•°æ®public static LocalDate parse(CharSequence text) {    return parse(text, DateTimeFormatter.ISO_LOCAL_DATE);}// ä½¿ç”¨æä¾›çš„ DateTimeFormatter å¤„ç†æ•°æ®public static LocalDate parse(CharSequence text, DateTimeFormatter formatter) {        Objects.requireNonNull(formatter, &quot;formatter&quot;);    return formatter.parse(text, LocalDate::from);}</code></pre><p>é€šè¿‡<code>LocalDate</code>çš„<code>parse</code>æ–¹æ³•å®ç°æˆ‘ä»¬çš„æ ¡éªŒå™¨ï¼š</p><pre><code class="java">public class DateValidatorUsingLocalDate implements DateValidator {    private final DateTimeFormatter dateFormatter;    public DateValidatorUsingLocalDate(DateTimeFormatter dateFormatter) {        this.dateFormatter = dateFormatter;    }    @Override    public boolean isValid(String dateStr) {        try {            LocalDate.parse(dateStr, this.dateFormatter);        } catch (DateTimeParseException e) {            return false;        }        return true;    }}</code></pre><p><code>java.time.format.DateTimeFormatter</code>ç±»æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±æ˜¯å¤©ç„¶çš„çº¿ç¨‹å®‰å…¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçº¿ç¨‹ä½¿ç”¨åŒä¸€ä¸ªæ ¡éªŒå™¨å®ä¾‹ã€‚</p><p>æˆ‘ä»¬é€šè¿‡å•å…ƒæµ‹è¯•éªŒè¯ä¸‹ï¼š</p><pre><code class="java">class DateValidatorUsingLocalDateTest {    @Test    void isValid() {        final DateTimeFormatter dateFormatter = DateTimeFormatter.ISO_LOCAL_DATE;        final DateValidator validator = new DateValidatorUsingLocalDate(dateFormatter);        Assertions.assertTrue(validator.isValid(&quot;2021-02-28&quot;));        Assertions.assertFalse(validator.isValid(&quot;2021-02-30&quot;));    }}</code></pre><p>æ—¢ç„¶<code>LocalDate#parse</code>æ˜¯é€šè¿‡<code>DateTimeFormatter</code>å®ç°çš„ï¼Œé‚£æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<code>DateTimeFormatter</code>ã€‚</p><h3 id="ä½¿ç”¨-DateTimeFormatter-æ£€æŸ¥"><a href="#ä½¿ç”¨-DateTimeFormatter-æ£€æŸ¥" class="headerlink" title="ä½¿ç”¨ DateTimeFormatter æ£€æŸ¥"></a>ä½¿ç”¨ DateTimeFormatter æ£€æŸ¥</h3><p><code>DateTimeFormatter</code>è§£ææ–‡æœ¬æ€»å…±åˆ†ä¸¤æ­¥ã€‚ç¬¬ä¸€æ­¥ï¼Œæ ¹æ®é…ç½®å°†æ–‡æœ¬è§£æä¸ºæ—¥æœŸå’Œæ—¶é—´å­—æ®µï¼›ç¬¬äºŒæ­¥ï¼Œç”¨è§£æåçš„å­—æ®µåˆ›å»ºæ—¥æœŸå’Œæ—¶é—´å¯¹è±¡ã€‚</p><p>å®ç°éªŒè¯å™¨ï¼š</p><pre><code class="java">public class DateValidatorUsingDateTimeFormatter implements DateValidator {    private final DateTimeFormatter dateFormatter;    public DateValidatorUsingDateTimeFormatter(DateTimeFormatter dateFormatter) {        this.dateFormatter = dateFormatter;    }    @Override    public boolean isValid(String dateStr) {        try {            this.dateFormatter.parse(dateStr);        } catch (DateTimeParseException e) {            return false;        }        return true;    }}</code></pre><p>é€šè¿‡å•å…ƒæµ‹è¯•éªŒè¯ï¼š</p><pre><code class="java">class DateValidatorUsingDateTimeFormatterTest {    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&quot;, Locale.CHINA);    @Test    void isValid() {        final DateTimeFormatter dateFormatter = DATE_FORMATTER.withResolverStyle(ResolverStyle.STRICT);        final DateValidator validator = new DateValidatorUsingDateTimeFormatter(dateFormatter);        Assertions.assertTrue(validator.isValid(&quot;2021-02-28&quot;));        Assertions.assertFalse(validator.isValid(&quot;2021-02-30&quot;));    }}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æŒ‡å®šäº†è½¬æ¢æ¨¡å¼æ˜¯<code>ResolverStyle.STRICT</code>ï¼Œè¿™ä¸ªç±»å‹æ˜¯è¯´æ˜è§£ææ¨¡å¼ã€‚å…±æœ‰ä¸‰ç§ï¼š</p><ul><li>STRICTï¼šä¸¥æ ¼æ¨¡å¼ï¼Œæ—¥æœŸã€æ—¶é—´å¿…é¡»å®Œå…¨æ­£ç¡®ã€‚</li><li>SMARTï¼šæ™ºèƒ½æ¨¡å¼ï¼Œé’ˆå¯¹æ—¥å¯ä»¥è‡ªåŠ¨è°ƒæ•´ã€‚æœˆçš„èŒƒå›´åœ¨ 1 åˆ° 12ï¼Œæ—¥çš„èŒƒå›´åœ¨ 1 åˆ° 31ã€‚æ¯”å¦‚è¾“å…¥æ˜¯ 2 æœˆ 30 å·ï¼Œå½“å¹´ 2 æœˆåªæœ‰ 28 å¤©ï¼Œè¿”å›çš„æ—¥æœŸå°±æ˜¯ 2 æœˆ 28 æ—¥ã€‚</li><li>LENIENTï¼šå®½æ¾æ¨¡å¼ï¼Œä¸»è¦é’ˆå¯¹æœˆå’Œæ—¥ï¼Œä¼šè‡ªåŠ¨åå»¶ã€‚ç»“æœç±»ä¼¼äº<code>LocalData#plusDays</code>æˆ–è€…<code>LocalDate#plusMonths</code>ã€‚</li></ul><p>æˆ‘ä»¬é€šè¿‡ä¾‹å­çœ‹ä¸‹åŒºåˆ«ï¼š</p><pre><code class="java">class DateValidatorUsingDateTimeFormatterTest {    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&quot;, Locale.CHINA);    @Test    void testResolverStyle() {        Assertions.assertEquals(LocalDate.of(2021, 2,28), parseDate(&quot;2021-02-28&quot;, ResolverStyle.STRICT));        Assertions.assertNull(parseDate(&quot;2021-02-29&quot;, ResolverStyle.STRICT));        Assertions.assertEquals(LocalDate.of(2021, 2,28), parseDate(&quot;2021-02-28&quot;, ResolverStyle.STRICT));        Assertions.assertNull(parseDate(&quot;2021-13-28&quot;, ResolverStyle.STRICT));        Assertions.assertEquals(LocalDate.of(2021, 2,28), parseDate(&quot;2021-02-28&quot;, ResolverStyle.SMART));        Assertions.assertEquals(LocalDate.of(2021, 2,28), parseDate(&quot;2021-02-29&quot;, ResolverStyle.SMART));        Assertions.assertNull(parseDate(&quot;2021-13-28&quot;, ResolverStyle.SMART));        Assertions.assertNull(parseDate(&quot;2021-13-29&quot;, ResolverStyle.SMART));        Assertions.assertEquals(LocalDate.of(2021, 2,28), parseDate(&quot;2021-02-28&quot;, ResolverStyle.LENIENT));        Assertions.assertEquals(LocalDate.of(2021, 3,1), parseDate(&quot;2021-02-29&quot;, ResolverStyle.LENIENT));        Assertions.assertEquals(LocalDate.of(2022, 1,28), parseDate(&quot;2021-13-28&quot;, ResolverStyle.LENIENT));        Assertions.assertEquals(LocalDate.of(2022, 2,2), parseDate(&quot;2021-13-33&quot;, ResolverStyle.LENIENT));    }    private static LocalDate parseDate(String dateString, ResolverStyle resolverStyle) {        try {            return LocalDate.parse(dateString, DATE_FORMATTER.withResolverStyle(resolverStyle));        } catch (DateTimeParseException e) {            return null;        }    }}</code></pre><p>ä»ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ<code>ResolverStyle.STRICT</code>æ˜¯ä¸¥æ ¼æ§åˆ¶ï¼Œç”¨æ¥åšæ—¶é—´æ ¡éªŒæ¯”è¾ƒåˆé€‚ï¼›<code>ResolverStyle.LENIENT</code>å¯ä»¥æœ€å¤§ç¨‹åº¦å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ—¶é—´å¯¹è±¡ï¼Œåœ¨åˆç†èŒƒå›´å†…å¯ä»¥éšä¾¿ç©ï¼›<code>ResolverStyle.SMART</code>åä¸ºæ™ºèƒ½ï¼Œä½†æ™ºåŠ›æœ‰é™ï¼Œä¸¤ä¸æ²¾è¾¹ï¼Œä¼˜åŠ¿ä¸å¤Ÿæ˜æ˜¾ã€‚JDK æä¾›çš„<code>DateTimeFormatter</code>å®ç°ï¼Œéƒ½æ˜¯<code>ResolverStyle.STRICT</code>æ¨¡å¼ã€‚</p><p>è¯´äº† JDK è‡ªå¸¦çš„å®ç°ï¼Œæ¥ä¸‹æ¥è¯´è¯´ç¬¬ä¸‰æ–¹ç»„ä»¶çš„å®ç°æ–¹å¼ã€‚</p><h3 id="ä½¿ç”¨-Apache-å‡ºå“çš„-commons-validator-æ£€æŸ¥"><a href="#ä½¿ç”¨-Apache-å‡ºå“çš„-commons-validator-æ£€æŸ¥" class="headerlink" title="ä½¿ç”¨ Apache å‡ºå“çš„ commons-validator æ£€æŸ¥"></a>ä½¿ç”¨ Apache å‡ºå“çš„ commons-validator æ£€æŸ¥</h3><p>Apache Commons é¡¹ç›®æä¾›äº†ä¸€ä¸ªæ ¡éªŒå™¨æ¡†æ¶ï¼ŒåŒ…å«å¤šç§æ ¡éªŒè§„åˆ™ï¼ŒåŒ…æ‹¬æ—¥æœŸã€æ—¶é—´ã€æ•°å­—ã€è´§å¸ã€IP åœ°å€ã€é‚®ç®±ã€URL åœ°å€ç­‰ã€‚æœ¬æ–‡ä¸»è¦è¯´æ£€æŸ¥æ—¶é—´ï¼Œæ‰€ä»¥é‡ç‚¹çœ‹çœ‹<code>GenericValidator</code>ç±»æä¾›çš„<code>isDate</code>æ–¹æ³•ï¼š</p><pre><code class="java">public class GenericValidator implements Serializable {    // å…¶ä»–æ–¹æ³•    public static boolean isDate(String value, Locale locale) {        return DateValidator.getInstance().isValid(value, locale);    }    public static boolean isDate(String value, String datePattern, boolean strict) {        return org.apache.commons.validator.DateValidator.getInstance().isValid(value, datePattern, strict);    }}</code></pre><p>å…ˆå¼•å…¥ä¾èµ–ï¼š</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;commons-validator&lt;/groupId&gt;    &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;    &lt;version&gt;1.7&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>å®ç°éªŒè¯å™¨ï¼š</p><pre><code class="java">public class DateValidatorUsingCommonsValidator implements DateValidator {    private final String dateFormat;    public DateValidatorUsingCommonsValidator(String dateFormat) {        this.dateFormat = dateFormat;    }    @Override    public boolean isValid(String dateStr) {        return GenericValidator.isDate(dateStr, dateFormat, true);    }}</code></pre><p>é€šè¿‡å•å…ƒæµ‹è¯•éªŒè¯ï¼š</p><pre><code class="java">class DateValidatorUsingCommonsValidatorTest {    @Test    void isValid() {        final DateValidator dateValidator = new DateValidatorUsingCommonsValidator(&quot;yyyy-MM-dd&quot;);        Assertions.assertTrue(dateValidator.isValid(&quot;2021-02-28&quot;));        Assertions.assertFalse(dateValidator.isValid(&quot;2021-02-30&quot;));    }}</code></pre><p>çœ‹<code>org.apache.commons.validator.DateValidator#isValid</code>æºç å¯ä»¥å‘ç°ï¼Œå†…éƒ¨æ˜¯é€šè¿‡<code>DateFormat</code>å’Œ<code>SimpleDateFormat</code>å®ç°çš„ã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å››ç§æ–¹å¼å®ç°äº†æ—¶é—´å­—ç¬¦ä¸²æ ¡éªŒé€»è¾‘ã€‚ä¸ºäº†èŠ‚çœç¯‡å¹…ï¼Œæ–‡ä¸­ä»£ç åªæä¾›äº†æ ¸å¿ƒå†…å®¹ã€‚æƒ³è¦äº†è§£å…·ä½“å®ç°ï¼Œå¯ä»¥å…³æ³¨å…¬å·ã€Œçœ‹å±±çš„å°å±‹ã€ï¼Œå›å¤â€œdateâ€è·å–æºç ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ol><li><a href="https://www.howardliu.cn/java-date-and-time-intro/">Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a></li><li><a href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/">Date ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a></li><li><a href="https://www.howardliu.cn/java-date-time-migrating-to-jsr310/">ä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</a></li><li><a href="https://www.howardliu.cn/java-date-string-valid-date/">æ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</a></li></ol><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/java-date-string-valid-date/">çœ‹å±±èŠ Javaï¼šæ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/119464230" target="_blank" rel="noopener">çœ‹å±±èŠ Javaï¼šæ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨ä¸ªäººå…¬ä¼—å·ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      è¿™æ¬¡è¯´ä¸€ä¸‹ï¼Œæ€æ ·æ£€æŸ¥ç»™å‡ºçš„å­—ç¬¦ä¸²ï¼Œæ˜¯å¦æ˜¯åˆæ³•æ—¥æœŸå­—ç¬¦ä¸²ã€‚æœ¬æ–‡å°†ä» Java åŸç”Ÿå’Œç¬¬ä¸‰æ–¹ç»„ä»¶ä¸¤ç§æ–¹å¼æ¥è¯´æ˜ã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="java" scheme="https://www.howardliu.cn/tags/java/"/>
    
      <category term="Date" scheme="https://www.howardliu.cn/tags/Date/"/>
    
      <category term="Time" scheme="https://www.howardliu.cn/tags/Time/"/>
    
  </entry>
  
  <entry>
    <title>ã€ŠGo å¼€å‘æŒ‡å—ã€‹-ç®¡ç† Go ç¯å¢ƒ</title>
    <link href="https://www.howardliu.cn/manage-install/"/>
    <id>https://www.howardliu.cn/manage-install/</id>
    <published>2021-07-24T09:38:39.000Z</published>
    <updated>2021-07-24T09:38:39.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/kitten-6479019_1920.jpg" alt="ã€ŠGo å¼€å‘æŒ‡å—ã€‹-ç®¡ç† Go ç¯å¢ƒ"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/krystianwin-8237000/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6479019" target="_blank" rel="noopener">krystianwin</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6479019" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><blockquote><p>æœ¬æ–‡æºè‡ªå¹¶å‘ç¼–ç¨‹ç½‘çš„ç¿»è¯‘é‚€è¯·ï¼Œæ–‡ç« æ¥è‡ª Go å®˜æ–¹ç½‘ç«™ã€‚</p></blockquote><a id="more"></a><p>æœ¬æ–‡ä¸»è¦è®²è¿°äº†å¦‚ä½•åœ¨åŒä¸€å°æœºå™¨ä¸Šå®‰è£…å¤šä¸ªç‰ˆæœ¬ Go ç¯å¢ƒï¼Œå†æè¿°ä¸€ä¸‹å¦‚ä½•å¸è½½ Go ç¯å¢ƒã€‚</p><p>å¦‚æœæƒ³è¦æŸ¥çœ‹å¦‚ä½•å¿«é€Ÿå®‰è£… Go ç¯å¢ƒï¼Œå¯ä»¥è®¿é—®ï¼š<a href="https://www.howardliu.cn/install-go/">å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ</a>ã€‚</p><p>å¦‚æœæƒ³è¦é€šè¿‡æºç å®‰è£…ï¼Œå¯ä»¥è®¿é—®ï¼š<a href="https://golang.google.cn/doc/install/source" target="_blank" rel="noopener">ä»æºç å®‰è£… Go ç¯å¢ƒ</a>ã€‚</p><h2 id="å¦‚ä½•å®‰è£…å¤šç‰ˆæœ¬"><a href="#å¦‚ä½•å®‰è£…å¤šç‰ˆæœ¬" class="headerlink" title="å¦‚ä½•å®‰è£…å¤šç‰ˆæœ¬"></a>å¦‚ä½•å®‰è£…å¤šç‰ˆæœ¬</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨ä¸åŒç‰ˆæœ¬æµ‹è¯•æˆ‘ä»¬çš„ä»£ç ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬åœ¨ä¸€å°æœºå™¨ä¸Šå®‰è£…å¤šä¸ªç‰ˆæœ¬ã€‚æœ‰å…³ç‰ˆæœ¬åˆ—è¡¨ï¼Œå¯ä»¥è®¿é—®<a href="https://golang.org/dl/" target="_blank" rel="noopener">https://golang.org/dl/</a>ã€‚</p><blockquote><p>æ³¨æ„ï¼šé€šè¿‡è¿™ç§æ–¹å¼ï¼Œéœ€è¦æå‰è£…å¥½<a href="https://git-scm.com/" target="_blank" rel="noopener">https://git-scm.com/</a>ã€‚</p></blockquote><p>è¦å®‰è£…å…¶ä»–ç‰ˆæœ¬ï¼Œéœ€è¦è¿è¡Œ<code>go get</code>å‘½ä»¤ï¼ŒæŒ‡å®šä¸‹è½½ä½ç½®ã€‚ä¸‹é¢ç»™å‡ºä¸‹è½½å®‰è£…<code>1.10.7</code>ç‰ˆæœ¬çš„å‘½ä»¤ï¼š</p><pre><code class="shell">go get golang.org/dl/go1.10.7go1.10.7 download</code></pre><p>ä½¿ç”¨æœ€æ–°ä¸‹è½½çš„ç‰ˆæœ¬è¿è¡Œ go å‘½ä»¤ï¼Œéœ€è¦åœ¨ go å‘½ä»¤åé™„ä¸Šç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ï¼š</p><pre><code class="shell">go1.10.7 version</code></pre><p>å¦‚æœå®‰è£…äº†å¤šä¸ªç‰ˆæœ¬ï¼Œæƒ³è¦æŸ¥çœ‹æ¯ä¸ªç‰ˆæœ¬å®‰è£…ä½ç½®ï¼Œå¯ä»¥æŸ¥çœ‹æŒ‡å®šç‰ˆæœ¬çš„<code>GOROOT</code>å€¼ã€‚æ¯”å¦‚ï¼š</p><pre><code class="shell">go1.10.7 env GOROOT</code></pre><p>å¦‚æœæƒ³è¦å¸è½½å·²ä¸‹è½½ç‰ˆæœ¬ï¼Œåªéœ€è¦ç§»é™¤<code>GOROOT</code>ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•å’Œ<code>goX.Y.Z</code>æ–‡ä»¶å¤¹å°±è¡Œã€‚</p><h2 id="å¦‚ä½•å¸è½½"><a href="#å¦‚ä½•å¸è½½" class="headerlink" title="å¦‚ä½•å¸è½½"></a>å¦‚ä½•å¸è½½</h2><p>æœ¬èŠ‚è¯´ä¸€ä¸‹å¦‚ä½•ä»ä½ çš„ç³»ç»Ÿä¸­å¸è½½ Go ç¯å¢ƒã€‚</p><h3 id="Linux-macOS-FreeBSD"><a href="#Linux-macOS-FreeBSD" class="headerlink" title="Linux / macOS / FreeBSD"></a>Linux / macOS / FreeBSD</h3><ol><li>åˆ é™¤ Go ç›®å½•ï¼Œé€šå¸¸æ˜¯<code>/usr/local/go</code>ã€‚</li><li>ä»<code>PATH</code>ç¯å¢ƒå˜é‡ä¸­ç§»é™¤ Go çš„<code>bin</code>ç›®å½•ã€‚åœ¨ Linux å’Œ FreeBSD ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç¼–è¾‘<code>/etc/profile</code>æˆ–è€…<code>$HOME/.profile</code>ä¿®æ”¹<code>PATH</code>å˜é‡ã€‚å¦‚æœæ˜¯åœ¨ Mac ç³»ç»Ÿä¸­ï¼Œé€šè¿‡å®‰è£…åŒ…å®‰è£…çš„ Go ç¯å¢ƒï¼Œéœ€è¦åˆ é™¤<code>/etc/paths.d/go</code>æ–‡ä»¶ã€‚</li></ol><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯é€šè¿‡æ§åˆ¶é¢æ¿çš„â€œæ·»åŠ /åˆ é™¤ç¨‹åºâ€ï¼š</p><ol><li>åœ¨æ§åˆ¶é¢æ¿ä¸­ï¼Œæ‰“å¼€â€œæ·»åŠ /åˆ é™¤ç¨‹åºâ€</li><li>é€‰æ‹© Go ç¯å¢ƒçš„å¸è½½æŒ‰é’®ï¼Œè·Ÿéšæ­¥éª¤æ‰§è¡Œå°±è¡Œã€‚</li></ol><p>è¦åˆ é™¤ Go ç¯å¢ƒï¼Œè¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼ï¼š</p><pre><code class="cmd">msiexec /x go{{version}}.windows-{{cpu-arch}}.msi /q</code></pre><blockquote><p>æ³¨ï¼šä½¿ç”¨å¸è½½ç¨‹åºå¸è½½ Goï¼Œä¼šè‡ªåŠ¨åˆ é™¤åˆ›å»ºæ—¶æ·»åŠ çš„ç¯å¢ƒå˜é‡ã€‚</p></blockquote><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/install-go/">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ</a></li><li><a href="https://www.howardliu.cn/manage-install/">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-ç®¡ç† Go ç¯å¢ƒ</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://golang.google.cn/doc/manage-install" target="_blank" rel="noopener">Managing Go installations</a><br>ç¿»è¯‘ï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>è¯‘æ–‡é“¾æ¥ï¼š<a href="https://www.howardliu.cn/manage-install/">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-ç®¡ç† Go ç¯å¢ƒ</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://blog.csdn.net/liuxinghao/article/details/119061750" target="_blank" rel="noopener">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-ç®¡ç† Go ç¯å¢ƒ</a></p><center><b>ğŸ‘‡ğŸ»æ¬¢è¿å…³æ³¨ä¸ªäººå…¬ä¼—å·ï¼Œé¢†å–ç²¾é€‰èµ„æ–™ğŸ‘‡ğŸ»</b></center><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      å¦‚ä½•åœ¨åŒä¸€å°æœºå™¨ä¸Šå®‰è£…å¤šä¸ªç‰ˆæœ¬ Go ç¯å¢ƒï¼Œå†æè¿°ä¸€ä¸‹å¦‚ä½•å¸è½½ Go ç¯å¢ƒã€‚
    
    </summary>
    
    
      <category term="go" scheme="https://www.howardliu.cn/categories/go/"/>
    
    
      <category term="go" scheme="https://www.howardliu.cn/tags/go/"/>
    
      <category term="å¼€å‘æŒ‡å—" scheme="https://www.howardliu.cn/tags/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/"/>
    
  </entry>
  
  <entry>
    <title>ã€ŠGo å¼€å‘æŒ‡å—ã€‹-å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ</title>
    <link href="https://www.howardliu.cn/install-go/"/>
    <id>https://www.howardliu.cn/install-go/</id>
    <published>2021-07-24T09:21:23.000Z</published>
    <updated>2021-07-24T09:21:23.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/travel-6470467_1920.jpg" alt="ã€ŠGo å¼€å‘æŒ‡å—ã€‹-å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/jpdvg-11163235/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6470467" target="_blank" rel="noopener">JPierre Desvigne</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6470467" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><blockquote><p>æœ¬æ–‡æºè‡ªå¹¶å‘ç¼–ç¨‹ç½‘çš„ç¿»è¯‘é‚€è¯·ï¼Œæ–‡ç« æ¥è‡ª Go å®˜æ–¹ç½‘ç«™ã€‚</p></blockquote><a id="more"></a><p>æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤ï¼Œä½ å¯ä»¥å®ç°å¿«é€Ÿå®‰è£…ã€‚</p><p>å¦‚æœæƒ³è¦é€šè¿‡æºç å®‰è£…ï¼Œå¯ä»¥è®¿é—®ï¼š<a href="https://golang.google.cn/doc/install/source" target="_blank" rel="noopener">ä»æºç å®‰è£… Go ç¯å¢ƒ</a>ã€‚</p><p>å¦‚æœæƒ³è¦å®‰è£…å¤šä¸ªç‰ˆæœ¬çš„ Go æˆ–è€…å¸è½½ï¼Œå¯ä»¥è®¿é—®ï¼š<a href="https://www.howardliu.cn/manage-install/">ç®¡ç† Go ç¯å¢ƒ</a>ã€‚</p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>ä¸‹é¢æä¾›äº† Linuxã€Macã€Windows ä¸‰ç§ç³»ç»Ÿ Go è¯­è¨€å®‰è£…åŒ…çš„ä¸‹è½½è·¯å¾„ï¼š</p><ul><li>Linuxï¼š<a href="https://golang.org/dl/go1.16.5.linux-amd64.tar.gz" target="_blank" rel="noopener">https://golang.org/dl/go1.16.5.linux-amd64.tar.gz</a></li><li>Macï¼š<a href="https://golang.org/dl/go1.16.5.darwin-amd64.pkg" target="_blank" rel="noopener">https://golang.org/dl/go1.16.5.darwin-amd64.pkg</a></li><li>Windowsï¼š<a href="https://golang.org/dl/go1.16.5.windows-amd64.msi" target="_blank" rel="noopener">https://golang.org/dl/go1.16.5.windows-amd64.msi</a></li></ul><p>å¦‚æœæƒ³è¦è·å–å…¶ä»–æ“ä½œç³»ç»Ÿæˆ–è€…å…¶ä»–ç‰ˆæœ¬çš„ï¼Œå¯ä»¥è®¿é—®<a href="https://golang.org/dl/" target="_blank" rel="noopener">https://golang.org/dl/</a>ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œgo å‘½ä»¤é»˜è®¤ä¸‹è½½å’ŒéªŒè¯æ¨¡å—æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ Google æä¾›çš„æ¨¡å—é•œåƒæœåŠ¡å’Œ checksum éªŒè¯ã€‚æˆ‘ä»¬å¯ä»¥ä»<a href="https://golang.org/cmd/go/" target="_blank" rel="noopener">https://golang.org/cmd/go/</a>è·å–å…¨é¢çš„ go å‘½ä»¤å’Œé…ç½®ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><ol><li><p>å°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ°<code>/usr/local</code>ç›®å½•ä¸­ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼ˆéœ€è¦åˆ‡æ¢åˆ° root ç”¨æˆ·æˆ–è€…ä½¿ç”¨ sudoï¼‰ï¼š</p><pre><code class="bash"> rm -rf /usr/local/go tar -C /usr/local -xzf go1.16.5.linux-amd64.tar.gz</code></pre><blockquote><p>æ³¨æ„ï¼šæä¾›çš„è¿™æ¡å‘½ä»¤ä¼šåˆ é™¤ä¹‹å‰å®‰è£…çš„ go ç¯å¢ƒï¼Œåœ¨æ‰§è¡Œä¹‹å‰æœ€å¥½åšä¸‹å¤‡ä»½ã€‚</p></blockquote></li><li><p>å°†<code>/usr/local/go/bin</code>æ·»åŠ åˆ°<code>PATH</code>ç¯å¢ƒå˜é‡ä¸­ï¼Œå¯ä»¥åœ¨<code>$HOME/.profile</code>æˆ–è€…<code>/etc/profile</code>ä¸­æ·»åŠ ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š</p><pre><code class="bash"> export PATH=$PATH:/usr/local/go/bin</code></pre><blockquote><p>æ³¨æ„ï¼šå¯¹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹ï¼Œéœ€è¦ç­‰åˆ°ä¸‹æ¬¡ç™»å½•è®¡ç®—æœºçš„æ—¶å€™æ‰ä¼šç”Ÿæ•ˆã€‚å¦‚æœæƒ³è¦ç«‹å³ç”Ÿæ•ˆï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ shell å‘½ä»¤ï¼Œæˆ–è€…ä½¿ç”¨å‘½ä»¤<code>source $HOME/.profile</code>é‡æ–°æ‰§è¡Œä¸€ä¸‹é…ç½®å†…å®¹ã€‚</p></blockquote></li><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ŒéªŒè¯ä¸‹æ˜¯å¦æŒ‰ç…§æˆåŠŸï¼š</p><pre><code class="bash"> go version</code></pre></li><li><p>ç¡®è®¤ä¸€ä¸‹æ‰“å°çš„ç‰ˆæœ¬å·ï¼Œä¸ä¸‹è½½çš„ç‰ˆæœ¬å·æ˜¯å¦ä¸€è‡´ã€‚å¦‚æœä¸€è‡´ï¼Œè¯´æ˜æŒ‰ç…§æˆåŠŸï¼Œå¦‚æœè¯´å‘½ä»¤æ‰¾ä¸åˆ°æˆ–è€…ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œé‚£å°±æ˜¯å®‰è£…æœ‰é—®é¢˜ã€‚ã€è¯‘è€…æ³¨ï¼šå¦‚æœæ¡ä»¶å…è®¸ï¼Œæœ€å¥½é‡å¯ç³»ç»Ÿï¼Œç„¶ååœ¨éªŒè¯ä¸€æ¬¡ï¼Œé¿å…ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯ã€‚ã€‘</p></li></ol><h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><ol><li><p>åŒå‡»æ‰“å¼€ä¸‹è½½çš„å®‰è£…åŒ…ï¼ŒæŒ‰ç…§æç¤ºå®‰è£…ã€‚<br>è¿™ä¸ªå®‰è£…åŒ…ä¼šç›´æ¥å°† Go å®‰è£…åœ¨<code>/usr/local/go</code>ç›®å½•ä¸­ï¼Œå¹¶å°†<code>/usr/local/go/bin</code>æ·»åŠ åˆ°<code>PATH</code>ç¯å¢ƒå˜é‡ä¸­ã€‚å¯èƒ½éœ€è¦é‡å¯ç»ˆç«¯æ‰èƒ½ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚</p></li><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ŒéªŒè¯ä¸‹æ˜¯å¦æŒ‰ç…§æˆåŠŸï¼š</p><pre><code class="bash"> go version</code></pre></li><li><p>ç¡®è®¤ä¸€ä¸‹æ‰“å°çš„ç‰ˆæœ¬å·</p></li></ol><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><ol><li><p>åŒå‡»æ‰“å¼€ä¸‹è½½çš„å®‰è£…åŒ…ï¼ŒæŒ‰ç…§æç¤ºå®‰è£…ã€‚<br>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šå®‰è£…åœ¨<code>Program Files</code>æˆ–è€…<code>Program Files (x86)</code>ç›®å½•ä¸­ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ä¿®æ”¹ã€‚å®‰è£…å®Œæˆåï¼Œéœ€è¦é‡å¯ç»ˆç«¯ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚</p></li><li><p>éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ</p><ol><li><p>åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œæ‰“å¼€èœå•</p></li><li><p>æœç´¢æ¡†ä¸­é”®å…¥<code>cmd</code>ç„¶åå›è½¦ï¼Œæ‰“å¼€ç»ˆç«¯</p></li><li><p>åœ¨ç»ˆç«¯ä¸­ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤</p><pre><code class="bash"> go version</code></pre></li><li><p>ç¡®è®¤ä¸€ä¸‹æ‰“å°çš„ç‰ˆæœ¬å·</p></li></ol></li></ol><h2 id="å¼€å§‹-coding"><a href="#å¼€å§‹-coding" class="headerlink" title="å¼€å§‹ coding"></a>å¼€å§‹ coding</h2><p>ç»è¿‡ä¸Šé¢æ­¥éª¤ï¼Œä½ å·²ç»æˆåŠŸå®‰è£…äº† Go ç¯å¢ƒï¼Œè®¿é—® <a href="https://golang.google.cn/doc/tutorial/getting-started.html" target="_blank" rel="noopener">Getting Started tutorial</a> å¼€å§‹ Coding ä¹‹æ—…å§ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/install-go/">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ</a></li><li><a href="https://www.howardliu.cn/manage-install/">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-ç®¡ç† Go ç¯å¢ƒ</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://golang.google.cn/doc/install" target="_blank" rel="noopener">Download and install</a><br>ç¿»è¯‘ï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>è¯‘æ–‡é“¾æ¥ï¼š<a href="https://www.howardliu.cn/install-go/">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://blog.csdn.net/liuxinghao/article/details/119061721" target="_blank" rel="noopener">ã€ŠGo å¼€å‘æŒ‡å—ã€‹-å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      å¿«é€Ÿå®‰è£… Go ç¯å¢ƒ
    
    </summary>
    
    
      <category term="go" scheme="https://www.howardliu.cn/categories/go/"/>
    
    
      <category term="go" scheme="https://www.howardliu.cn/tags/go/"/>
    
      <category term="å¼€å‘æŒ‡å—" scheme="https://www.howardliu.cn/tags/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/"/>
    
  </entry>
  
  <entry>
    <title>å¥½ä¹¦ä¸æ˜¯é€šè¿‡ä»·æ ¼å¯ä»¥è¡¡é‡çš„ï¼Œæ¯”å¦‚è¿™æœ¬</title>
    <link href="https://www.howardliu.cn/about-the-fenix-project/"/>
    <id>https://www.howardliu.cn/about-the-fenix-project/</id>
    <published>2021-07-12T16:10:51.000Z</published>
    <updated>2021-07-12T16:10:51.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/bee-6354562_1920.jpg" alt="å¥½ä¹¦ä¸æ˜¯é€šè¿‡ä»·æ ¼å¯ä»¥è¡¡é‡çš„ï¼Œæ¯”å¦‚è¿™æœ¬"></p><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>ç¬”è€…ä¸»ä¿®Javaï¼Œæ‰€ä»¥åœ¨<a href="https://www.howardliu.cn/lists-book-recommendations-2021/">ã€Šç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆã€‹</a>ä¸»è¦æ¨èäº†ä¸€äº›Javaå·¥ç¨‹å¸ˆè¿›é˜¶å¿…è¯»ä¹¦å•ã€‚æ¨èåŸåˆ™æ˜¯è±†ç“£çš„è¯„åˆ†ï¼Œç»“æœï¼Œé—æ¼äº†ä¸€æœ¬å¼€æºä¹¦ç±ï¼Œç”šæ˜¯é—æ†¾ï¼Œä»Šå¤©è¡¥ä¸Šã€‚</p><a id="more"></a><p>æ¨èçš„ä¹¦ç±åä¸ºã€Šå‡¤å‡°æ¶æ„ã€‹ï¼Œå¼€æºåœ°å€æ˜¯<a href="https://icyfenix.cn/" target="_blank" rel="noopener">https://icyfenix.cn/</a>ã€‚</p><p>çœ‹åˆ°å‡¤å‡°ï¼Œæˆ‘ä»¬ä¼šæƒ³åˆ°å‡¤å‡°æ¶…æ§ƒã€æ¶…æ§ƒé‡ç”Ÿä¹‹ç±»çš„è¯è¯­ã€‚åœ¨ä½œè€…çœ‹æ¥ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œåªè¦åœ¨è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå†…ï¼Œæ€»ä¼šå› ä¸ºæŸäº›åŸå› å‡ºç°é—®é¢˜ï¼Œæˆ–è€…æ˜¯è®¾è®¡ä¸Šçš„ï¼Œæˆ–è€…æ˜¯å·¥ç¨‹å¸ˆä»£ç é—®é¢˜ï¼Œç”šè‡³æœ€ç®€å•çš„ç½‘ç»œé—®é¢˜ã€‚å°±åƒæ˜¯å‡¤å‡°æµ´ç«ï¼Œç»å†è€ƒéªŒï¼Œç„¶åé‡ç”Ÿä¸€èˆ¬ã€‚</p><p>æœ¬ä¹¦æ¢è®¨çš„ä¸»é¢˜å°±æ˜¯ï¼Œå¦‚ä½•æ„å»ºä¸€ä¸ªå¯é çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚è¿™å¥—æ–¹æ³•è®ºï¼Œå¯ä»¥è®©å¤šäººåä½œå¼€å‘çš„ç³»ç»Ÿï¼Œè®©ä¸€ä¸ªå¤§å‹çš„ã€åˆ†å¸ƒå¼çš„ç³»ç»Ÿï¼Œå¯é çš„è¿è¡Œã€‚è¿™ä¸æ˜¯ä¾èµ–å›¢é˜Ÿæˆå‘˜ä¸ªäººèƒ½åŠ›ï¼Œæˆ–è€…æ˜¯ç ”å‘è´¨é‡ç®¡ç†å°±èƒ½å¤Ÿå®ç°çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿæ€§çš„ã€æ¶æ„å±‚é¢çš„é—®é¢˜ã€‚æƒ³è¦å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæœ€ç»ˆè¦ä¾èµ–æŠ€æœ¯å’Œæ¶æ„ã€‚</p><p>å…¨ä¹¦ä¸»è¦åˆ†ä¸º5éƒ¨åˆ†ï¼š</p><ul><li>æ¼”è¿›ä¸­çš„æ¶æ„ï¼šä»å†å²æ¼”è¿›è¿‡ç¨‹ï¼Œä»¥å…¨å±€è§†è§’ï¼Œæ¢³ç†å¾®æœåŠ¡å‘å±•è¿‡ç¨‹ä¸­å‡ºç°çš„å¤§é‡æŠ€æœ¯åè¯ã€æ¦‚å¿µã€‚å¯ä»¥è®©æˆ‘ä»¬äº†è§£æŠ€æœ¯çš„æ—¶ä»£èƒŒæ™¯å’Œæ¢ç´¢è¿‡ç¨‹ã€‚è¿™é‡Œä¸å¾—ä¸æ¨èå¦å¤–ä¸€æœ¬ä¹¦ã€Šå¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„ã€‹ï¼Œå¤§å®¶æœ‰æ—¶é—´å¯ä»¥çœ‹çœ‹ã€‚</li><li>æ¶æ„å¸ˆçš„è§†è§’ï¼šè¿™ä¸€éƒ¨åˆ†ä¸æ˜¯å±€é™åœ¨æŸç§æ¶æ„çš„é€šç”¨æŠ€å·§ï¼Œè€Œæ˜¯ç³»ç»Ÿæ€§åœ°è®²è§£åšæ¶æ„è®¾è®¡çš„æ—¶å€™ï¼Œæ¶æ„å¸ˆéƒ½åº”è¯¥æ€è€ƒå“ªäº›é—®é¢˜ã€å¯ä»¥é€‰æ‹©å“ªäº›ä¸»æµçš„è§£å†³æ–¹æ¡ˆå’Œè¡Œä¸šæ ‡å‡†åšæ³•ï¼Œä»¥åŠè¿™äº›ä¸»æµæ–¹æ¡ˆéƒ½æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ã€ä¼šç»™æ¶æ„è®¾è®¡å¸¦æ¥ä»€ä¹ˆå½±å“ï¼Œç­‰ç­‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ‰å¯ä»¥æŠŠâ€œæ¶æ„è®¾è®¡â€è¿™æ ·æ¯”è¾ƒæŠ½è±¡çš„å·¥ä½œå…·ä½“åŒ–ã€å…·è±¡åŒ–ã€‚</li><li>åˆ†å¸ƒå¼çš„åŸºçŸ³ï¼šè¿™ä¸€éƒ¨åˆ†èšç„¦åœ¨åˆ†å¸ƒå¼æ¶æ„ï¼Œæ¢è®¨åˆ†å¸ƒå¼å¸¦æ¥çš„é—®é¢˜ä¸åº”å¯¹ç­–ç•¥ã€‚å‰–æåˆ†å¸ƒå¼æ¶æ„ä¸­å‡ºç°çš„ä¸€ç³»åˆ—é—®é¢˜ï¼Œæ¯”å¦‚æœåŠ¡çš„æ³¨å†Œå‘ç°ã€è·Ÿè¸ªæ²»ç†ã€è´Ÿè½½å‡è¡¡ã€æ•…éšœéš”ç¦»ã€è®¤è¯æˆæƒã€ä¼¸ç¼©æ‰©å±•ã€ä¼ è¾“é€šè®¯ã€äº‹åŠ¡å¤„ç†ç­‰ï¼Œæœ‰å“ªäº›è§£å†³æ€è·¯ã€æ–¹æ³•å’Œå¸¸è§å·¥å…·ã€‚</li><li>ä¸å¯å˜åŸºç¡€è®¾æ–½ï¼šè¿™ä¸€éƒ¨åˆ†æŒ‰ç…§äº‘åŸç”Ÿæ—¶ä»£â€œåŸºç¡€è®¾æ–½å³ä»£ç â€çš„æ–°æ€è·¯ï¼Œæ·±å…¥ç†è§£åŸºç¡€è®¾æ–½ä¸å˜æ€§çš„ç›®çš„ã€åŸç†ä¸å®ç°é€”å¾„ï¼Œä½“ä¼šç”¨ä»£ç å’Œç”¨åŸºç¡€è®¾æ–½ï¼Œæ¥è§£å†³åˆ†å¸ƒå¼é—®é¢˜çš„å·®å¼‚ï¼Œè®©æˆ‘ä»¬æ›´è½»æ¾çš„ç†è§£ä¸å¯å˜åŸºç¡€è®¾æ–½çš„å†…æ¶µï¼Œä¾¿äºåœ¨å®é™…å·¥ä½œä¸­åšè¿ç»´ã€ç¨‹åºå‡çº§å’Œéƒ¨ç½²ç­‰å·¥ä½œã€‚</li><li>æŠ€æœ¯æ–¹æ³•è®ºï¼šè¿™ä¸€éƒ¨åˆ†å±äºå½’çº³æ€»ç»“çš„éƒ¨åˆ†ï¼Œå‰é¢éƒ½æ˜¯ä»å®è·µå‡ºå‘ï¼Œè®©æˆ‘ä»¬æ›´åŠ æ¸…æ¥šå¦‚ä½•æ˜¯è®¾è®¡ä¸€ä¸ªä¸æ–­å‡çº§çš„ç³»ç»Ÿã€‚è¿™ä¸€ç« è®²è¿°ä¸€äº›æ–¹æ³•è®ºï¼Œåœ¨æˆ‘ä»¬æœ‰ä¸€å®šå®è·µçš„åŸºç¡€ä¸Šï¼Œæ„å»ºå¯é çš„ç†è®ºä½“ç³»ï¼Œç†è®ºä¸å®ç°ç›¸ç»“åˆï¼Œç›¸äº’èºæ—‹ä¸Šå‡ã€‚</li></ul><p>å‰é¢è¯´äº†è¿™ä¹ˆå¤šï¼Œè¯¥ä»‹ç»ä¸€ä¸‹ä½œè€…äº†ï¼Œå°±æ˜¯å¤§åé¼é¼çš„å‘¨å¿—æ˜ï¼Œ<a href="https://book.douban.com/subject/34907497/" target="_blank" rel="noopener">ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹</a>ä½œè€…ã€‚ç›¸ä¿¡Javaæ ˆçš„å¼€å‘è€…ï¼Œå³ä½¿æ²¡æœ‰è¯»è¿‡è¿™æœ¬ä¹¦ï¼Œä¹Ÿå¬è¿‡å…¶åã€‚å°±æ˜¯è¿™æœ¬ä¹¦è®©ç¬”è€…æœ‰çˆ±æœ‰æ¨ï¼Œçˆ±çš„æ˜¯æå‡äº†ç¬”è€…å¯¹JVMçš„è®¤è¯†ï¼Œæ¨çš„æ˜¯æå‡äº†å¤§å®¶å¯¹JVMçš„è®¤è¯†ã€‚</p><p>å†æ¬¡é™„ä¸Šå¼€æºåœ°å€<a href="https://icyfenix.cn/" target="_blank" rel="noopener">https://icyfenix.cn/</a>ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/lists-book-recommendations-2021/">ç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆ</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/about-the-fenix-project/">å¥½ä¹¦ä¸æ˜¯é€šè¿‡ä»·æ ¼å¯ä»¥è¡¡é‡çš„ï¼Œæ¯”å¦‚è¿™æœ¬</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/103794938" target="_blank" rel="noopener">å¥½ä¹¦ä¸æ˜¯é€šè¿‡ä»·æ ¼å¯ä»¥è¡¡é‡çš„ï¼Œæ¯”å¦‚è¿™æœ¬</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://static.howardliu.cn/cover/bee-6354562_1920.jpg&quot; alt=&quot;å¥½ä¹¦ä¸æ˜¯é€šè¿‡ä»·æ ¼å¯ä»¥è¡¡é‡çš„ï¼Œæ¯”å¦‚è¿™æœ¬&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚&lt;/p&gt;
&lt;p&gt;ç¬”è€…ä¸»ä¿®Javaï¼Œæ‰€ä»¥åœ¨&lt;a href=&quot;https://www.howardliu.cn/lists-book-recommendations-2021/&quot;&gt;ã€Šç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆã€‹&lt;/a&gt;ä¸»è¦æ¨èäº†ä¸€äº›Javaå·¥ç¨‹å¸ˆè¿›é˜¶å¿…è¯»ä¹¦å•ã€‚æ¨èåŸåˆ™æ˜¯è±†ç“£çš„è¯„åˆ†ï¼Œç»“æœï¼Œé—æ¼äº†ä¸€æœ¬å¼€æºä¹¦ç±ï¼Œç”šæ˜¯é—æ†¾ï¼Œä»Šå¤©è¡¥ä¸Šã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="é—²èŠ" scheme="https://www.howardliu.cn/categories/%E9%97%B2%E8%81%8A/"/>
    
    
      <category term="é—²èŠ" scheme="https://www.howardliu.cn/tags/%E9%97%B2%E8%81%8A/"/>
    
      <category term="ä¹¦å•" scheme="https://www.howardliu.cn/tags/%E4%B9%A6%E5%8D%95/"/>
    
      <category term="æŠ€æœ¯æˆé•¿" scheme="https://www.howardliu.cn/tags/%E6%8A%80%E6%9C%AF%E6%88%90%E9%95%BF/"/>
    
  </entry>
  
  <entry>
    <title>æƒ³èººå¹³ä¸æ˜¯é”™</title>
    <link href="https://www.howardliu.cn/relax-and-run/"/>
    <id>https://www.howardliu.cn/relax-and-run/</id>
    <published>2021-07-09T00:16:44.000Z</published>
    <updated>2021-07-09T00:16:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/caterpillar-6387049_1920.jpg" alt="æƒ³èººå¹³ä¸æ˜¯é”™"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/jggrz-7998824/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6387049" target="_blank" rel="noopener">jggrz</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6387049" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>ä»Šå¤©èŠèŠè¿™æ®µæ—¶é—´æ¯”è¾ƒç«çš„ä¸€ä¸ªç½‘ç»œè¯ï¼šèººå¹³ã€‚æ®è¯´è¿™ä¸ªè¯è¿˜è¢«æŸäº›ç½‘ç«™å±è”½äº†ï¼Œä¸çŸ¥é“è¿™ç¯‡æ–‡ç« ä¼šä¸ä¼šä¹Ÿè¢«å±è”½æ‰ã€‚</p><a id="more"></a><p>ç»´åŸºç™¾ç§‘ä¸º<code>èººå¹³</code>ä¸‹äº†ä¸€ä¸ªæ¯”è¾ƒå®Œå–„çš„å®šä¹‰ï¼š</p><blockquote><p>èººå¹³æˆ–èººå¹³ä¸»ä¹‰æ˜¯ 2021 å¹´å¼€å§‹åœ¨ä¸­åäººæ°‘å…±å’Œå›½æµè¡Œçš„ç½‘ç»œè¯è¯­ã€‚æŒ‡è¿™ä¸€æ—¶æœŸçš„å¹´è½»äººåœ¨å›½å†…ç»æµä¸‹æ»‘ã€ç¤¾ä¼šé—®é¢˜æ¿€åŒ–çš„å¤§èƒŒæ™¯ä¸‹ï¼Œå‡ºäºå¯¹ç°å®ç¯å¢ƒçš„å¤±æœ›è€Œåšå‡ºçš„â€œä¸å…¶è·Ÿéšç¤¾ä¼šæœŸæœ›åšæŒå¥‹æ–—ï¼Œä¸å¦‚é€‰æ‹©â€˜èººå¹³â€™ï¼Œæ— æ¬²æ— æ±‚â€çš„å¤„äº‹æ€åº¦ã€‚è¢«è§†ä¸ºæ˜¯å¯¹æŠ—ç¤¾ä¼šâ€œå†…å·åŒ–â€çš„ä¸€ç§æ–¹å¼ã€‚å…¶å…·ä½“å†…æ¶µåŒ…æ‹¬â€œä¸ä¹°æˆ¿ã€ä¸ä¹°è½¦ã€ä¸ç»“å©šã€ä¸ç”Ÿå¨ƒã€ä¸æ¶ˆè´¹â€åŠâ€œç»´æŒæœ€ä½ç”Ÿå­˜æ ‡å‡†ï¼Œæ‹’ç»æˆä¸ºä»–äººèµšé’±çš„æœºå™¨å’Œè¢«å‰¥å‰Šçš„å¥´éš¶â€ï¼Œæ˜¯â€œä½æ¬²æœ›é’å¹´â€å¯¹äºé˜¶çº§å›ºåŒ–çš„ä½ç§»åŠ¨æ€§ç¤¾ä¼šã€ä¸­äº§é˜¶çº§èç¼©ã€åœ¨èŒè´«ç©·ã€è‹›åˆ»å¾…é‡ã€åŠ³èµ„å…³ç³»å¤±è°ã€ä»¥åŠä¸åˆç†çš„ç¤¾ä¼šç»æµç»“æ„ç­‰ç°å†µçš„å›åº”ã€‚</p></blockquote><p>åé¢å°±æ˜¯ä¸ªäººæ„šè§äº†ã€‚</p><p>ä¸ç¦æœ‰äººä¼šé—®ï¼Œä¸ºä»€ä¹ˆç°åœ¨å¹´è½»äººè¦èººå¹³å‘¢ï¼Ÿä»¥å‰æ€ä¹ˆæ²¡æœ‰ï¼Ÿ</p><p>æ€ä¹ˆä¼šæ²¡æœ‰ï¼Ÿèººå¹³è¿™ä¸ªè¯æ˜¯æ–°è¯ï¼Œä½†è¿™ç§æƒ³æ³•å´ä¸æ˜¯æ–°çš„ï¼Œæ–°ç“¶è£…æ—§é…’è€Œå·²ã€‚</p><p>åœ¨æ›´æ—©çš„æ—¶å€™æœ‰ä¸€ä¸ªè¯ï¼šä¸‰å’Œå¤§ç¥ã€‚</p><p>ç»´åŸºç™¾ç§‘ä¾ç„¶å¯ä»¥æ‰¾åˆ°è§£é‡Šï¼š</p><blockquote><p>ä¸‰å’Œå¤§ç¥æ˜¯æŒ‡æ –èº«åœ¨ä¸­å›½å¹¿ä¸œçœæ·±åœ³å¸‚é¾™ååŒºæ™¯ä¹æ–°æ‘æµ·æ–°ä¿¡äººåŠ›èµ„æºå¸‚åœºé™„è¿‘çš„ä¸€ç¾¤æ‰“å·¥è€…ï¼Œâ€œä¸‰å’Œâ€ä¸€è¯æºè‡ªè¯¥åŒºåŸŸæœ€å¤§çš„äººåŠ›èµ„æºå…¬å¸åç§°ã€‚ä»–ä»¬å±…æ— å®šæ‰€ï¼Œä»¥æ—¥ç»“è–ªèµ„çš„ä¸´æ—¶å·¥ä¸ºç”Ÿï¼Œå·ç§°â€œåšä¸€å¤©å¯ä»¥ç©ä¸‰å¤©â€ã€‚è¿™äº›æ‰“å·¥è€…æœ‰çš„ç”šè‡³æ²¡æœ‰èº«ä»½è¯ï¼Œèº«è´Ÿå€ºåŠ¡ï¼Œä¸å®¶äººé²œæœ‰æ¥å¾€ã€‚å¤±å»èº«ä»½è¯æ— æ³•è´­ç¥¨ï¼Œç”šè‡³æ— æ³•ç¦»å¼€ä¸‰å’Œåœ°åŒºã€‚ä¸‰å’Œå¤§ç¥çš„å®šä¹‰åŒæ—¶æœ‰ç²¾ç¥æ–¹é¢çš„å› ç´ ï¼Œå¾€å¾€æœ‰ç€è¿‡ä¸€å¤©ç®—ä¸€å¤©çš„è±è¾¾ç²¾ç¥ï¼Œä¸ç•æ­»ï¼Œä¸æƒ§ç©·ã€è‹¦ã€è„ã€‚</p></blockquote><p>è¿˜æœ‰ä¸ªè¯æ˜¯â€œè‘›ä¼˜èººâ€ï¼Œ2016 å¹´çš„ç½‘ç»œè¯ï¼Œæ¯”å–»è‡ªå·±çš„â€œé¢“åºŸâ€çš„ç°çŠ¶ã€‚</p><p><img src="http://static.howardliu.cn/raving/1f178a82b9014a90168ef327b977ad1ab21bee85.jpeg" alt="è‘›ä¼˜èºº"></p><p>å†å¾€å‰æœ‰ä¸ªè¯æ˜¯â€œä½›ç³»â€ï¼Œ2014 å¹´çš„ç½‘ç»œè¯äº†ï¼ŒæŒ‡æ— æ¬²æ— æ±‚ã€ä¸æ‚²ä¸å–œã€äº‘æ·¡é£è½»è€Œè¿½æ±‚å†…å¿ƒå¹³å’Œçš„ç”Ÿæ´»æ€åº¦ã€‚</p><p>å†å¾€å‰ï¼Œçœ‹çœ‹å”ä¼¯è™ï¼Œèººçš„å¾ˆæ½‡æ´’ã€‚</p><blockquote><p>é…’é†’åªåœ¨èŠ±å‰åï¼Œé…’é†‰è¿˜é¡»èŠ±ä¸‹çœ ã€‚<br>èŠ±å‰èŠ±åæ—¥å¤æ—¥ï¼Œé…’é†‰é…’é†’å¹´å¤å¹´ã€‚<br>ä½†æ„¿è€æ­»èŠ±é…’é—´ï¼Œä¸æ„¿é èº¬è½¦é©¬å‰ã€‚</p></blockquote><p>æœ€åè¿½ä¸Šä¸€å¥â€œä¸–äººç¬‘æˆ‘å¤ªç–¯ç™«ï¼Œæˆ‘ç¬‘ä¸–äººçœ‹ä¸ç©¿ã€‚â€ç®€ç›´æ˜¯æˆ‘èººå¹³è¾ˆçš„çœŸå®å¿ƒæ€ã€‚</p><p>å†å¾€å‰è¿˜æœ‰é™¶æ¸Šæ˜ï¼Œéšå±…å±±é‡é—´ï¼Œâ€œç§è±†å—å±±ä¸‹ï¼Œè‰ç››è±†è‹—ç¨€â€ï¼Œä»»ç”±åº„ç¨¼è¢«æ‚è‰åå™¬ã€‚</p><p>å†å²ä¸Šçš„åäººå°šä¸”å¦‚æ­¤ï¼Œé‚£äº›æ²¡æœ‰è¢«å†å²è®°ä½çš„èººå¹³é’å¹´ï¼Œä½•å…¶ä¹‹å¤šã€‚èººå¹³ä¸€è¯ï¼Œåªæ˜¯ç»™è¿™ç§å¤„äº‹æ–¹å¼å®šäº†ä¸€ä¸ªæ–°è¯´æ³•è€Œå·²ã€‚</p><p>ä»æŸåº¦æœç´¢è¿™ä¸ªè¯ï¼Œç»“æœæœ‰ 1000 ä¸‡æ¡ï¼Œå¯è§çƒ­åº¦å¦‚ä½•ã€‚æˆ‘å¤©æœä¸Šå›½æ—¥ç›Šç¹è£ï¼Œæ€ä¹ˆä»Šå¹´çªç„¶å‡ºæ¥è¿™ä¹ˆä¸ªè¯ï¼Ÿ</p><p>ç°åœ¨ç¤¾ä¼šä¸Šå·¥ä½œçš„å¤§éƒ¨åˆ†äººï¼Œæ˜¯ 80ã€90ã€00 è¿™ 30 å¹´ä¹‹é—´çš„äººï¼Œæ­£åœ¨æ¥å—ç”Ÿæ´»å·¥ä½œçš„é­æŒã€‚</p><p>æ”¹é©å¼€æ”¾ 40 å¤šå¹´ï¼Œç»æµè¿…é€Ÿå‘å±•ï¼Œå‡ ä¹èµ¶ä¸Šæ¬§ç¾ 200 å¤šå¹´çš„å‘å±•å†ç¨‹ï¼Œç”šè‡³åœ¨æŸäº›é¢†åŸŸå·²é¥é¥é¢†å…ˆã€‚</p><p>ç¤¾ä¼šçš„å‘å±•ä¸å¯èƒ½ä¸€è¹´è€Œå°±ï¼Œå¿…ç„¶æ˜¯é—®é¢˜å é—®é¢˜ï¼Œä¸æ–­è§£å†³é—®é¢˜ã€‚æ­£åœ¨å·¥ä½œä¸­åŠªåŠ›æ‹¼æçš„è¿™æ‰¹äººï¼Œèµ¶ä¸Šäº†è®¡åˆ’ç”Ÿè‚²ã€90 å¹´ä»£çš„å›½ä¼ä¸‹å²—ã€99 å¹´çš„å¤§å­¦æ‰©æ‹›ã€08 å¹´çš„æˆ¿ä»·ä¸Šæ¶¨ã€15 å¹´äºŒèƒæ”¿ç­–ï¼Œä»¥åŠä»Šå¹´çš„ä¸‰èƒæ”¿ç­–ã€ä¸­è€ƒåˆ†æµç­‰ã€‚ï¼ˆä¸­è€ƒåˆ†æµå’Œè¿™æ‰¹äººæ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä¸è¿‡ä¼šè·Ÿè¿™æ‰¹äººçš„å­å¥³æœ‰å…³ç³»ã€‚ï¼‰</p><p>èƒ½é‡å®ˆæ’æ˜¯è‡ªç„¶è§„å¾‹ã€‚æƒ³è¦è·å¾—ä¸€äº›ä¸œè¥¿ï¼Œå¿…ç„¶éœ€è¦é€šè¿‡ç­‰ä»·çš„äº‹ç‰©ä½œä¸ºäº¤æ¢ã€‚ç¤¾ä¼šå‘å±•ä¹Ÿè¦éµå¾ªè¿™ä¸ªè§„å¾‹ã€‚</p><p>å»ºå›½åˆæœŸï¼Œç™¾åºŸå¾…å…´ï¼Œéœ€è¦å‘å±•ã€‚å†œä¸šéœ€è¦å†œæ°‘ã€å·¥ä¸šéœ€è¦å·¥äººã€ç§‘ç ”éœ€è¦ç§‘å­¦å®¶ã€ç¤¾ä¼šéœ€è¦å­¦è€…ï¼Œå„è¡Œå„ä¸šéƒ½ç¼ºäººï¼Œäººå¤šåŠ›é‡å¤§ã€‚ï¼ˆä¸æ˜¯è¯´äººå¤šå°±æœ‰ç”¨ï¼Œä½†æ˜¯äººå¤šå‡ºç°æœ‰ç”¨çš„äººæ¦‚ç‡æ›´å¤§ã€‚ï¼‰å› æ­¤ï¼Œäººå£æ•°é‡ç¨³æ­¥æå‡ï¼Œä½†æ˜¯å›½åœŸé¢ç§¯å°±é‚£ä¹ˆå¤§ï¼Œä»»ç”±å‘å±•ï¼Œå°±å¯èƒ½æ¼”å˜æˆâ€œè€é¼ ä¹Œæ‰˜é‚¦â€å®éªŒï¼Œæ‰€ä»¥å¿…é¡»åˆ¹è½¦åˆ¶åŠ¨ï¼Œäºæ˜¯æœ‰äº†è®¡åˆ’ç”Ÿè‚²ã€‚</p><p>åæ¥ï¼Œå¸‚åœºç»æµè°ƒæ§ä¸‹ï¼Œå¤§é”…é¥­ä¸å†èƒ½å¤Ÿä¿éšœå¤§éƒ¨åˆ†äººçš„ç”Ÿæ´»ï¼Œå›½ä¼ç»è¥èƒ½åŠ›èµ¶ä¸ä¸Šç¤¾ä¼šå‘å±•ï¼Œä¸‹å²—æˆä¸ºäº†å¸‚åœºç»æµä¸‹çš„å¿…ç„¶ã€‚ä½†æ˜¯ä¸‹å²—å·¥äººéœ€è¦å†å°±ä¸šã€å†åˆ›ä¸šã€‚ä½†æ˜¯äººå£é«˜é€Ÿå¢é•¿çš„é‚£æ‰¹æ­£åœ¨è¯»é«˜ä¸­çš„å­¦å­é©¬ä¸Šä¹Ÿè¦æ¯•ä¸šï¼Œæ€ä¹ˆåŠï¼Ÿå¤§å­¦æ‰©æ‹›ï¼Œè®©è¿™æ‰¹å³å°†æ¯•ä¸šè¸å…¥ç¤¾ä¼šçš„é«˜ä¸­ç”Ÿï¼Œå¯ä»¥è¿›å…¥å¤§å­¦å†å­¦å‡ å¹´ï¼Œå¤§å­¦æˆä¸ºåˆ†æ‹…å°±ä¸šå‹åŠ›çš„ä¸€ä¸ªæ± å­ã€‚</p><p>äºæ˜¯ï¼Œæœ¬æ¥å¤§éƒ¨åˆ†äººä¸Šä¸äº†å¤§å­¦ï¼Œå˜æˆäº†åŠæ•°äººæœ‰æœºä¼šä¸Šå¤§å­¦ã€‚è¿™æ ·åˆé€ æˆäº†è¯¾å¤–æ•™åŸ¹äº‹ä¸šçš„ç¹è£ï¼ŒåŸæœ¬åªæœ‰é‚£äº› 90 åˆ†ä»¥ä¸Šçš„å­©å­æ‰èƒ½ä¸Šå¤§å­¦ã€‚æ‰©æ‹›ä¹‹åï¼Œ70 åˆ†ä»¥ä¸Šéƒ½å¯ä»¥ï¼Œé‚£ 60 åˆ†çš„å°±æƒ³å¾€ä¸Šæä¸€ä¸‹ï¼Œ70 åˆ†çš„æ€•è¢«æŒ¤ä¸‹æ¥ï¼Œä¹Ÿå‚åŠ è¯¾å¤–æ•™åŸ¹ã€‚å­¦ä¹ ä¸Šçš„å†…å·å¼€å§‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ‰¹æœ‰èººå¹³æƒ³æ³•çš„å¹´è½»äººï¼Œåœ¨å­¦æ ¡è¯»ä¹¦çš„æ—¶å€™å°±è¢«å†…å·è¿‡äº†ã€‚ï¼ˆè¿™åˆæ˜¯å¦å¤–ä¸€ä¸ªè¯é¢˜äº†ï¼Œè¿™é‡Œä¸åšå±•å¼€ã€‚ï¼‰</p><p>ç­‰åˆ°è¿™æ‰¹æ‰©æ‹›çš„å¤§å­¦ç”Ÿæ¯•ä¸šï¼Œæ™®é€šçš„æµæ°´çº¿å·¥å‚è‚¯å®šæ˜¯ä¸ä¼šå»äº†ï¼Œå¿…ç„¶æ˜¯è¦åˆ°å¤§åŸå¸‚ï¼Œè¿›å†™å­—æ¥¼å½“ç™½é¢†ã€‚äºæ˜¯ï¼Œå½“ç™½é¢†çš„äººè¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯èµ„æºå°±é‚£ä¹ˆå¤šï¼Œå½¼æ­¤ç«äº‰ã€‚ç™½é¢†äººå¤šäº†ï¼Œè“é¢†å°±å°‘äº†ï¼Œä¹Ÿé€ æˆäº†å„ç§ç”¨å·¥è’ã€‚</p><p>å¤§åŸå¸‚å› å…¶èµ„æºã€äººæ‰ã€ä¼ä¸šç›¸äº’å½±å“ï¼Œäº§ç”Ÿäººå£èšé›†ã€‚äººå£å¤šäº†ï¼Œç«äº‰å‹åŠ›å¤§ï¼Œæ•™è‚²èµ„æºç´§ç¼ºï¼Œæˆ¿ä»·ä¸Šæ¶¨ï¼Œç§ç§è¿™äº›ï¼Œå‹å¾—è¿™æ‰¹å¹´è½»äººå–˜ä¸å¼€æ°”æ¥ã€‚è¿™äº›å‹åŠ›è½¬å˜åˆ°ç”Ÿè‚²ä¸Šï¼Œå°±é€ æˆå¤§å®¶ä¸æ„¿ç”Ÿä¸æ•¢ç”Ÿã€‚äººå£å¢é•¿ç¼“æ…¢ï¼Œè€é¾„åŒ–åŠ å‰§ï¼Œäºæ˜¯æœ‰äº†åæ¥çš„é¼“åŠ±ç”Ÿè‚²ï¼Œå¼€æ”¾äºŒèƒä¸‰èƒã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œä¼¼ä¹å’Œèººå¹³æ²¡ä»€ä¹ˆç›´æ¥å…³ç³»ã€‚ä»”ç»†æ€è€ƒä¸‹ï¼Œèƒ½å¤Ÿå‘ç°å…¶ä¸­çš„å¿…ç„¶è”ç³»ã€‚</p><p>ç›®å‰ 80ã€90ã€00 è¿™ç¾¤äººï¼Œéƒ½æ˜¯ç»å†è¿‡ç¤¾ä¼šé«˜é€Ÿå‘å±•çš„ã€‚åˆ°ç›®å‰ï¼Œæˆ‘å›½ç»æµæ°´å¹³å·²ç»èµ¶ä¸Šå›½é™…æ°´å¹³ï¼Œè·»èº«å¤§å›½è¡Œåˆ—ã€‚åæœŸå°±è¦æ›´åŠ è‰¯æ€§çš„å‘å±•ï¼Œä¸èƒ½ä»¥ç‰ºç‰²å…¶ä»–æ–¹é¢ä¸ºä»£ä»·çš„å‘å±•ã€‚æ‰€ä»¥ï¼Œç»æµå‘å±•æ”¾ç¼“å¿…ç„¶æ˜¯å¸¸æ€åŒ–ã€‚åŠ ä¸Šæ–°å† ç–«æƒ…çš„å‡ºç°ï¼Œè®©è¿™ç§å¸¸æ€åŒ–æ›´å¿«çš„åˆ°æ¥ã€‚</p><p>æ€»ç»“ä¸‹æ¥ï¼Œé’±æ›´éš¾æŒ£äº†ã€‚æƒ³è¦æŒ£åˆ°ç›¸åŒçš„é’±ï¼Œéœ€è¦æˆ‘ä»¬çš„èƒ½åŠ›æ›´å¼ºï¼Œä»˜å‡ºæ›´å¤šçš„åŠªåŠ›ã€‚å¯¹äºè¿™æ‰¹äººï¼Œè½¦è´·æˆ¿è´·æ•™è‚²è´¹ï¼Œèµ¡å…»è€äººï¼ŒæŠšè‚²å­å¥³ï¼Œå„ç§äº‹æƒ…éƒ½éœ€è¦èŠ±é’±ã€‚é’±å˜å¾—éš¾æŒ£ï¼Œä½†æ˜¯èŠ±é’±å¹¶æ²¡æœ‰å‡å°‘ã€‚</p><p>æ‰€ä»¥ï¼Œæƒ³è¦èººä¼šå„¿æ”¾æ¾æ”¾æ¾ï¼ŒæŠŠå¯èƒ½é€ æˆå‹åŠ›çš„äº‹ç‰©éƒ½æ‘’å¼ƒï¼Œè®©è‡ªå·±å‹åŠ›å°ä¸€äº›ã€‚æ”¾æ¾ä¸‹æ¥ï¼Œä»€ä¹ˆä¹Ÿä¸ç®¡ï¼Œæ— æ¬²æ— æ±‚ï¼Œç®€å•åº¦æ—¥å³å¯ã€‚</p><p>ä½†æ˜¯ï¼Œäººæ¯•ç«Ÿæ˜¯ç¾¤å±…ç”Ÿç‰©ï¼Œæœ‰å…¶ç¤¾ç¾¤å…³è”ã€‚æœ‰çˆ¶æ¯ã€æœ‰å¦»å„¿ï¼Œæˆ‘æœäº²æƒ…è‡³ä¸Šã€‚æ‰€ä»¥ä¸Šè¦å­æ•¬çˆ¶æ¯ï¼Œä¸‹è¦æŠšè‚²å­å¥³ï¼Œä¸­é—´è¦ä¸ä¼´ä¾£äº’ç›¸æ‰¶æŒã€‚ä¸€æ—¶çš„æ”¾æ¾å¯ä»¥ï¼Œä½†æ˜¯ä¸èƒ½ä¸€ç›´æ¾ä¸‹å»ã€‚ä¸€æ—¶çš„æ”¾æ¾æ˜¯åŠ³é€¸ç»“åˆï¼Œä¸€ä¸–çš„æ”¾æ¾å°±æ˜¯çƒ‚æ³¥æ‰¶ä¸ä¸Šå¢™äº†ã€‚</p><p>æ¨èçœ‹çœ‹å‘¨è‘£ã€Šç¨»é¦™ã€‹çš„ MVï¼Œå¯ä»¥å­¦å­¦ç”·ä¸»äººå…¬ï¼Œå½“å·¥ä½œç´¯äº†ï¼Œå¯ä»¥å›ä¹¡ä¸‹è€å®¶ï¼Œä½“éªŒä¸€ä¸‹æ…¢ç”Ÿæ´»ï¼Œç»™è‡ªå·±å……å……ç”µã€‚é‡Šæ”¾äº†å‹åŠ›ï¼Œæ‰èƒ½è½»è£…å‰è¡Œã€‚</p><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/relax-and-run/">æƒ³èººå¹³ä¸æ˜¯é”™</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/118686355" target="_blank" rel="noopener">æƒ³èººå¹³ä¸æ˜¯é”™</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      ä»Šå¤©èŠèŠè¿™æ®µæ—¶é—´æ¯”è¾ƒç«çš„ä¸€ä¸ªç½‘ç»œè¯ï¼šèººå¹³ã€‚
    
    </summary>
    
    
      <category term="é—²èŠ" scheme="https://www.howardliu.cn/categories/%E9%97%B2%E8%81%8A/"/>
    
    
      <category term="é—²èŠ" scheme="https://www.howardliu.cn/tags/%E9%97%B2%E8%81%8A/"/>
    
      <category term="èººå¹³" scheme="https://www.howardliu.cn/tags/%E8%BA%BA%E5%B9%B3/"/>
    
  </entry>
  
  <entry>
    <title>çœ‹å±±èŠ Javaï¼šä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</title>
    <link href="https://www.howardliu.cn/java-date-time-migrating-to-jsr310/"/>
    <id>https://www.howardliu.cn/java-date-time-migrating-to-jsr310/</id>
    <published>2021-06-30T15:02:17.000Z</published>
    <updated>2021-06-30T15:02:17.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/chestnut-heath-6370080_1920.jpg" alt="çœ‹å±±èŠ Javaï¼šä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/erik_karits-15012370/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6370080" target="_blank" rel="noopener">Erik Karits</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6370080" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>å‰é¢èŠäº†èŠ Java8 æ–°ç‰ˆæ—¶é—´ API çš„ç±»ï¼Œç„¶ååˆè¯´äº†è¯´æ€ä¹ˆä¸æ—§ç‰ˆæ—¶é—´ API çš„è½¬æ¢ï¼Œä»Šå¤©æ¥èŠèŠæ€æ ·é€šè¿‡æ–° API å®ç°è€ API çš„åŠŸèƒ½ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€æ­¥æ›¿æ¢æ‰æ—§ç‰ˆ APIï¼Œä¸æ—¶ä¿±è¿›ã€‚</p><a id="more"></a><p>Java8 ä¹‹å‰ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ—¶é—´ç±»æœ‰<code>java.util.date</code>ã€<code>java.util.Calendar</code>å’Œ<code>java.util.Timezone</code>ã€‚è¿˜ä¼šæœ‰ä¸€äº›ä¸é‚£ä¹ˆå¸¸ç”¨çš„ï¼Œ<code>java.sql.Date</code>ã€<code>java.sql.TimeStamp</code>ã€‚</p><p>è¿™äº›ç±»å¯ä»¥å®ç°ä¸€äº›ç®€å•çš„åŠŸèƒ½ï¼Œä½†æ˜¯è¦å®ç°å¤æ‚çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åªèƒ½è‡ªå·±å®ç°å¾ˆå¤šå·¥å…·ç±»ï¼Œæˆ–è€…å€ŸåŠ©ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œå…¶ä¸­æ¯”è¾ƒè‘—åçš„ç¬¬ä¸‰æ–¹åº“æ˜¯ joda-timeï¼Œåæ¥ Java8 å¸æ”¶å…¶è®¾è®¡ï¼Œç›´æ¥è®© joda-time è½¬æ­£äº†ã€‚</p><blockquote><p>å› ä¸ºè¿™ä¸ªç³»åˆ—è¯´çš„éƒ½æ˜¯æ—¶é—´åº“ï¼Œåæ–‡æ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼Œä½¿ç”¨â€œæ–°ç‰ˆ APIâ€æŒ‡ä»£<code>JSR 310</code>æä¾›çš„æ—¶é—´ APIï¼Œä½¿ç”¨â€œæ—§ç‰ˆ APIâ€æŒ‡ä»£ Java 8 ä¹‹å‰æä¾›çš„å®˜æ–¹æ—¶é—´ APIã€‚</p></blockquote><h2 id="æ–°ç‰ˆ-API-çš„ä¼˜åŠ¿"><a href="#æ–°ç‰ˆ-API-çš„ä¼˜åŠ¿" class="headerlink" title="æ–°ç‰ˆ API çš„ä¼˜åŠ¿"></a>æ–°ç‰ˆ API çš„ä¼˜åŠ¿</h2><p>æ–°ç‰ˆ API çš„ä¼˜åŠ¿ï¼Œå¯¹åº”çš„å°±æ˜¯æ—§ç‰ˆ API çš„åŠ£åŠ¿ã€‚</p><h3 id="è¯­ä¹‰æ˜ç¡®"><a href="#è¯­ä¹‰æ˜ç¡®" class="headerlink" title="è¯­ä¹‰æ˜ç¡®"></a>è¯­ä¹‰æ˜ç¡®</h3><p>è¿™ç‚¹éå¸¸é‡è¦ã€‚</p><p>æˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªå®ä½“çš„æ—¶å€™ï¼Œèƒ½å¤Ÿåšåˆ°è¯­ä¹‰æ˜ç¡®æ²¡æœ‰æ­§ä¹‰éå¸¸é‡è¦ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å‡ºç”Ÿæ—¥æœŸï¼Œåªéœ€è¦å¹´æœˆæ—¥ï¼Œåœ¨ä»¥å‰åªèƒ½ç”¨<code>java.util.Date</code>ï¼Œä½†æ˜¯è¿™ä¸ªç±»åŒ…å«æ—¶åˆ†ç§’ã€‚</p><p>æˆ–è€…ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ç”Ÿæ—¥ï¼Œæ­£å¸¸åªéœ€è¦æœˆæ—¥å°±è¡Œï¼Œè¿å¹´éƒ½ä¸éœ€è¦ï¼Œ<code>java.util.Date</code>æ›´åŠ åšä¸åˆ°ã€‚</p><p>åœ¨è¿™äº›åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡æ³¨é‡Šæˆ–è€…å±æ€§ååšä¸€äº›æ¾æ•£çº¦æŸï¼Œå¾ˆå®¹æ˜“å‡ºé”™ã€‚</p><p>ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œäººæ˜¯ä¸å¯é çš„ï¼Œçº¦å®šæ˜¯ä¸å¯é çš„ï¼Œåªè¦æœ‰çŠ¯é”™çš„å¯èƒ½ï¼Œå°±ä¸€å®šä¼šçŠ¯é”™ã€‚</p><p>æ–°ç‰ˆ API å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæä¾›å…·æœ‰ä¸åŒè¯­ä¹‰ä¸”è¯­ä¹‰æ˜ç¡®çš„ç±»ã€‚å¦‚æœæƒ³è¡¨ç¤ºæ—¥æœŸå¯ä»¥ç”¨<code>LocalDate</code>ï¼Œå¦‚æœæƒ³è¡¨ç¤ºç”Ÿæ—¥ï¼Œå¯ä»¥ç”¨<code>MonthDay</code>ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿå€ŸåŠ©ç¼–è¯‘å™¨å¢å¼ºçº¦æŸåŠ›ã€‚</p><h3 id="ç¬¦åˆè‡ªç„¶è§„å¾‹"><a href="#ç¬¦åˆè‡ªç„¶è§„å¾‹" class="headerlink" title="ç¬¦åˆè‡ªç„¶è§„å¾‹"></a>ç¬¦åˆè‡ªç„¶è§„å¾‹</h3><p>æˆ‘ä»¬æ¥é€šè¿‡ä¸€æ®µä»£ç æ„Ÿå—ä¸‹ï¼ˆæµ‹è¯•æ—¥æœŸæ˜¯ 2021 å¹´ 6 æœˆ 28 æ—¥ï¼‰ï¼Œæ‰§è¡Œç»“æœæ”¾åœ¨æ¯è¡Œç»“å°¾å¤„ï¼š</p><pre><code class="java">Date date = new Date();System.out.println(date);// Mon Jun 28 21:41:25 CST 2021System.out.println(date.getYear());// 121System.out.println(date.getMonth());// 5System.out.println(date.getDay());// 1Calendar calendar = Calendar.getInstance();calendar.setTime(date);System.out.println(calendar.get(Calendar.YEAR));// 2021System.out.println(calendar.get(Calendar.MONTH));// 5System.out.println(calendar.get(Calendar.DAY_OF_MONTH));// 28LocalDate localDate = LocalDate.now();System.out.println(localDate.getYear());// 2021System.out.println(localDate.getMonth());// JUNESystem.out.println(localDate.getDayOfMonth());// 28</code></pre><p>ä»…ä»…ä¸€ä¸ªå¹´æœˆæ—¥çš„è·å–ï¼Œæ—§ç‰ˆ API å·²ç»æ˜¯å­˜åœ¨å„ç§å«ä¹‰ã€‚</p><p><code>java.util.Date#getYear</code>è¡¨ç¤ºçš„æ˜¯å½“å‰å¹´ä»½å‡å» 1900ï¼›<code>java.util.Date#getDay</code>è¿”å›çš„æ˜¯å½“å‰æ˜¯ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ã€‚å½“ç„¶ï¼Œè¿™å‡ ä¸ª API åœ¨ JDK1.1 çš„æ—¶å€™å·²ç»æ ‡è®°åºŸå¼ƒäº†ï¼Œä½†æ˜¯çŸ¥é“ç°åœ¨ä¹Ÿæ²¡æœ‰åˆ é™¤ã€‚ç›¸ä¿¡å¾ˆå¤šåˆæ¬¡ä½¿ç”¨æ—§ç‰ˆ API çš„åŒå­¦ï¼Œéƒ½å¯èƒ½è¸©è¿‡å‘ã€‚</p><p>æ›´ç”šçš„æ˜¯ï¼Œ<code>java.util.Date</code>å’Œ<code>java.util.Calendar</code>çš„è¿”å›çš„æœˆä»½ï¼Œéƒ½æ˜¯ä» 0 å¼€å§‹è®¡æ•°çš„ã€‚ä½†æ˜¯å¹´å’Œæ—¥æ˜¯ä» 1 å¼€å§‹è®¡æ•°ï¼Œå®åœ¨æ²¡æœ‰ææ‡‚å½“æ—¶å¼€å‘äººå‘˜çš„è„‘å›è·¯æ˜¯æ€æ ·çš„ã€‚</p><p>å†çœ‹æ–°ç‰ˆ APIï¼Œå®Œå…¨ç¬¦åˆæˆ‘ä»¬çš„è®¤çŸ¥ï¼šå¹´æ˜¯è‡ªç„¶å¹´ï¼Œæœˆä½¿ç”¨<code>Month</code>æšä¸¾ï¼ˆæšä¸¾çš„ value å€¼æ˜¯è‡ªç„¶æœˆï¼‰ï¼Œæ—¥æ˜¯è‡ªç„¶æ—¥ï¼Œä¸€åˆ‡éƒ½æ˜¯æ ¹æ®æˆ‘ä»¬å¯¹è‡ªç„¶è§„å¾‹çš„ç†è§£ã€‚</p><p>è€Œä¸”ï¼Œæ–°ç‰ˆ API å¾ˆè´´å¿ƒçš„è€ƒè™‘äº†å¤ä»¤æ—¶ï¼Œåœ¨ä½¿ç”¨<code>ZonedDateTime</code>è¿›è¡Œä¸åŒåŒºåŸŸæ—¶é—´è½¬æ¢æ—¶ï¼Œä¼šè‡ªåŠ¨è®¡ç®—ã€‚å¯ä»¥è¯´ï¼Œå…³äºæ—¶é—´çš„é€»è¾‘ï¼Œæ–°ç‰ˆ API å·²ç»éƒ½åŒ…å«äº†ã€‚</p><h3 id="åŠŸèƒ½å®Œå–„"><a href="#åŠŸèƒ½å®Œå–„" class="headerlink" title="åŠŸèƒ½å®Œå–„"></a>åŠŸèƒ½å®Œå–„</h3><p>æ—§ç‰ˆ API æä¾›çš„æ—¶é—´ç±»ï¼Œåªèƒ½å®ç°ä¸€äº›ç®€å•çš„é€»è¾‘ï¼Œæƒ³è¦åšä¸€äº›å¤æ‚çš„æ“ä½œï¼Œå°±éœ€è¦è‡ªå·±å®ç°ã€‚æ–°ç‰ˆ API æä¾›äº†çµæ´»çš„æ—¶é—´åŠŸèƒ½ APIã€‚</p><ul><li><code>Instant</code>ï¼šè¡¨ç¤ºæ—¶é—´æˆ³ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ—¶é—´ç‚¹ã€‚</li><li><code>LocalDate</code>ï¼šè¡¨ç¤ºæ—¥æœŸï¼Œå¹´ã€æœˆã€æ—¥</li><li><code>LocalTime</code>ï¼šè¡¨ç¤ºæ—¶é—´ï¼Œæ—¶ã€åˆ†ã€ç§’ã€çº³ç§’</li><li><code>LocalDateTime</code>ï¼šè¡¨ç¤ºæ—¥æœŸ+æ—¶é—´ï¼Œå†…éƒ¨ä¹Ÿæ˜¯é€šè¿‡<code>LocalDate</code>å’Œ<code>LocalTime</code>å­˜å‚¨æ•°æ®çš„</li><li><code>OffsetDateTime</code>ï¼šå¸¦æœ‰æ—¶é—´åç§»çš„<code>LocalDateTime</code></li><li><code>OffsetTime</code>ï¼šå¸¦æœ‰æ—¶é—´åç§»çš„<code>LocalTime</code></li><li><code>ZonedDateTime</code>ï¼šæ¯”<code>OffsetDateTime</code>å¤šäº†æ—¶åŒºï¼Œä¹Ÿå°±æ˜¯å¸¦æœ‰æ—¶åŒºã€å¸¦æœ‰æ—¶é—´åç§»çš„<code>LocalDateTime</code></li><li><code>MonthDay</code>ï¼šè¡¨ç¤ºæœˆã€æ—¥ï¼Œä¸åŒ…å«å¹´å’Œæ—¶é—´</li><li><code>YearMonth</code>ï¼šè¡¨ç¤ºå¹´ã€æœˆï¼Œä¸åŒ…å«æ—¥å’Œæ—¶é—´</li><li><code>Duration</code>ï¼šè¡¨ç¤ºçº³ç§’ã€ç§’çš„æ—¶é—´é‡ï¼Œå¯ä»¥åº¦é‡å¤©ã€å°æ—¶ã€åˆ†ã€ç§’ã€æ¯«ç§’ã€çº³ç§’ã€‚</li><li><code>Period</code>ï¼šè¡¨ç¤ºå¹´ã€æœˆã€æ—¥çš„æ—¶é—´é‡ï¼Œå¯ä»¥åº¦é‡å¹´ã€æœˆã€æ—¥ã€å‘¨ã€‚</li></ul><p>æœ‰äº†ä¸Šé¢è¿™äº›ç±»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ“ä½œæ—¶é—´æ—¶æ¨ªç€èµ°äº†ã€‚</p><h3 id="ä¸å¯å˜ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰"><a href="#ä¸å¯å˜ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰" class="headerlink" title="ä¸å¯å˜ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰"></a>ä¸å¯å˜ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</h3><p>ä¸Šé¢æåˆ°çš„è¿™äº›ç±»ä¸­ï¼Œéƒ½æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œè¿™äº›ç±»çš„æˆå‘˜å˜é‡éƒ½ä½¿ç”¨<code>final</code>ä¿®é¥°ï¼Œæ‰€æœ‰éœ€è¦ä¿®æ”¹æ•°æ®çš„æ–¹æ³•ï¼Œéƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°å®ä¾‹ã€‚æ–°ç‰ˆ API é€šè¿‡è¿™ç§æ–¹å¼å®ç°äº†æ—¶é—´ç±»çš„ä¸å¯å˜æ€§ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œé‚£å®ƒå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>æ—§ç‰ˆ API çš„åˆ™ä¸æ˜¯è¿™æ ·ï¼Œæ•°æ®å¯å˜ä¸”å¯¹å¹¶å‘æ•æ„Ÿã€‚å½“ç„¶ï¼Œè¿™åªèƒ½ç®—æ˜¯è®¾è®¡åˆè¡·ä¸åŒã€‚</p><p>æ–°ç‰ˆ API è¡¨ç¤ºæ—¶é—´çš„ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥å¯¹æ—¶é—´æ ¼å¼åŒ–çš„<code>DateTimeFormatter</code>ä¹Ÿæ˜¯æ—¶é—´å®‰å…¨çš„ã€‚</p><p>æ—§ç‰ˆçš„<code>SimpleDateFormat</code>ä¹Ÿæ˜¯ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä½†å´ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™ç‚¹å°±ä¸æ˜¯è®¾è®¡åˆè¡·ä¸åŒäº†ï¼Œè€Œæ˜¯ç¼ºå°‘è®¾è®¡ã€‚ç›¸ä¿¡å¾ˆå¤šæ²¡æœ‰è¢«è¿™ä¸ªç±»æ¯’æ‰“è¿‡çš„å°ç™½ï¼Œä¼šå®šä¹‰ä¸€äº›å·¥å…·ç±»ï¼Œé‡Œé¢æ˜¯<code>static</code>å®šä¹‰çš„<code>SimpleDateFormat</code>ï¼Œç„¶åå¯¹æ—¶é—´è¿›è¡Œæ ¼å¼åŒ–ï¼Œæµ‹è¯•çš„æ—¶å€™æ²¡æœ‰ä¸€ç‚¹é—®é¢˜ï¼Œæ”¾åœ¨çº¿ä¸Šå°±å‡ºç°å„ç§è¯¡å¼‚é”™è¯¯ã€‚</p><h2 id="å¼€å¯å¾ç¨‹"><a href="#å¼€å¯å¾ç¨‹" class="headerlink" title="å¼€å¯å¾ç¨‹"></a>å¼€å¯å¾ç¨‹</h2><p>æˆ‘ä»¬é€šè¿‡ä¸€äº›å¸¸ç”¨åœºæ™¯ï¼Œå±•ç¤ºæ–°æ—§ç‰ˆæœ¬ API çš„å®ç°æ–¹å¼ã€‚</p><h3 id="è·å–å½“å‰æ—¶é—´"><a href="#è·å–å½“å‰æ—¶é—´" class="headerlink" title="è·å–å½“å‰æ—¶é—´"></a>è·å–å½“å‰æ—¶é—´</h3><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">Date now = new Date();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">// æ²¡æœ‰åç§»ã€æ²¡æœ‰æ—¶åŒºæ¦‚å¿µçš„å½“å‰æ—¶é—´LocalDateTime now = LocalDateTime.now();// æœ‰åç§»å’Œæ—¶åŒºçš„å½“å‰æ—¶é—´ZonedDateTime now2 = ZonedDateTime.now();</code></pre><h3 id="æŒ‡å®šæ—¥æœŸ"><a href="#æŒ‡å®šæ—¥æœŸ" class="headerlink" title="æŒ‡å®šæ—¥æœŸ"></a>æŒ‡å®šæ—¥æœŸ</h3><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">Date birthday = new GregorianCalendar(1988, Calendar.AUGUST, 20).getTime();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">LocalDate birthday = LocalDate.of(1988, Month.AUGUST, 20);LocalDate birthday2 = LocalDate.of(1988, 8, 20);</code></pre><h3 id="è·å–æŒ‡å®šé‡"><a href="#è·å–æŒ‡å®šé‡" class="headerlink" title="è·å–æŒ‡å®šé‡"></a>è·å–æŒ‡å®šé‡</h3><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">int month = new GregorianCalendar().get(Calendar.MONTH);</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">Month month = LocalDateTime.now().getMonth();</code></pre><h3 id="è°ƒæ•´æ—¶é—´"><a href="#è°ƒæ•´æ—¶é—´" class="headerlink" title="è°ƒæ•´æ—¶é—´"></a>è°ƒæ•´æ—¶é—´</h3><p>æ¯”å¦‚ï¼Œè·å–å½“å‰ä¹‹é—´ 5 å°æ—¶å‰çš„æ—¶é—´ã€‚</p><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">GregorianCalendar calendar = new GregorianCalendar();calendar.add(Calendar.HOUR_OF_DAY, -5);Date fiveHoursBefore = calendar.getTime();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">LocalDateTime fiveHoursBefore = LocalDateTime.now().minusHours(5);</code></pre><h3 id="è°ƒæ•´æŒ‡å®šæ—¶é—´é‡"><a href="#è°ƒæ•´æŒ‡å®šæ—¶é—´é‡" class="headerlink" title="è°ƒæ•´æŒ‡å®šæ—¶é—´é‡"></a>è°ƒæ•´æŒ‡å®šæ—¶é—´é‡</h3><p>æ¯”å¦‚ï¼Œå°†æ—¶é—´è°ƒæ•´åˆ° 6 æœˆã€‚</p><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">GregorianCalendar calendar = new GregorianCalendar();calendar.set(Calendar.MONTH, Calendar.JUNE);Date inJune = calendar.getTime();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">LocalDateTime inJune = LocalDateTime.now().withMonth(Month.JUNE.getValue());</code></pre><h3 id="æˆªæ–­æ—¶é—´é‡"><a href="#æˆªæ–­æ—¶é—´é‡" class="headerlink" title="æˆªæ–­æ—¶é—´é‡"></a>æˆªæ–­æ—¶é—´é‡</h3><p>æˆ‘ä»¬æœ‰æ—¶å€™ä¼šå°†æ—¶é—´å¯¹è±¡æŸä¸ªå•ä½åé¢çš„æ‰€æœ‰æ—¶é—´é‡è®¾ç½®ä¸º 0ï¼Œè¿™ä¸ªæ“ä½œå½¢è±¡çš„ç§°ä¸ºæˆªæ–­ã€‚æ¯”å¦‚ï¼Œå°†åˆ†ã€ç§’ã€æ¯«ç§’è®¾ç½®ä¸ºé›¶ã€‚</p><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">Calendar now = Calendar.getInstance();now.set(Calendar.MINUTE, 0);now.set(Calendar.SECOND, 0);now.set(Calendar.MILLISECOND, 0);Date truncated = now.getTime();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">LocalTime truncated = LocalTime.now().truncatedTo(ChronoUnit.HOURS);</code></pre><h3 id="æ—¶åŒºè½¬æ¢"><a href="#æ—¶åŒºè½¬æ¢" class="headerlink" title="æ—¶åŒºè½¬æ¢"></a>æ—¶åŒºè½¬æ¢</h3><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">GregorianCalendar calendar = new GregorianCalendar();calendar.setTimeZone(TimeZone.getTimeZone(&quot;CET&quot;));Date centralEastern = calendar.getTime();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">ZonedDateTime centralEastern = LocalDateTime.now().atZone(ZoneId.of(&quot;CET&quot;));</code></pre><h3 id="è®¡ç®—æ—¶é—´è·¨åº¦"><a href="#è®¡ç®—æ—¶é—´è·¨åº¦" class="headerlink" title="è®¡ç®—æ—¶é—´è·¨åº¦"></a>è®¡ç®—æ—¶é—´è·¨åº¦</h3><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">GregorianCalendar calendar = new GregorianCalendar();Date now = new Date();calendar.add(Calendar.HOUR, 1);Date hourLater = calendar.getTime();long elapsed = hourLater.getTime() - now.getTime();</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">LocalDateTime now = LocalDateTime.now();LocalDateTime hourLater = LocalDateTime.now().plusHours(1);Duration span = Duration.between(now, hourLater);</code></pre><p><code>Duration</code>æ˜¯è·¨åº¦è¾ƒå°ï¼Œå¯ä»¥åº¦é‡å¤©ã€å°æ—¶ã€åˆ†ã€ç§’ã€æ¯«ç§’ã€çº³ç§’ã€‚å¦‚æœè·¨åº¦è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨<code>Period</code>ï¼Œå¯ä»¥åº¦é‡å¹´ã€æœˆã€æ—¥ã€å‘¨ã€‚</p><h3 id="æ—¶é—´æ ¼å¼åŒ–å’Œè§£æ"><a href="#æ—¶é—´æ ¼å¼åŒ–å’Œè§£æ" class="headerlink" title="æ—¶é—´æ ¼å¼åŒ–å’Œè§£æ"></a>æ—¶é—´æ ¼å¼åŒ–å’Œè§£æ</h3><p>æ–°ç‰ˆ API ä½¿ç”¨<code>DateTimeFormatter</code>ï¼Œè¿™ä¸ªç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è€Œä¸”ç›¸è¾ƒäº<code>SimpleDateFormat</code>æä¾›äº†å¾ˆå¤šé¢å¤–çš„åŠŸèƒ½ã€‚</p><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);Date now = new Date();String formattedDate = dateFormat.format(now);Date parsedDate = dateFormat.parse(formattedDate);</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);LocalDate now = LocalDate.now();String formattedDate = now.format(formatter);LocalDate parsedDate = LocalDate.parse(formattedDate, formatter);</code></pre><h3 id="å…¶ä»–ä¸€äº›å°åŠŸèƒ½"><a href="#å…¶ä»–ä¸€äº›å°åŠŸèƒ½" class="headerlink" title="å…¶ä»–ä¸€äº›å°åŠŸèƒ½"></a>å…¶ä»–ä¸€äº›å°åŠŸèƒ½</h3><p>æ¯”å¦‚ï¼Œè®¡ç®—ä¸€ä¸ªæœˆæœ‰å‡ å¤©ï¼š</p><p>æ—§ç‰ˆ APIï¼š</p><pre><code class="java">Calendar calendar = new GregorianCalendar(1990, Calendar.FEBRUARY, 20);int daysInMonth = calendar.getActualMaximum(Calendar.DAY_OF_MONTH);</code></pre><p>æ–°ç‰ˆ APIï¼š</p><pre><code class="java">int daysInMonth = YearMonth.of(1990, 2).lengthOfMonth();</code></pre><h2 id="æ–°æ—§ç‰ˆ-API-çš„è½¬æ¢"><a href="#æ–°æ—§ç‰ˆ-API-çš„è½¬æ¢" class="headerlink" title="æ–°æ—§ç‰ˆ API çš„è½¬æ¢"></a>æ–°æ—§ç‰ˆ API çš„è½¬æ¢</h2><p>æ–°ç‰ˆ API è™½ç„¶å¥½ç”¨ï¼Œä½†æ˜¯ç½—é©¬ä¸æ˜¯ä¸€å¤©å»ºæˆçš„ã€‚æ—§ç‰ˆ API ä¸ä¼šä¸€å¤œæ¶ˆå¤±ï¼Œå¯èƒ½éœ€è¦å…±ç”¨ã€‚Java 8 æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œç”¨æ¥åœ¨æ–°æ—§ç‰ˆæœ¬ API ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚æ¯”å¦‚ï¼š</p><pre><code class="java">// ä» Calendar è½¬æ¢ InstantInstant instantFromCalendar = GregorianCalendar.getInstance().toInstant();// ä» Calendar è½¬æ¢ ZonedDateTimeZonedDateTime zonedDateTimeFromCalendar = new GregorianCalendar().toZonedDateTime();// ä» Instant è½¬æ¢ DateDate dateFromInstant = Date.from(Instant.now());// ä» ZonedDateTime è½¬æ¢ CalendarGregorianCalendar calendarFromZonedDateTime = GregorianCalendar.from(ZonedDateTime.now());// ä» Date è½¬æ¢ InstantInstant instantFromDate = new Date().toInstant();// ä» TimeZone è½¬æ¢ ZoneIdZoneId zoneIdFromTimeZone = TimeZone.getTimeZone(&quot;PST&quot;).toZoneId();</code></pre><p>æ›´å¤šçš„å†…å®¹å¯ä»¥çœ‹çœ‹è¯¥ç³»åˆ—çš„å¦ä¸€ç¯‡ï¼š<a href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/">Java8 çš„æ—¶é—´åº“ï¼ˆ2ï¼‰ï¼šDate ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a>ã€‚</p><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†æ—§ç‰ˆ API çš„ç¼ºç‚¹ã€æ–°ç‰ˆ API çš„ä¼˜ç‚¹ã€‚æ–°ç‰ˆ API æä¾›äº†å¾ˆå¤šå‹å¥½çš„æ–¹æ³•ï¼Œè€Œä¸”ä¸åŒç±»ä¹‹é—´æ“ä½œå‡ ä¹ä¸€è‡´ï¼Œæ‰€ä»¥å¾ˆå¤šä¾‹å­è™½ç„¶åªæ˜¯è¯´äº†ä¸€ä¸ªç±»çš„ä½¿ç”¨ï¼Œä½†æ˜¯å…¶ä»–ç±»ä¹Ÿå¯ä»¥é‡‡ç”¨ç›¸ä¼¼æ–¹å¼å®ç°ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ol><li><a href="https://www.howardliu.cn/java-date-and-time-intro/">Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a></li><li><a href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/">Date ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a></li><li><a href="https://www.howardliu.cn/java-date-time-migrating-to-jsr310/">ä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</a></li><li><a href="https://www.howardliu.cn/java-date-string-valid-date/">æ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</a></li></ol><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å…³æ³¨å…¬ä¼—å·ï¼š<a href="http://static.howardliu.cn/about/kanshanshuo.png" target="_blank" rel="noopener">çœ‹å±±çš„å°å±‹</a>ï¼Œé¢†å–å­¦ä¹ èµ„æ–™ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/java-date-time-migrating-to-jsr310/">çœ‹å±±èŠ Javaï¼šä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</a><br>CSDN ä¸»é¡µï¼š<a href="https://kanshan.blog.csdn.net/" target="_blank" rel="noopener">https://kanshan.blog.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.blog.csdn.net/article/details/103794938" target="_blank" rel="noopener">çœ‹å±±èŠ Javaï¼šä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      å‰é¢èŠäº†èŠ Java8 æ–°ç‰ˆæ—¶é—´ API çš„ç±»ï¼Œç„¶ååˆè¯´äº†è¯´æ€ä¹ˆä¸æ—§ç‰ˆæ—¶é—´ API çš„è½¬æ¢ï¼Œä»Šå¤©æ¥èŠèŠæ€æ ·é€šè¿‡æ–° API å®ç°è€ API çš„åŠŸèƒ½ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€æ­¥æ›¿æ¢æ‰æ—§ç‰ˆ APIï¼Œä¸æ—¶ä¿±è¿›ã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="java" scheme="https://www.howardliu.cn/tags/java/"/>
    
      <category term="Date" scheme="https://www.howardliu.cn/tags/Date/"/>
    
      <category term="Time" scheme="https://www.howardliu.cn/tags/Time/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆç¬¬äºŒç¯‡ï¼‰</title>
    <link href="https://www.howardliu.cn/arraylist-is-not-thread-safe-2/"/>
    <id>https://www.howardliu.cn/arraylist-is-not-thread-safe-2/</id>
    <published>2021-06-29T15:18:18.000Z</published>
    <updated>2021-06-29T15:18:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/home-studios-5249651_1920.jpg" alt="å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆç¬¬äºŒç¯‡ï¼‰"></p><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>å‰é¢å†™è¿‡ä¸€ç¯‡æ–‡ç«  <a href="https://howardliu.cn/arraylist-is-not-thread-safe/" target="_blank" rel="noopener">ã€Šå¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿã€‹</a>ï¼Œæœ‰è¯»è€…åé¦ˆï¼ŒJava 11 ä»£ç å·²ç»ä¿®å¤ï¼Œè¿˜ä¼šå‡ºç° null å…ƒç´ ã€‚</p><p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œå½“æ—¶åªæ˜¯é€šè¿‡ä»£ç æ‰§è¡Œé¡ºåºè¯´æ˜äº†å¼‚å¸¸åŸå› ã€‚å…¶å®å¤šçº¿ç¨‹ä¸­è¿˜ä¼šæ¶‰åŠ Java å†…å­˜æ¨¡å‹ï¼Œæœ¬æ–‡å°±ä»è¿™æ–¹é¢è¯´æ˜ä¸€ä¸‹ã€‚</p><a id="more"></a><h2 id="å¯¹æ¯”æºç "><a href="#å¯¹æ¯”æºç " class="headerlink" title="å¯¹æ¯”æºç "></a>å¯¹æ¯”æºç </h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Java 11 ä¸­ï¼Œ<code>add</code>æ–¹æ³•åšäº†ä»€ä¹ˆè°ƒæ•´ã€‚</p><p>Java 8 ä¸­<code>add</code>æ–¹æ³•çš„å®ç°ï¼š</p><pre><code class="java">public boolean add(E e) {    ensureCapacityInternal(size + 1);    elementData[size++] = e;    return true;}</code></pre><p>Java 11 ä¸­<code>add</code>æ–¹æ³•çš„å®ç°ï¼š</p><pre><code class="java">public boolean add(E e) {    modCount++;    add(e, elementData, size);    return true;}private void add(E e, Object[] elementData, int s) {    if (s == elementData.length)        elementData = grow();    elementData[s] = e;    size = s + 1;}</code></pre><p>ä¸¤æ®µé€»è¾‘çš„å·®å¼‚åœ¨äºæ•°ç»„ä¸‹æ ‡æ˜¯å¦ç¡®å®šï¼š</p><ul><li><code>elementData[size++] = e;</code>ï¼ŒJava 8 ä¸­ç›´æ¥ä½¿ç”¨<code>size</code>å®šä½å¹¶èµ‹å€¼ï¼Œç„¶åé€šè¿‡<code>size++</code>è‡ªå¢</li><li><code>elementData[s] = e; size = s + 1;</code>ï¼ŒJava 11 å€ŸåŠ©ä¸´æ—¶å˜é‡<code>s</code>å®šä½å¹¶èµ‹å€¼ï¼Œç„¶åé€šè¿‡<code>size = s + 1</code>ç»™<code>size</code>èµ‹æ–°å€¼</li></ul><p>Java 11 çš„ä¼˜ç‚¹åœ¨äºï¼Œä¸ºæ•°ç»„æŒ‡å®šå…ƒç´ èµ‹å€¼çš„æ—¶å€™ï¼Œä¸‹æ ‡å€¼æ˜¯ç¡®å®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è¿›å…¥<code>add(E e, Object[] elementData, int s)</code>æ–¹æ³•ä¸­ï¼Œå°±åªä¼šå¤„ç†æŒ‡å®šä½ç½®çš„æ•°ç»„å…ƒç´ ã€‚å¹¶ä¸”ï¼Œ<code>size</code>çš„å€¼ä¹Ÿæ˜¯æ ¹æ®<code>s</code>å¢åŠ ã€‚æŒ‰ç…§æ‰§è¡Œé¡ºåºæ¨æ–­ï¼Œæœ€ç»ˆçš„ç»“æœå¯èƒ½ä¼šä¸¢æ•°ï¼Œä½†æ˜¯ä¸ä¼šå‡ºç° nullã€‚ï¼ˆå¤šä¸ªçº¿ç¨‹å‘åŒä¸€ä¸ªä¸‹æ ‡èµ‹å€¼ï¼Œå³<code>s</code>ç›¸ç­‰ï¼Œé‚£æœ€ç»ˆ<code>size</code>ä¹Ÿç›¸ç­‰ã€‚ï¼‰</p><h2 id="éªŒè¯ä¸€ä¸‹"><a href="#éªŒè¯ä¸€ä¸‹" class="headerlink" title="éªŒè¯ä¸€ä¸‹"></a>éªŒè¯ä¸€ä¸‹</h2><p>è®©æˆ‘ä»¬æ¥éªŒè¯ä¸‹ã€‚</p><pre><code class="java">package com.kuaishou.is.datamart;import java.util.ArrayList;import java.util.List;import java.util.concurrent.CountDownLatch;public class Main {    public static void main(String[] args) throws InterruptedException {        List&lt;String&gt; list = new ArrayList&lt;&gt;();        CountDownLatch latch = new CountDownLatch(1);        CountDownLatch waiting = new CountDownLatch(3);        Thread t1 = new Thread(() -&gt; {            try {                latch.await();                for (int i = 0; i &lt; 1000; i++) {                    list.add(&quot;1&quot;);                }            } catch (InterruptedException e) {                e.printStackTrace();            } finally {                waiting.countDown();            }        });        Thread t2 = new Thread(() -&gt; {            try {                latch.await();                for (int i = 0; i &lt; 1000; i++) {                    list.add(&quot;2&quot;);                }            } catch (InterruptedException e) {                e.printStackTrace();            } finally {                waiting.countDown();            }        });        Thread t2 = new Thread(() -&gt; {            try {                latch.await();                for (int i = 0; i &lt; 1000; i++) {                    list.add(&quot;2&quot;);                }            } catch (InterruptedException e) {                e.printStackTrace();            } finally {                waiting.countDown();            }        });        t1.start();        t2.start();        latch.countDown();        waiting.await();        System.out.println(list);    }}</code></pre><p>åœ¨ Java 8 å’Œ Java 11 ä¸­åˆ†åˆ«æ‰§è¡Œï¼Œæœç„¶ï¼Œå‡ºç°äº†<code>ArrayIndexOutOfBoundsException</code>å’Œ<code>null</code>çš„æƒ…å†µã€‚å¦‚æœæ²¡æœ‰å‡ºç°ï¼Œé‚£å°±æ˜¯å§¿åŠ¿ä¸å¯¹ï¼Œéœ€è¦å¤šè¯•å‡ æ¬¡æˆ–è€…å¤šå‡ ä¸ªçº¿ç¨‹ã€‚</p><h2 id="æ¢ä¸ªè§’åº¦æƒ³é—®é¢˜"><a href="#æ¢ä¸ªè§’åº¦æƒ³é—®é¢˜" class="headerlink" title="æ¢ä¸ªè§’åº¦æƒ³é—®é¢˜"></a>æ¢ä¸ªè§’åº¦æƒ³é—®é¢˜</h2><p>ä¸Šä¸€ç¯‡é€šè¿‡ä»£ç æ‰§è¡Œé¡ºåºè§£é‡Šäº†å‡ºç°é—®é¢˜çš„åŸå› ï¼Œè¿™æ¬¡å†çœ‹çœ‹ JMM çš„åŸå› ã€‚</p><p><img src="http://static.howardliu.cn/java/jmm.png" alt="jmm"></p><p>ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒJava ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ›å»ºäº†ä¸€ä¸ªæœ¬åœ°å†…å­˜åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç è¿è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ•°æ®ï¼Œæ˜¯çº¿ç¨‹æœ¬åœ°ç¼“å­˜çš„æ•°æ®ã€‚è¿™ä»½ç¼“å­˜çš„æ•°æ®ï¼Œä¼šä¸ä¸»å†…å­˜çš„æ•°æ®åšäº¤æ¢ï¼ˆæ›´æ–°ä¸»å†…å­˜æ•°æ®æˆ–æ›´æ–°æœ¬æ¬¡ç¼“å­˜ä¸­çš„æ•°æ®ï¼‰ã€‚</p><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ—¶åºå›¾çœ‹ä¸‹ä¸ºä»€ä¹ˆä¼šå‡ºç° nullï¼ˆæ•°ç»„è¶Šç•Œå¼‚å¸¸åŒç†ï¼‰ï¼š</p><p><img src="http://static.howardliu.cn/java/arraylist-add.png" alt="å¤šçº¿ç¨‹åœºæ™¯ä¸‹ ArrayList#add æ–¹æ³•çš„æ—¶åºå›¾"></p><p>ä»æ—¶åºå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºç°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸¤ä¸ªçº¿ç¨‹å–çš„<code>size</code>å€¼å’Œ<code>elementData</code>æ•°ç»„åœ°å€ï¼Œå¤§éƒ¨åˆ†æ˜¯æ“ä½œè‡ªå·±æœ¬åœ°ç¼“å­˜ä¸­çš„ï¼Œæ‰§è¡Œä¸€æ®µæ—¶é—´åï¼Œä¼šå°†æœ¬åœ°ç¼“å­˜ä¸­çš„æ•°æ®å†™å›ä¸»å†…å­˜æ•°æ®ï¼Œç„¶åè¿˜ä¼šä»ä¸»å†…å­˜ä¸­è¯»å–æœ€æ–°æ•°æ®æ›´æ–°æœ¬åœ°ç¼“å­˜æ•°æ®ã€‚å¼‚å¸¸å°±åœ¨è¿™ä¸ªäº¤æ¢è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œå¯èƒ½æœ‰è¯»è€…ä¼šæƒ³ï¼Œæ˜¯ä¸æ˜¯æŠŠ<code>size</code>å’Œ<code>elementData</code>ä¸¤ä¸ªå˜é‡åŠ ä¸Š<code>volatile</code>å°±å¯ä»¥è§£å†³äº†ã€‚å¦‚æœè¿™æ ·æƒ³ï¼Œé‚£ä½ å°±æƒ³ç®€å•ã€‚çº¿ç¨‹å®‰å…¨æ˜¯æ•´ä¸ªç±»è®¾è®¡å®ç°æ—¶å·²ç»ç¡®å®šäº†ï¼Œé™¤äº†å±æ€§éœ€è¦è€ƒè™‘å¤šçº¿ç¨‹çš„å½±å“ï¼Œæ–¹æ³•ï¼ˆä¸»è¦æ˜¯ä¼šä¿®æ”¹å±æ€§å…ƒç´ çš„æ–¹æ³•ï¼‰ä¹Ÿéœ€è¦è€ƒè™‘ã€‚</p><p><code>ArrayList</code>çš„å®šä½æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œå…¶ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ²¡æœ‰è€ƒè™‘å¤šçº¿ç¨‹ä¸‹ä¸ºå…±äº«èµ„æºåŠ é”ã€‚å³ä½¿<code>size</code>å’Œ<code>elementData</code>ä¸¤ä¸ªå˜é‡éƒ½æ˜¯å®æ—¶è¯»å†™ä¸»å†…å­˜ï¼Œä½†æ˜¯<code>add</code>å’Œ<code>grow</code>æ–¹æ³•è¿˜æ˜¯å¯èƒ½ä¼šè¦†ç›–å¦ä¸€ä¸ªçº¿ç¨‹çš„æ•°æ®ã€‚</p><p>æˆ‘ä»¬ä»<code>ArrayList</code>çš„<code>add</code>æ–¹æ³•æ³¨é‡Šå¯ä»¥å¾—çŸ¥ï¼Œæ–¹æ³•æ‹†åˆ†ä¸æ˜¯ä¸ºäº†å®ç°çº¿ç¨‹å®‰å…¨ï¼Œè€Œæ˜¯ä¸ºäº†æ‰§è¡Œæ•ˆç‡å’Œå†…å­˜å ç”¨ï¼š</p><blockquote><p>This helper method split out from add(E) to keep method bytecode size under 35 (the -XX:MaxInlineSize default value), which helps when add(E) is called in a C1-compiled loop.</p></blockquote><p>æ‰€ä»¥è¯´ï¼Œåœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ä½¿ç”¨<code>ArrayList</code>ï¼Œè¯¥å‡ºç°çš„å¼‚å¸¸ï¼Œä¸€ä¸ªä¹Ÿä¸ä¼šå°‘ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ol><li><a href="https://www.howardliu.cn/arraylist-is-not-thread-safe/">å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</a></li><li><a href="https://www.howardliu.cn/arraylist-is-not-thread-safe-2/">å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆç¬¬äºŒç¯‡ï¼‰</a></li></ol><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/arraylist-is-not-thread-safe-2/">å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆç¬¬äºŒç¯‡ï¼‰</a><br>CSDN ä¸»é¡µï¼š<a href="http://kanshan.csdn.net/" target="_blank" rel="noopener">http://kanshan.csdn.net/</a><br>CSDN åšæ–‡ï¼š<a href="https://kanshan.csdn.net/article/details/118346355" target="_blank" rel="noopener">å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆç¬¬äºŒç¯‡ï¼‰</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      å¦‚æœéè¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ ArrayList ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆç¬¬äºŒç¯‡ï¼‰
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="java" scheme="https://www.howardliu.cn/tags/java/"/>
    
      <category term="ArrayList" scheme="https://www.howardliu.cn/tags/ArrayList/"/>
    
      <category term="çº¿ç¨‹å®‰å…¨" scheme="https://www.howardliu.cn/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>çœ‹å±±èŠ Javaï¼šDate ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</title>
    <link href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/"/>
    <id>https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/</id>
    <published>2021-06-22T14:50:46.000Z</published>
    <updated>2021-06-22T14:50:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/rome-6207755_1920.jpg" alt="çœ‹å±±èŠ Javaï¼šDate ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢"></p><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>ä» Java1 åˆ° Java8 å°†è¿‘ 20 å¹´ï¼Œå†åŠ ä¸Š Java8 çš„æ™®åŠæ—¶é—´ã€å„ç§å†å² API å…¼å®¹è¿‡æ¸¡æ—¶é—´ã€‚æˆ‘ä»¬å¾ˆå¤šæ—¶å€™éœ€è¦åœ¨æ—§æ—¶é—´ API ä¸æ–°æ—¶é—´ API ä¹‹é—´åˆ‡æ¢ï¼Œå¹¶è¡Œä½¿ç”¨ã€‚ä»Šå¤©å°±æ¥è¯´è¯´ï¼Œ<code>java.util.Date</code>ä¸<code>java.time.LocalDate/LocalDateTime</code>å¦‚ä½•äº’ç›¸è½¬æ¢ã€‚</p><a id="more"></a><h2 id="java-util-Dateè½¬ä¸ºjava-time-LocalDate"><a href="#java-util-Dateè½¬ä¸ºjava-time-LocalDate" class="headerlink" title="java.util.Dateè½¬ä¸ºjava.time.LocalDate"></a><code>java.util.Date</code>è½¬ä¸º<code>java.time.LocalDate</code></h2><p>Java8 å‘è¡Œçš„æ—¶å€™ï¼Œä¹Ÿè€ƒè™‘åˆ°äº†æ–°æ—§ API ä¹‹é—´çš„è½¬æ¢ï¼Œæ‰€ä»¥åœ¨<code>java.util.Date</code>ä¸­å¢åŠ äº†<code>toInstance()</code>æ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ª<code>Instance</code>å®ä¾‹ã€‚<code>Instance</code>æ²¡æœ‰æ—¶åŒºæ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡<code>atZone()</code>æŒ‡å®šæ—¶åŒºï¼Œå¾—åˆ°<code>ZonedDateTime</code>å®ä¾‹ï¼Œç„¶åè½¬æ¢ä¸º<code>java.time.LocalDate</code>ã€‚å¦‚ä¸‹ï¼š</p><pre><code class="java">public LocalDate convertToLocalDateViaInstant(Date dateToConvert) {    return dateToConvert.toInstant()            .atZone(ZoneId.systemDefault())            .toLocalDate();}</code></pre><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©<code>Instance</code>çš„<code>ofEpochMilli()</code>æ–¹æ³•åˆ›å»ºå®ä¾‹ã€‚å¦‚ä¸‹ï¼š</p><pre><code class="java">public LocalDate convertToLocalDateViaMilisecond(Date dateToConvert) {    return Instant.ofEpochMilli(dateToConvert.getTime())            .atZone(ZoneId.systemDefault())            .toLocalDate();}</code></pre><p>Java ä¸­ï¼Œé™¤äº†<code>java.util.Date</code>ï¼Œè¿˜æœ‰ä¸€ä¸ª Date å¯¹è±¡æ˜¯<code>java.sql.Date</code>ï¼Œjava8 ç»™è¿™ä¸ªç±»å¢åŠ äº†ä¸€ä¸ªç›´æ¥è½¬æ¢ä¸º<code>LocalDate</code>çš„æ–¹æ³•<code>toLocalDate()</code>ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†<code>java.util.Date</code>è½¬æ¢ä¸º<code>java.sql.Date</code>ï¼Œç„¶åå€ŸåŠ©<code>toLocalDate()</code>æ–¹æ³•ã€‚å¦‚ä¸‹ï¼š</p><pre><code class="java">public LocalDate convertToLocalDateViaSqlDate(Date dateToConvert) {    return new java.sql.Date(dateToConvert.getTime()).toLocalDate();}</code></pre><h2 id="java-util-Dateè½¬ä¸ºjava-time-LocalDateTime"><a href="#java-util-Dateè½¬ä¸ºjava-time-LocalDateTime" class="headerlink" title="java.util.Dateè½¬ä¸ºjava.time.LocalDateTime"></a><code>java.util.Date</code>è½¬ä¸º<code>java.time.LocalDateTime</code></h2><p><code>java.util.Date</code>æ˜¯åŒ…å«å¹´æœˆæ—¥æ—¶åˆ†ç§’çš„ï¼Œè½¬ä¸º<code>java.time.LocalDate</code>æ˜¯æŠŠæ—¶åˆ†ç§’å»æ‰ï¼Œè½¬ä¸º<code>java.time.LocalDateTime</code>æ˜¯ç²¾åº¦ä¿ç•™ï¼Œè½¬æ¢æ–¹å¼å®Œå…¨ä¸€æ ·ï¼Œåªä¸è¿‡è¦ç”¨åˆ°çš„æ˜¯<code>toLocalDateTime()</code>æ–¹æ³•ã€‚å¦‚ä¸‹ï¼š</p><pre><code class="java">public LocalDateTime convertToLocalDateTimeViaInstant(Date dateToConvert) {    return dateToConvert.toInstant()            .atZone(ZoneId.systemDefault())            .toLocalDateTime();}public LocalDateTime convertToLocalDateTimeViaMilisecond(Date dateToConvert) {    return Instant.ofEpochMilli(dateToConvert.getTime())            .atZone(ZoneId.systemDefault())            .toLocalDateTime();}</code></pre><p><code>java.sql.Date</code>ç²¾åº¦åªæœ‰å¹´æœˆæ—¥ï¼Œ<code>java.sql.Timestamp</code>ç²¾åº¦åŒ…å«æ—¶åˆ†ç§’ï¼Œæ‰€ä»¥è¿˜å¯ä»¥å€ŸåŠ©è¿™ä¸ªç±»çš„<code>toLocalDateTime()</code>æ–¹æ³•å®ç°è½¬æ¢ï¼š</p><pre><code class="java">LocalDateTime convertToLocalDateTimeViaSqlTimestamp(Date dateToConvert) {    return new java.sql.Timestamp(dateToConvert.getTime()).toLocalDateTime();}</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹æ€ä¹ˆä»æ–°æ—¶é—´ API è½¬æ—§æ—¶é—´ APIã€‚</p><h2 id="java-time-LocalDateè½¬ä¸ºjava-util-Date"><a href="#java-time-LocalDateè½¬ä¸ºjava-util-Date" class="headerlink" title="java.time.LocalDateè½¬ä¸ºjava.util.Date"></a><code>java.time.LocalDate</code>è½¬ä¸º<code>java.util.Date</code></h2><p>å…ˆæ¥ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œå€ŸåŠ©<code>java.sql.Date</code>çš„<code>valueOf()</code>æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="java">public java.util.Date convertToDateViaSqlDate(LocalDate dateToConvert) {    return java.sql.Date.valueOf(dateToConvert);}</code></pre><p><code>java.sql.Date.valueOf()</code>æ–¹æ³•çš„å®ç°ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®ç°ï¼š</p><pre><code class="java">public static Date valueOf(LocalDate date) {    return new Date(date.getYear() - 1900,            date.getMonthValue() - 1,            date.getDayOfMonth());}</code></pre><blockquote><p>é¢˜å¤–è¯ï¼šä¸çŸ¥ä¸ºä½• Java8 è¿™ä¹ˆåçˆ±<code>java.sql.Date</code>ï¼Œæä¾›äº†å„ç§å¥½ç”¨çš„è½¬æ¢æ–¹æ³•ã€‚ä½†æ˜¯æŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ç”¨çš„éƒ½æ˜¯<code>java.util.Date</code>ç±»ï¼Œæ˜¯ä¸æ˜¯è¿™ä¸ªä¹ æƒ¯å¾—æ”¹æ”¹äº†ã€‚</p></blockquote><p>è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œæ˜¯å€ŸåŠ©<code>java.util.Date</code>çš„<code>from(Instant instant)</code>æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="java">public java.util.Date convertToDateViaInstant(LocalDate dateToConvert) {    return java.util.Date.from(dateToConvert.atStartOfDay().atZone(ZoneId.systemDefault())            .toInstant());}</code></pre><h2 id="java-time-LocalDateTimeè½¬ä¸ºjava-util-Date"><a href="#java-time-LocalDateTimeè½¬ä¸ºjava-util-Date" class="headerlink" title="java.time.LocalDateTimeè½¬ä¸ºjava.util.Date"></a><code>java.time.LocalDateTime</code>è½¬ä¸º<code>java.util.Date</code></h2><p>ä»‹ç»ä¸¤ç§æ–¹å¼ã€‚</p><p>ä¸€ç§æ˜¯å€ŸåŠ©<code>java.sql.Timestamp</code>çš„<code>valueOf()</code>æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="java">public java.util.Date convertToDateViaSqlTimestamp(LocalDateTime dateToConvert) {    return java.sql.Timestamp.valueOf(dateToConvert);}</code></pre><p>å¦ä¸€ç§æ–¹å¼æ˜¯ï¼š</p><pre><code class="java">public java.util.Date convertToDateViaInstant(LocalDateTime dateToConvert) {    return java.util.Date.from(dateToConvert.atZone(ZoneId.systemDefault())            .toInstant());}</code></pre><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>è™½ç„¶ Java8 å·²ç»æ˜¯è¡Œä¸šåº•çº¿ï¼Œä½†æ˜¯ä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œå¾ˆå¤šç±»åº“æˆ–è€…é—ç•™ä»£ç ä¾ç„¶ä¿ç•™äº†æ—§ APIï¼Œä¸å¯èƒ½ä¸€å¤œä¹‹é—´æ›¿æ¢å®Œæ¯•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ä¼šæœ‰æ–°æ—§ API çš„è½¬æ¢ã€‚æœ¬æ–‡æä¾›å‡ ç§è½¬æ¢æ–¹å¼ï¼Œå¯ä¾›å¤§å®¶ä½¿ç”¨ã€‚å½“ç„¶ï¼Œæ¡æ¡å¤§è·¯é€šç½—é©¬ï¼Œè¿™äº›æ–¹æ³•éƒ½ä¸æ˜¯å”¯ä¸€çš„æ–¹å¼ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ol><li><a href="https://www.howardliu.cn/java-date-and-time-intro/">Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a></li><li><a href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/">Date ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a></li><li><a href="https://www.howardliu.cn/java-date-time-migrating-to-jsr310/">ä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</a></li><li><a href="https://www.howardliu.cn/java-date-string-valid-date/">æ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</a></li></ol><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å…³æ³¨å…¬ä¼—å·ï¼š<a href="http://static.howardliu.cn/about/kanshanshuo.png" target="_blank" rel="noopener">çœ‹å±±çš„å°å±‹</a>ï¼Œé¢†å–å­¦ä¹ èµ„æ–™ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/">çœ‹å±±èŠ Javaï¼šDate ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a><br>CSDN ä¸»é¡µï¼š<a href="http://blog.csdn.net/liuxinghao" target="_blank" rel="noopener">http://blog.csdn.net/liuxinghao</a><br>CSDN åšæ–‡ï¼š<a href="https://blog.csdn.net/liuxinghao/article/details/118121634" target="_blank" rel="noopener">çœ‹å±±èŠ Javaï¼šDate ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      ä» Java1 åˆ° Java8 å°†è¿‘ 20 å¹´ï¼Œå†åŠ ä¸Š Java8 çš„æ™®åŠæ—¶é—´ã€å„ç§å†å² API å…¼å®¹è¿‡æ¸¡æ—¶é—´ã€‚æˆ‘ä»¬å¾ˆå¤šæ—¶å€™éœ€è¦åœ¨æ—§æ—¶é—´ API ä¸æ–°æ—¶é—´ API ä¹‹é—´åˆ‡æ¢ï¼Œå¹¶è¡Œä½¿ç”¨ã€‚ä»Šå¤©å°±æ¥è¯´è¯´ï¼Œjava.util.Date ä¸ java.time.LocalDate/LocalDateTime å¦‚ä½•äº’ç›¸è½¬æ¢ã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="java" scheme="https://www.howardliu.cn/tags/java/"/>
    
      <category term="Date" scheme="https://www.howardliu.cn/tags/Date/"/>
    
      <category term="Time" scheme="https://www.howardliu.cn/tags/Time/"/>
    
  </entry>
  
  <entry>
    <title>çœ‹å±±èŠ Javaï¼šJava8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</title>
    <link href="https://www.howardliu.cn/java-date-and-time-intro/"/>
    <id>https://www.howardliu.cn/java-date-and-time-intro/</id>
    <published>2021-06-15T15:03:23.000Z</published>
    <updated>2021-06-15T15:03:23.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/strawberries-6165597_1920.jpg" alt="çœ‹å±±èŠ Javaï¼šJava8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API"></p><blockquote><p>è¯¥å›¾ç‰‡ç”±<a href="https://pixabay.com/zh/users/onderortel-8618939/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6165597" target="_blank" rel="noopener">Ã–nder Ã–rtel</a>åœ¨<a href="https://pixabay.com/zh/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6165597" target="_blank" rel="noopener">Pixabay</a>ä¸Šå‘å¸ƒ</p></blockquote><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>å¹´é¾„å¤§çš„ Java ç¨‹åºå‘˜éƒ½æœ‰ä½“ä¼šï¼ŒJava8 ä¹‹å‰ï¼ŒJava æä¾›äº†ä¸€ç»„æ—¶é—´ç±»ï¼š<code>java.util.Date</code>ã€<code>java.util.Calendar</code>åŠå…¶å­ç±»å’Œå·¥å…·ç±»ç­‰ã€‚åŠŸèƒ½æ¯”è¾ƒå…¨é¢ï¼Œæœ€å¤§çš„ç¼ºç‚¹æ˜¯éš¾ç”¨ã€‚æ‰€ä»¥å¾ˆå¤šå›¢é˜Ÿç›´æ¥æ”¾å¼ƒåŸç”Ÿæ—¶é—´ç±»ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ—¶é—´ç±»åº“ã€‚åæ¥ï¼ŒJava8 å¸æ”¶äº† joda-time çš„ä¼˜ç§€è®¾è®¡ï¼Œæä¾›äº†ä¸€ç»„æ–°çš„æ—¶é—´å¤„ç† API<code>java.time.</code>ã€‚</p><p>æœ¬æ–‡ä½œä¸ºè¿™ä¸ªç³»åˆ—çš„ç¬¬ä¸€ç¯‡ï¼Œæ‰’ä¸€æ‰’<code>Date</code>å’Œ<code>Calendar</code>å­˜åœ¨çš„é—®é¢˜ï¼Œè¯´è¯´ Java8 æä¾›çš„æ—¶é—´åº“æ˜¯æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜çš„ã€‚åç»­å†è¯´ä¸€ä¸‹ Java8 ä¸­<code>java.time.</code>åŒ…ä¸­çš„ä¸€äº›æ ¸å¿ƒç±»ï¼Œä¾‹å¦‚<code>LocalDate</code>ã€<code>LocalTime</code>ã€<code>LocalDateTime</code>ã€<code>ZonedDateTime</code>ã€<code>Period</code>ã€<code>Duration</code>ã€‚</p><a id="more"></a><h2 id="è€æ—¶é—´-API-å­˜åœ¨çš„é—®é¢˜"><a href="#è€æ—¶é—´-API-å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="è€æ—¶é—´ API å­˜åœ¨çš„é—®é¢˜"></a>è€æ—¶é—´ API å­˜åœ¨çš„é—®é¢˜</h2><ol><li>çº¿ç¨‹å®‰å…¨æ€§ï¼šè€çš„æ—¶é—´ API æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œè€Œæˆ‘ä»¬çš„ä»£ç éƒ½æ˜¯è¿è¡Œåœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œè¿™æ ·å°±ä¸å¾—ä¸å¤„ç†éš¾ä»¥è°ƒè¯•çš„å¹¶å‘é—®é¢˜ï¼Œè€Œä¸”è¿˜éœ€è¦é¢å¤–çš„ä»£ç å¤„ç†çº¿ç¨‹å®‰å…¨ã€‚ä¸€ä¸å°å¿ƒï¼Œå°±ä¼šç¢°åˆ°ä¸€äº›æ¯”è¾ƒè¯¡å¼‚çš„é”™è¯¯ï¼Œæœ¬åœ°è¿˜ä¸å®¹æ˜“å¤ç°ï¼Œæ¯”å¦‚å®šä¹‰äº†ä¸€ä¸ªå…¬ç”¨çš„<code>SimpleDateFormt</code>å»æ“ä½œæ—¶é—´ï¼Œå¶å°”å¹¶å‘æ—¶ä¼šå‡ºé”™ï¼Œåªèƒ½é€šè¿‡è¿‚å›çš„åŠæ³•å®ç°ï¼ˆæ¯”å¦‚å€ŸåŠ©<code>ThreadLocal</code>ï¼‰ã€‚åœ¨ Java8 ä¸­å¼•å…¥çš„æ–°æ—¶é—´ API æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œå¤©ç„¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨ã€‚</li><li>API è®¾è®¡å’Œå¯ç†è§£æ€§ï¼šè€çš„æ—¶é—´ API åœ¨è¿™è®¾è®¡ä¸Šæ²¡æœ‰ä¸€è‡´çš„æ¨¡å‹ï¼Œè€Œä¸”æ—¥å¸¸æ“ä½œåŠŸèƒ½ä¸å…¨ã€‚è€Œä¸”æœ‰ä¸€äº›æ¯”è¾ƒè®©äººè¯Ÿç—…çš„è®¾è®¡ï¼Œæ¯”å¦‚<code>Date</code>ç±»çš„æ„é€ æ–¹æ³•<code>public Date(int year, int month, int date)</code>ï¼Œå…¶ä¸­<code>month</code>å­—æ®µå–å€¼æ˜¯<code>0-11</code>ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§è®¡ç®—æœºçš„ 0 ä½œä¸ºç¬¬ä¸€ä¸ªæ•°ï¼Œä½†æ˜¯<code>day</code>æ²¡æœ‰è¿™ç§æƒ…å†µï¼Œå–å€¼æ˜¯<code>1-31</code>ï¼Œå¾ˆå®¹æ˜“æé”™ã€‚æ–° API ä»¥ ISO ä¸ºä¸­å¿ƒï¼Œéµå¾ªæ—¥æœŸã€æ—¶é—´ã€æŒç»­æ—¶é—´ã€æ—¶é—´é—´éš”ç­‰ä¸€è‡´çš„åŸŸæ¨¡å‹ï¼Œè€Œä¸”ä¸ºæ—¶é—´ API å¢åŠ å¾ˆå¤šå®ç”¨çš„å·¥å…·æ–¹æ³•ã€‚</li><li>æ—¶åŒºå¤„ç†ï¼šè€çš„æ—¶é—´ API åœ¨å¤„ç†æ—¶åŒºé€»è¾‘æ—¶æ¯”è¾ƒç¹çï¼Œä½†æ˜¯åœ¨æ–°çš„ API ä¸­ï¼Œåªéœ€è¦é€šè¿‡<code>Local*</code>æˆ–<code>Zoned*</code>ç­‰ç±»å¤„ç†æ—¶åŒºå³å¯ã€‚</li></ol><p>ä¸‹é¢å°±å¼€å§‹å®é™…ä¸Šæ‰‹ Java8 çš„æ—¶é—´ API äº†ã€‚</p><h2 id="LocalDateã€LocalTimeã€LocalDateTime"><a href="#LocalDateã€LocalTimeã€LocalDateTime" class="headerlink" title="LocalDateã€LocalTimeã€LocalDateTime"></a>LocalDateã€LocalTimeã€LocalDateTime</h2><p>è¿™ä¸‰ä¸ªæ˜¯æœ€å¸¸ç”¨çš„å‡ ä¸ªæ—¶é—´ç±»äº†ï¼Œæ ¹æ®åå­—å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸‰ä¸ªç±»æ˜¯é»˜è®¤ä½¿ç”¨å½“å‰æœºå™¨ä¸Šçš„æ—¶åŒºä½œä¸ºå‚è€ƒç³»çš„æ—¶é—´å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸éœ€è¦æ˜¾ç¤ºæŒ‡å®šæ—¶åŒºæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™å‡ ä¸ªç±»ã€‚</p><h3 id="LocalDate"><a href="#LocalDate" class="headerlink" title="LocalDate"></a>LocalDate</h3><p><code>LocalDate</code>æ˜¯ ISO æ ¼å¼ï¼ˆyyyy-MM-ddï¼‰çš„æ—¥æœŸï¼Œæ²¡æœ‰æ—¶åˆ†ç§’çš„æ—¶é—´æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒè¡¨ç¤ºç”Ÿæ—¥ã€æ”¾å‡ç­‰åªå…³å¿ƒæ—¥æœŸçš„æ•°æ®ã€‚é€šè¿‡<code>now</code>æ–¹æ³•åˆ›å»ºå½“å‰æ—¥æœŸå®ä¾‹ï¼š</p><pre><code class="java">LocalDate localDate = LocalDate.now();</code></pre><p>è¿™é‡Œæ˜¯ä½¿ç”¨æœºå™¨æ—¶é—´åˆ›å»ºçš„ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<code>of</code>æ–¹æ³•æˆ–<code>parse</code>æ–¹æ³•è·å–æŒ‡å®šæ—¥æœŸçš„<code>LocalDate</code>å®ä¾‹ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦æ—¶é—´ä¸º 2021 å¹´ 6 æœˆ 11 å·ï¼š</p><pre><code class="java">LocalDate.of(2021, 6, 11);LocalDate.parse(&quot;2021-06-11&quot;);</code></pre><p><code>LocalDate</code>è¿˜æä¾›äº†å„ç§å®ç”¨æ–¹æ³•æ¥è·å–æ—¶é—´ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥å¿«é€Ÿæµè§ˆä¸€ä¸‹è¿™äº› API æ–¹æ³•ã€‚</p><ol><li>è·å–æ˜å¤©çš„æ—¥æœŸï¼Œå³å½“å‰æ—¥æœŸåŠ ä¸€å¤©ï¼š</li></ol><pre><code class="java">LocalDate tomorrow = LocalDate.now().plusDays(1);</code></pre><ol start="2"><li>è·å–ä¸Šä¸ªæœˆçš„ä»Šå¤©ï¼Œå³å½“å‰æ—¥æœŸå¹¶å‡å»ä¸€ä¸ªæœˆï¼ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æšä¸¾å•ä½æ“ä½œæ•°æ®ï¼‰ï¼š</li></ol><pre><code class="java">LocalDate previousMonthSameDay = LocalDate.now().minus(1, ChronoUnit.MONTHS);`</code></pre><ol start="3"><li>è§£ææ—¥æœŸâ€œ2021-06-11â€ï¼Œå¹¶è·å–å‘¨å‡ ï¼ˆç»“æœ<code>DayOfWeek</code>æ˜¯ä¸€ä¸ªæšä¸¾ç±»ï¼Œè®¾è®¡å¾ˆå‘¨åˆ°ï¼‰ï¼š</li></ol><pre><code class="java">DayOfWeek friday = LocalDate.parse(&quot;2021-06-11&quot;).getDayOfWeek();</code></pre><ol start="4"><li>è§£ææ—¥æœŸâ€œ2021-06-11â€ï¼Œå¹¶è·å–å‡ å·ï¼š</li></ol><pre><code class="java">int eleven = LocalDate.parse(&quot;2021-06-11&quot;).getDayOfMonth();</code></pre><ol start="5"><li>æ£€æŸ¥ä¸€ä¸ªæ—¥æœŸçš„å¹´ä»½æ˜¯å¦æ˜¯é—°å¹´ï¼š</li></ol><pre><code class="java">boolean leapYear = LocalDate.now().isLeapYear();</code></pre><ol start="6"><li>åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨å¦å¤–ä¸€ä¸ªæ—¥æœŸä¹‹å‰ï¼š</li></ol><pre><code class="java">boolean isBefore = LocalDate.parse(&quot;2021-06-11&quot;).isBefore(LocalDate.parse(&quot;2021-06-12&quot;));</code></pre><ol start="7"><li>åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨å¦å¤–ä¸€ä¸ªæ—¥æœŸä¹‹åï¼š</li></ol><pre><code class="java">boolean isAfter = LocalDate.parse(&quot;2021-06-12&quot;).isAfter(LocalDate.parse(&quot;2021-06-11&quot;));</code></pre><ol start="8"><li>è·å–ç»™å®šæ—¥æœŸçš„å½“å¤©å¼€å§‹æ—¶é—´ï¼Œæ¯”å¦‚ç»™å®šâ€œ2021-06-11â€ï¼Œæƒ³è¦è·å–â€œ2021-06-11T00:00â€ï¼ˆä¹Ÿå°±æ˜¯å½“å¤©çš„ 0 ç‚¹æ—¶é—´ï¼‰ï¼š</li></ol><pre><code class="java">LocalDateTime beginningOfDay = LocalDate.parse(&quot;2021-06-11&quot;).atStartOfDay();</code></pre><ol start="9"><li>è·å–ç»™å®šæ—¥æœŸæ‰€åœ¨æœˆä»½çš„çš„ç¬¬ä¸€å¤©ï¼Œæ¯”å¦‚ç»™å®šâ€œ2021-06-11â€ï¼Œæƒ³è¦è·å–â€œ2021-06-01â€ï¼š</li></ol><pre><code class="java">LocalDate firstDayOfMonth = LocalDate.parse(&quot;2021-06-11&quot;).with(TemporalAdjusters.firstDayOfMonth());</code></pre><h3 id="LocalTime"><a href="#LocalTime" class="headerlink" title="LocalTime"></a>LocalTime</h3><p><code>LocalDate</code>æ˜¯ ISO æ ¼å¼ï¼ˆyyyy-MM-ddï¼‰çš„æ—¥æœŸï¼Œæ²¡æœ‰æ—¶åˆ†ç§’çš„æ—¶é—´æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒè¡¨ç¤ºç”Ÿæ—¥ã€æ”¾å‡ç­‰åªå…³å¿ƒæ—¥æœŸçš„æ•°æ®ã€‚é€šè¿‡<code>now</code>æ–¹æ³•åˆ›å»ºå½“å‰æ—¥æœŸå®ä¾‹ï¼š</p><p><code>LocalTime</code>æä¾›çš„æ˜¯æ²¡æœ‰æ—¥æœŸæ•°æ®çš„æ—¶é—´ï¼Œåªæœ‰æ—¶åˆ†ç§’æ•°æ®ã€‚è¿™ä¸ªç±»å¾ˆå¤šæ–¹æ³•ä¸<code>LocalDate</code>ç±»ä¼¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿«é€Ÿè¿‡ä¸€ä¸‹è¿™äº› API æ–¹æ³•ã€‚</p><ol><li>åˆ›å»ºå½“å‰æ—¶é—´</li></ol><pre><code class="java">LocalTime now = LocalTime.now();</code></pre><ol start="2"><li>è§£æç»™å®šçš„å­—ç¬¦ä¸²æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨<code>of</code>å’Œ<code>parse</code>æ–¹æ³•ï¼Œæ¯”å¦‚ä¸‹åˆ 4:30ï¼š</li></ol><pre><code class="java">LocalTime sixty30 = LocalTime.parse(&quot;16:30&quot;);LocalTime sixty31 = LocalTime.of(16, 31);</code></pre><ol start="3"><li>è§£æç»™å®šå­—ç¬¦ä¸²æ—¶é—´ï¼Œå¹¶è·å–ä¸€å°æ—¶åçš„æ—¶é—´å®ä¾‹ï¼š</li></ol><pre><code class="java">LocalTime seventy30 = LocalTime.parse(&quot;16:30&quot;).plus(1, ChronoUnit.HOURS);</code></pre><ol start="4"><li>è·å–ç»™å®šå­—ç¬¦ä¸²æ—¶é—´çš„å°æ—¶æ•°ï¼š</li></ol><pre><code class="java">int sixty = LocalTime.parse(&quot;16:30&quot;).getHour();</code></pre><ol start="5"><li>åˆ¤æ–­ä¸€ä¸ªæ—¶é—´æ˜¯å¦åœ¨å¦å¤–ä¸€ä¸ªæ—¶é—´ä¹‹å‰ï¼š</li></ol><pre><code class="java">boolean isBeforeTime = LocalTime.parse(&quot;16:30&quot;).isBefore(LocalTime.parse(&quot;17:30&quot;));</code></pre><ol start="6"><li>åˆ¤æ–­ä¸€ä¸ªæ—¶é—´æ˜¯å¦åœ¨å¦å¤–ä¸€ä¸ªæ—¶é—´ä¹‹åï¼š</li></ol><pre><code class="java">boolean isAfterTime = LocalTime.parse(&quot;17:30&quot;).isAfter(LocalTime.parse(&quot;16:30&quot;));</code></pre><ol start="7"><li>å¸¸ç”¨çš„æ—¶é—´å¸¸é‡ï¼š</li></ol><pre><code class="java">LocalTime.MIN;// 00:00LocalTime.NOON;// 12:00LocalTime.MAX;// 23:59:59.999999999LocalTime.MIDNIGHT;// 00:00</code></pre><h3 id="LocalDateTime"><a href="#LocalDateTime" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h3><p>é¡¾åæ€ä¹‰ï¼Œ<code>LocalDateTime</code>è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„ç»„åˆã€‚æœ‰äº†å‰ä¸¤ä¸ªç±»åšé“ºå«ï¼Œè¿™ä¸ªç±»ä¹Ÿæ˜¯å¾ˆç±»ä¼¼çš„æ“ä½œã€‚</p><ol><li>åˆ›å»ºå½“å‰æ—¶é—´</li></ol><pre><code class="java">LocalDateTime.now();</code></pre><ol start="2"><li>è§£æç»™å®šçš„å­—ç¬¦ä¸²æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨<code>of</code>å’Œ<code>parse</code>æ–¹æ³•ï¼Œæ¯”å¦‚ 2021 å¹´ 6 æœˆ 11 æ—¥ 16 ç‚¹ 30 åˆ†ï¼š</li></ol><pre><code class="java">LocalDateTime.of(2021, Month.JUNE, 11, 16, 30);LocalDateTime.parse(&quot;2021-06-11T16:30:00&quot;);// æ³¨æ„è¿™ä¸ªæ—¶é—´æ ¼å¼ï¼Œè¿™ç§å†™æ³•å±äº UTC æ—¶é—´æ ¼å¼ï¼Œåç»­å†å¼€æ–‡è¯´ä¸€ä¸‹æ—¶é—´æ ¼å¼çš„è¯é¢˜ã€‚</code></pre><p>å…¶ä»–ä¸<code>LocalDate</code>å’Œ<code>LocalTime</code>ç±»ä¼¼çš„ APIï¼Œæ¯”å¦‚<code>plusDays</code>ã€<code>MinsHours</code>ã€<code>getMonth</code>ç­‰ã€‚æˆ‘ä»¬å¯ä»¥æŠŠ<code>LocalDateTime</code>ç†è§£ä¸º<code>LocalDate</code>å’Œ<code>LocalTime</code>çš„åˆä½“ã€‚</p><p><code>LocalDate</code>ã€<code>LocalTime</code>ã€<code>LocalDateTime</code>å¤„ç†çš„éƒ½æ˜¯å½“å‰ç³»ç»Ÿæ‰€åœ¨æ—¶åŒºçš„æ—¥æœŸæ—¶é—´æ•°æ®ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦å¤„ç†ç‰¹å®šæ—¶åŒºçš„æ—¥æœŸå’Œæ—¶é—´ï¼ŒJava8 æä¾›äº†<code>ZonedDateTime</code>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¯´è¯´è¿™ä¸ªç±»ã€‚</p><h2 id="ZonedDateTime"><a href="#ZonedDateTime" class="headerlink" title="ZonedDateTime"></a>ZonedDateTime</h2><p><code>ZonedDateTime</code>çš„ä½¿ç”¨éœ€è¦é…åˆ<code>ZoneId</code>ï¼Œ<code>ZoneId</code>è¡¨ç¤ºä¸åŒåŒºåŸŸçš„æ ‡è¯†ç¬¦ï¼Œåœ¨<code>${JAVA_HOME}/lib/tzdb.dat</code>æ–‡ä»¶ä¸­å­˜æ”¾äº†é»˜è®¤çš„åŒºåŸŸæ ‡è¯†ç¬¦ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«å®šä¹‰ï¼Œéœ€è¦æ˜¯æ–‡ä»¶ä¸­æŒ‡å®šçš„æ•°æ®æ‰èƒ½è·å–åˆ°<code>ZoneId</code>å®ä¾‹ã€‚</p><p>æˆ‘ä»¬æ¥åˆ›å»ºæˆ‘å¤©æœçš„åŒºåŸŸï¼š<code>ZoneId zoneId = ZoneId.of(&quot;Asia/Shanghai&quot;);</code>ã€‚</p><p>å¦‚æœä¸çŸ¥é“æœ‰å“ªäº›åŒºåŸŸï¼Œå¯ä»¥é€šè¿‡<code>Set&lt;String&gt; allZoneIds = ZoneId.getAvailableZoneIds();</code>è·å–ï¼Œæˆ‘å½“å‰ jdk ç‰ˆæœ¬æ˜¯ jdk1.8.0_202ï¼Œä¸€å…±æœ‰ 599 ä¸ªåŒºåŸŸæ ‡è¯†ã€‚</p><p>æˆ‘ä»¬å¯¹æ¯”æˆ‘æœä¸æ¼‚äº®å›½çš„æ—¶é—´ï¼Œè·å–å½“å‰æ—¶é—´ï¼š</p><pre><code class="java">ZonedDateTime.now();// 2021-06-11T17:49:53.400+08:00[Asia/Shanghai]ZonedDateTime.now(ZoneId.systemDefault());// 2021-06-11T17:49:53.400+08:00[Asia/Shanghai]ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;));// 2021-06-11T05:49:53.400-04:00[America/New_York]</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>now</code>æ–¹æ³•ä¸ä¼ å‚æ•°ä¸ä½¿ç”¨å½“å‰æ—¶åŒºå‚æ•°ç»“æœä¸€è‡´ï¼Œä½¿ç”¨æ¼‚äº®å›½æ—¶åŒºæ—¶ï¼Œåœ¨å°æ—¶ä¸Šæœ‰åŒºåˆ«ï¼Œä½†æ˜¯ä¸¤ä¸ªæ—¶é—´ï¼Œéƒ½æ˜¯æŒ‡å½“å‰æ—¶é—´ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®š<code>ZoneId</code>è·å–ä¸åŒæ—¶åŒºçš„ç»“æœï¼š</p><pre><code class="java">final ZonedDateTime newyorkZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;));// 2021-06-11T05:57:00.655-04:00[America/New_York]final ZonedDateTime shanghaiZonedDateTime = newyorkZonedDateTime.withZoneSameInstant(ZoneId.of(&quot;Asia/Shanghai&quot;));// 2021-06-11T17:57:00.655+08:00[Asia/Shanghai]final ZonedDateTime shanghaiZonedDateTime2 = ZonedDateTime.now(ZoneId.of(&quot;Asia/Shanghai&quot;));// 2021-06-11T17:58:34.221+08:00[Asia/Shanghai]</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç›´æ¥è·å–åŒ—äº¬æ—¶é—´ä¸é€šè¿‡æ¼‚äº®å›½æ—¶é—´è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´ï¼Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æé†’ï¼Œè¿™ç‚¹æ˜¯æˆ‘æœç¨‹åºå‘˜å®¹æ˜“å¿½ç•¥çš„ã€‚é‚£å°±æ˜¯å¤ä»¤æ—¶ï¼Œæˆ‘å›½æ²¡æœ‰å¤ä»¤æ—¶ï¼Œä½†æ˜¯å›½å¤–æœ‰äº›å›½å®¶ä½¿ç”¨å¤ä»¤æ—¶ã€‚æ‰€ä»¥åœ¨å¤„ç†æ—¶é—´çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ€å¥½ä¸è¦é€šè¿‡æ‰‹åŠ¨åŠ å‡æ—¶åŒºå·®æ¥è®¡ç®—æ—¶é—´ï¼Œè¿™æ ·å¾ˆå®¹æ˜“å¿½ç•¥å¤ä»¤æ—¶ã€‚</p><h2 id="Periodã€Duration"><a href="#Periodã€Duration" class="headerlink" title="Periodã€Duration"></a>Periodã€Duration</h2><p>è¿™ä¸¤ä¸ªç±»éƒ½æ˜¯è¡¨ç¤ºæ—¶é—´é‡ï¼Œä¹Ÿå°±æ˜¯æ—¶é—´æ®µã€‚ä¸è¿‡ï¼Œ<code>Period</code>ç±»ä»¥å¹´ã€æœˆã€æ—¥è¿™ç§æ¯”è¾ƒå¤§çš„å•ä½è¡¨ç¤ºæ—¶é—´é‡ï¼Œ<code>Duration</code>ç±»ä»¥ç§’ã€çº³ç§’è¿™ç§ç›¸å¯¹è¾ƒå°çš„å•ä½è¡¨ç¤ºæ—¶é—´é‡ã€‚</p><h3 id="Period"><a href="#Period" class="headerlink" title="Period"></a>Period</h3><p><code>Period</code>è¡¨ç¤ºçš„å•ä½æ˜¯å¹´æˆ–æœˆæˆ–æ—¥è¿™ç§ç›¸å¯¹å¤§ä¸€äº›çš„å•ä½ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥å¢å‡æ—¶é—´ï¼Œæˆ–è€…è®¡ç®—ä¸¤ä¸ªæ—¶é—´é—´çš„æ—¶é—´å·®ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬ä»¥ 2021 å¹´ 6 æœˆ 15 æ—¥ä¸ºåŸºå‡†ï¼Œè®¡ç®— 5 å¤©åçš„æ—¥æœŸï¼š</p><pre><code class="java">LocalDate initialDate = LocalDate.parse(&quot;2021-06-15&quot;);LocalDate finalDate = initialDate.plus(Period.ofDays(5));// 2021-06-20</code></pre><p><code>Period</code>æä¾›äº†<code>ofYears</code>ã€<code>ofMonths</code>ã€<code>ofWeeks</code>ã€<code>ofDays</code>ã€<code>of</code>ç­‰æ–¹æ³•ï¼Œå¯ä»¥éšæƒ…å†µå¤„ç†æ—¶é—´ã€‚</p><p>é™¤äº†é”šå®šçš„ç‰¹å®šæ—¶é—´ï¼Œ<code>Period</code>è¿˜å¯ä»¥è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ—¶é—´å·®ã€‚æ¯”å¦‚ï¼š</p><pre><code class="java">LocalDate initialDate = LocalDate.parse(&quot;2021-06-15&quot;);final LocalDate newDate = initialDate.plus(Period.of(1, 2, 3));final Period period = Period.between(initialDate, newDate);int years = period.getYears();// 1int months = period.getMonths();// 2int days = period.getDays();// 3</code></pre><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•æ˜¯ä¸¤ä¸ªå•ä½åŒå•ä½çš„å·®ï¼Œä¸ä¼šè¿›è¡Œæ¢ç®—ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>ChronoUnit</code>å®ç°å•ä½æ¢ç®—çŠ¶æ€ä¸‹çš„ç»“æœï¼š</p><pre><code class="java">long allYears = ChronoUnit.YEARS.between(initialDate, newDate);// 1long allMonths = ChronoUnit.MONTHS.between(initialDate, newDate);// 14long allDays = ChronoUnit.DAYS.between(initialDate, newDate);// 429</code></pre><p><code>ChronoUnit</code>æ˜¯å€ŸåŠ©<code>Duration</code>å®ç°çš„ï¼Œæ‰€ä»¥æœ€ç»†ç²’åº¦å¯ä»¥åˆ°çº³ç§’ã€‚</p><h3 id="Duration"><a href="#Duration" class="headerlink" title="Duration"></a>Duration</h3><p><code>Duration</code>å¯ä»¥è¡¨ç¤ºçš„å•ä½æ˜¯å¤©ã€å°æ—¶ã€åˆ†ã€ç§’ã€æ¯«ç§’ã€çº³ç§’ï¼Œå…¶å†…éƒ¨ç»“æœæ˜¯é€šè¿‡ç§’ã€çº³ç§’è¿›è¡Œå­˜å‚¨çš„ï¼Œå…¶ä»–å¯è¡¨ç¤ºçš„å•ä½ï¼Œéƒ½æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªå•ä½ç»„åˆå®ç°çš„ã€‚æ¯”å¦‚ï¼Œä¸€åˆ†é’Ÿç­‰äº 3600 ç§’ï¼Œé‚£å†…éƒ¨å­˜å‚¨å°±æ˜¯ 3600 ç§’ 0 çº³ç§’ï¼›1 æ¯«ç§’ç­‰äº 1000000 çº³ç§’ï¼Œå†…éƒ¨å­˜å‚¨å°±æ˜¯ 0 ç§’ 1000000 çº³ç§’ã€‚</p><p><code>Duration</code>ç”¨æ³•ä¸<code>Period</code>ç±»ä¼¼ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç»™ 21 ç‚¹ 03 åˆ† 15 ç§’åŠ  30 ç§’ï¼š</p><pre><code class="java">LocalTime initialTime = LocalTime.parse(&quot;21:02:15&quot;);LocalTime finalTime = initialTime.plus(Duration.ofSeconds(30));// 21:02:45</code></pre><p><code>Duration</code>ä¹Ÿå¯ä»¥è®¡ç®—ä¸¤ä¸ªæ—¶é—´ä¹‹é—´çš„æ—¶é—´å·®ï¼Œåªæ˜¯å•ä½è¾ƒå°ä¸€äº›ï¼Œæ¯”å¦‚ï¼š</p><pre><code class="java">LocalTime initialTime = LocalTime.parse(&quot;21:02:15&quot;);LocalTime newTime = LocalTime.of(21, 02, 20);Duration duration = Duration.between(initialTime, newTime);long seconds = duration.getSeconds();// 5int nano = duration.getNano();// 0</code></pre><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>ChronoUnit</code>å®ç°æ›´å¤šå•ä½çš„æ—¶é—´å·®ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚</p><h2 id="ä»è€æ—¶é—´-API-åˆ›å»º"><a href="#ä»è€æ—¶é—´-API-åˆ›å»º" class="headerlink" title="ä»è€æ—¶é—´ API åˆ›å»º"></a>ä»è€æ—¶é—´ API åˆ›å»º</h2><p>Java8 æä¾›äº†<code>toInstant()</code>æ–¹æ³•ï¼Œå¯ä»¥å°†è€æ—¶é—´ API çš„<code>Date</code>å’Œ<code>Calendar</code>è½¬æ¢ä¸ºæ–°çš„å¯¹è±¡ï¼š</p><pre><code class="java">Date date = new Date();LocalDateTime localDateTime = LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());Calendar calendar = GregorianCalendar.getInstance();LocalDateTime localDateTime1 = LocalDateTime.ofInstant(calendar.toInstant(), ZoneId.systemDefault());</code></pre><h2 id="æ—¶é—´æ ¼å¼åŒ–"><a href="#æ—¶é—´æ ¼å¼åŒ–" class="headerlink" title="æ—¶é—´æ ¼å¼åŒ–"></a>æ—¶é—´æ ¼å¼åŒ–</h2><p>Java8 æä¾›äº†æ˜“äºä½¿ç”¨çš„æ—¶é—´æ ¼å¼åŒ– APIï¼Œè¿™é‡Œç®€å•è¯´ä¸‹ã€‚æ¯”å¦‚ï¼š</p><pre><code class="java">LocalDateTime localDateTime = LocalDateTime.of(2021, Month.JUNE, 15, 21, 23);String localDateString = localDateTime.format(DateTimeFormatter.ISO_DATE);// 2021-06-15</code></pre><p>ä¸è€æ—¶é—´ API ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ ¼å¼ï¼š</p><pre><code class="java">localDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;));</code></pre><h2 id="æ–‡æœ«æ€»ç»“"><a href="#æ–‡æœ«æ€»ç»“" class="headerlink" title="æ–‡æœ«æ€»ç»“"></a>æ–‡æœ«æ€»ç»“</h2><p>ä» Java7 åˆ° Java8ï¼Œæä¾›äº†å¾ˆå¤šç‰¹æ€§ï¼Œé™¤äº† Lambda è¡¨è¾¾å¼ï¼Œæ—¶é—´ API ç»å¯¹ä¹Ÿæ˜¯è‰¯å¿ƒåŠŸèƒ½äº†ã€‚è€Œä¸”ä»å‘å¸ƒåˆ°ç°åœ¨å·²ç»è¿‡å»è¿™ä¹ˆå¤šå¹´ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦ä¸æ—¶ä¿±è¿›ï¼Œé€æ¸ä½¿ç”¨ä¼˜ç§€çš„ API æ›¿æ¢è€ API äº†ã€‚å¦‚æœè¿˜åœ¨ç”¨ Java7 æˆ–è€… Java6ï¼Œç„¶åè¿˜æƒ³ä½¿ç”¨ Java8 è¿™ç§æ—¶é—´ APIï¼Œè¿™é‡Œæ¨èä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“ï¼š<code>threetenbp</code>å’Œ<code>joda-time</code>ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/eugenp/tutorials/tree/master/core-java-modules/core-java-8-datetime" target="_blank" rel="noopener">core-java-8-datetime</a></li><li><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1303904694304801" target="_blank" rel="noopener">ZonedDateTime</a></li></ul><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ol><li><a href="https://www.howardliu.cn/java-date-and-time-intro/">Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a></li><li><a href="https://www.howardliu.cn/java-date-to-localdate-and-localdatetime/">Date ä¸ LocalDate æˆ– LocalDateTime äº’ç›¸è½¬æ¢</a></li><li><a href="https://www.howardliu.cn/java-date-time-migrating-to-jsr310/">ä½¿ç”¨ Java8 ä¸­çš„æ—¶é—´ç±»</a></li><li><a href="https://www.howardliu.cn/java-date-string-valid-date/">æ£€æŸ¥æ—¥æœŸå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•</a></li></ol><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚å…³æ³¨å…¬ä¼—å·ï¼š<a href="http://static.howardliu.cn/about/kanshanshuo.png" target="_blank" rel="noopener">çœ‹å±±çš„å°å±‹</a>ï¼Œé¢†å–å­¦ä¹ èµ„æ–™ã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/java-date-and-time-intro/">Java8 çš„æ—¶é—´åº“ï¼ˆ1ï¼‰ï¼šä»‹ç» Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a><br>CSDN ä¸»é¡µï¼š<a href="http://blog.csdn.net/liuxinghao" target="_blank" rel="noopener">http://blog.csdn.net/liuxinghao</a><br>CSDN åšæ–‡ï¼š<a href="https://blog.csdn.net/liuxinghao/article/details/117945803" target="_blank" rel="noopener">Java8 çš„æ—¶é—´åº“ï¼ˆ1ï¼‰ï¼šä»‹ç» Java8 ä¸­çš„æ—¶é—´ç±»åŠå¸¸ç”¨ API</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      æœ¬æ–‡ä½œä¸ºè¿™ä¸ªç³»åˆ—çš„ç¬¬ä¸€ç¯‡ï¼Œæ‰’ä¸€æ‰’ Date å’Œ Calendar å­˜åœ¨çš„é—®é¢˜ï¼Œè¯´è¯´ Java8 æä¾›çš„æ—¶é—´åº“æ˜¯æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜çš„ã€‚åç»­å†è¯´ä¸€ä¸‹ Java8 ä¸­ java.time åŒ…ä¸­çš„ä¸€äº›æ ¸å¿ƒç±»ï¼Œä¾‹å¦‚ LocalDateã€LocalTimeã€LocalDateTimeã€ZonedDateTimeã€Periodã€Durationã€‚
    
    </summary>
    
    
      <category term="java" scheme="https://www.howardliu.cn/categories/java/"/>
    
    
      <category term="Java" scheme="https://www.howardliu.cn/tags/Java/"/>
    
      <category term="Date" scheme="https://www.howardliu.cn/tags/Date/"/>
    
      <category term="Time" scheme="https://www.howardliu.cn/tags/Time/"/>
    
  </entry>
  
  <entry>
    <title>ç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆ</title>
    <link href="https://www.howardliu.cn/lists-book-recommendations-2021/"/>
    <id>https://www.howardliu.cn/lists-book-recommendations-2021/</id>
    <published>2021-06-08T14:18:46.000Z</published>
    <updated>2021-06-08T14:18:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/woman-6175010_1920.jpg" alt="ç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆ"></p><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>ä»Šå¤©åˆ—ä¸€ä¸‹æŠ€æœ¯ç›¸å…³çš„ä¹¦å•ï¼Œæœ¬æ–‡æ˜¯ç¬¬ä¸€ç‰ˆï¼Œåç»­æŒç»­æ›´æ–°ã€‚</p><a id="more"></a><blockquote><p>æ–‡ä¸­æåˆ°çš„éƒ¨åˆ†ä¹¦ç›®æˆ‘ä¹Ÿæ²¡æœ‰è¯»è¿‡ï¼Œä½œä¸ºtodo listï¼Œæ˜ç¡®æ¥ä¸‹æ¥ä¸€æ®µæ—¶é—´çš„å­¦ä¹ æ–¹å‘ã€‚</p></blockquote><h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p>å› ä¸ºæœ¬äººå±äºJavaæ ˆï¼Œæ‰€ä»¥ä¸»è¦æ¨èçš„è¿˜æ˜¯å±äºJavaé¢†åŸŸå†…çš„ä¹¦ç›®ã€‚</p><ul><li><a href="https://book.douban.com/subject/34898994/" target="_blank" rel="noopener">ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ï¼šå·I åŸºç¡€çŸ¥è¯†ã€‹</a>ï¼šæœ¬ä¹¦ç”±æ‹¥æœ‰20å¤šå¹´æ•™å­¦ä¸ç ”ç©¶ç»éªŒçš„èµ„æ·±JavaæŠ€æœ¯ä¸“å®¶æ’°å†™ï¼ˆè·Joltå¤§å¥–ï¼‰ï¼Œæ˜¯ç¨‹åºå‘˜çš„ä¼˜é€‰JavaæŒ‡å—ã€‚æ— è®ºæ˜¯Javaåˆå­¦è€…è¿˜æ˜¯æœ‰ä¸€å®šç»éªŒçš„Javaå·¥ç¨‹å¸ˆï¼Œè¿™æ˜¯ä¸€æœ¬éå¸¸ä¸é”™çš„å€¼å¾—æ—¶å¸¸ç¿»é˜…çš„æŠ€æœ¯æ‰‹å†Œã€‚</li><li><a href="https://book.douban.com/subject/2130190/" target="_blank" rel="noopener">ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹</a>ï¼šä»Javaçš„åŸºç¡€è¯­æ³•åˆ°æœ€é«˜çº§ç‰¹æ€§ï¼ˆæ·±å…¥çš„é¢å‘å¯¹è±¡æ¦‚å¿µã€å¤šçº¿ç¨‹ã€è‡ªåŠ¨é¡¹ç›®æ„å»ºã€å•å…ƒæµ‹è¯•å’Œè°ƒè¯•ç­‰ï¼‰ï¼Œæœ¬ä¹¦éƒ½èƒ½é€æ­¥æŒ‡å¯¼ä½ è½»æ¾æŒæ¡ã€‚å±äºç»å…¸ä¹¦ç›®ï¼Œå¯èƒ½å¾ˆå¤šJavaæ ˆçš„ç¨‹åºçŒ¿ï¼Œéƒ½æ˜¯ä»è¿™æœ¬ä¹¦å¼€å§‹çš„ã€‚</li><li><a href="https://book.douban.com/subject/30133440/" target="_blank" rel="noopener">ã€ŠJavaç¼–ç¨‹çš„é€»è¾‘ã€‹</a>ï¼šJavaä¸“å®¶æ’°å†™ï¼ŒåŠ›æ±‚é€å½»è®²è§£æ¯ä¸ªçŸ¥è¯†ç‚¹ï¼Œé€æ­¥å»ºç«‹ç¼–ç¨‹çŸ¥è¯†å›¾è°±ã€‚æœ¬ä¹¦ä»¥Javaè¯­è¨€ä¸ºä¾‹ï¼Œç”±åŸºç¡€æ¦‚å¿µå…¥æ‰‹ï¼Œåˆ°èƒŒåå®ç°åŸç†ä¸é€»è¾‘ï¼Œå†åˆ°åº”ç”¨å®è·µï¼Œèä¼šè´¯é€šã€‚</li><li><a href="https://book.douban.com/subject/30412517/" target="_blank" rel="noopener">ã€ŠEffective Javaã€‹</a>ï¼šæ¨¡ä»¿ã€ŠEffective C++ã€‹è€Œæˆï¼Œä¸€å…±åŒ…å«90ä¸ªæ¡ç›®ï¼Œæ¯ä¸ªæ¡ç›®è®¨è®ºJavaç¨‹åºè®¾è®¡ä¸­çš„ä¸€æ¡è§„åˆ™ã€‚è¿™äº›è§„åˆ™åæ˜ äº†æœ€æœ‰ç»éªŒçš„ä¼˜ç§€ç¨‹åºå‘˜åœ¨å®è·µä¸­å¸¸ç”¨çš„ä¸€äº›æœ‰ç›Šçš„åšæ³•ã€‚å‰äººçš„ç»éªŒä¹‹ä½œï¼Œæƒ³è¦å‡é˜¶ï¼Œè¿™æœ¬ä¹¦ä¸€å®šç»•ä¸å¼€ã€‚æœ€å¥½æ˜¯çœ‹ç¬¬ä¸‰ç‰ˆçš„ï¼Œå¢åŠ äº†Java 8çš„è§„åˆ™ã€‚</li><li><a href="https://book.douban.com/subject/2000732/" target="_blank" rel="noopener">ã€ŠHead First Javaã€‹</a>ï¼šå®Œæ•´çš„é¢å‘å¯¹è±¡ï¼ˆobject-orientedï¼ŒOOï¼‰ç¨‹åºè®¾è®¡å’ŒJavaçš„å­¦ä¹ æŒ‡å¯¼ã€‚æ­¤ä¹¦æ˜¯æ ¹æ®å­¦ä¹ ç†è®ºæ‰€è®¾è®¡çš„ï¼Œè®©ä½ å¯ä»¥ä»å­¦ä¹ ç¨‹åºè¯­è¨€çš„åŸºç¡€å¼€å§‹ä¸€ç›´åˆ°åŒ…æ‹¬çº¿ç¨‹ã€ç½‘ç»œä¸åˆ†å¸ƒå¼ç¨‹åºç­‰é¡¹ç›®ã€‚æœ€é‡è¦çš„ï¼Œä½ ä¼šå­¦ä¼šå¦‚ä½•åƒä¸ªé¢å‘å¯¹è±¡å¼€å‘è€…ä¸€æ ·å»æ€è€ƒã€‚è€Œä¸”ä¸åªæ˜¯è¯»æ­»ä¹¦ï¼Œä½ è¿˜ä¼šç©æ¸¸æˆã€æ‹¼å›¾ã€è§£è°œé¢˜ä»¥åŠä»¥æ„æƒ³ä¸åˆ°çš„æ–¹å¼ä¸Javaäº¤äº’ã€‚åœ¨è¿™äº›æ´»åŠ¨ä¸­ï¼Œä½ ä¼šå†™å‡ºä¸€å †çœŸæ­£çš„Javaç¨‹åºï¼ŒåŒ…æ‹¬äº†ä¸€ä¸ªèˆ¹èˆ°ç‚®æˆ˜æ¸¸æˆå’Œä¸€ä¸ªç½‘ç»œèŠå¤©ç¨‹åºã€‚</li><li><a href="https://book.douban.com/subject/10484692/" target="_blank" rel="noopener">ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹</a>ï¼šæ·±å…¥æµ…å‡ºåœ°ä»‹ç»äº†Javaçº¿ç¨‹å’Œå¹¶å‘ï¼Œæ˜¯ä¸€æœ¬å®Œç¾çš„Javaå¹¶å‘å‚è€ƒæ‰‹å†Œã€‚ä¹¦ä¸­ä»å¹¶å‘æ€§å’Œçº¿ç¨‹å®‰å…¨æ€§çš„åŸºæœ¬æ¦‚å¿µå‡ºå‘ï¼Œä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ç±»åº“æä¾›çš„åŸºæœ¬å¹¶å‘æ„å»ºå—ï¼Œç”¨äºé¿å…å¹¶å‘å±é™©ã€æ„é€ çº¿ç¨‹å®‰å…¨çš„ç±»åŠéªŒè¯çº¿ç¨‹å®‰å…¨çš„è§„åˆ™ï¼Œå¦‚ä½•å°†å°çš„çº¿ç¨‹å®‰å…¨ç±»ç»„åˆæˆæ›´å¤§çš„çº¿ç¨‹å®‰å…¨ç±»ï¼Œå¦‚ä½•åˆ©ç”¨çº¿ç¨‹æ¥æé«˜å¹¶å‘åº”ç”¨ç¨‹åºçš„ååé‡ï¼Œå¦‚ä½•è¯†åˆ«å¯å¹¶è¡Œæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚ä½•æé«˜å•çº¿ç¨‹å­ç³»ç»Ÿçš„å“åº”æ€§ï¼Œå¦‚ä½•ç¡®ä¿å¹¶å‘ç¨‹åºæ‰§è¡Œé¢„æœŸä»»åŠ¡ï¼Œå¦‚ä½•æé«˜å¹¶å‘ä»£ç çš„æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§ç­‰å†…å®¹ï¼Œæœ€åä»‹ç»äº†ä¸€äº›é«˜çº§ä¸»é¢˜ï¼Œå¦‚æ˜¾å¼é”ã€åŸå­å˜é‡ã€éé˜»å¡ç®—æ³•ä»¥åŠå¦‚ä½•å¼€å‘è‡ªå®šä¹‰çš„åŒæ­¥å·¥å…·ç±»ã€‚</li><li><a href="https://book.douban.com/subject/26740520/" target="_blank" rel="noopener">ã€ŠJavaæ€§èƒ½æƒå¨æŒ‡å—ã€‹</a>ï¼šé€šè¿‡ä½¿ç”¨JVMå’ŒJavaå¹³å°ï¼Œä»¥åŠJavaè¯­è¨€å’Œåº”ç”¨ç¨‹åºæ¥å£ï¼Œæœ¬ä¹¦è¯¦å°½è®²è§£äº†Javaæ€§èƒ½è°ƒä¼˜çš„ç›¸å…³çŸ¥è¯†ï¼Œå¸®åŠ©è¯»è€…æ·±å…¥ç†è§£Javaå¹³å°æ€§èƒ½çš„å„ä¸ªæ–¹é¢ï¼Œæœ€ç»ˆä½¿ç¨‹åºå¦‚è™æ·»ç¿¼ã€‚</li><li><a href="https://book.douban.com/subject/34879022/" target="_blank" rel="noopener">ã€ŠJavaç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–å®æˆ˜ã€‹</a>ï¼šåŸºäºä½œè€…åœ¨å®é™…å·¥ä½œä¸­é‡åˆ°çš„ä¸ç³»ç»Ÿç›¸å…³çš„é—®é¢˜åŠè§£å†³ä¹‹é“ï¼Œé€šè¿‡æ”¹å–„ä»£ç æ¥æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œè§£å†³å› ä¸ºä»£ç å¯¼è‡´çš„ç³»ç»Ÿæ•…éšœã€‚å›½äººå†™çš„æ–°ä¹¦ä¹Ÿå¾ˆå¥½ï¼Œä¸€äº›ç»†èŠ‚ï¼Œä¸€äº›è¿‡æ—¶çš„ä¼ è¨€ï¼Œä½œè€…éƒ½ç”¨jmhç»™æµ‹äº†ã€‚</li><li><a href="https://book.douban.com/subject/35258148/" target="_blank" rel="noopener">ã€ŠJavaæ€§èƒ½ä¼˜åŒ–å®è·µï¼šJVMè°ƒä¼˜ç­–ç•¥ã€å·¥å…·ä¸æŠ€å·§ã€‹</a>ï¼šæœ¬ä¹¦ä»å®éªŒç§‘å­¦çš„è§’åº¦æ¢è®¨äº†Javaæ€§èƒ½ä¼˜åŒ–çš„æ–¹æ–¹é¢é¢ï¼Œé‡ç‚¹é˜è¿°äº†æœ€æ–°çš„å®ç”¨JVMæ€§èƒ½è°ƒä¼˜ç­–ç•¥ã€å·¥å…·å’ŒæŠ€å·§ã€‚é€šè¿‡æœ¬ä¹¦ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥äº†è§£JavaåŸç†å’ŒæŠ€æœ¯å¦‚ä½•å……åˆ†åˆ©ç”¨ç°ä»£ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿã€è¡¡é‡Javaæ€§èƒ½çš„é™·é˜±ä»¥åŠå¾®åŸºå‡†æµ‹è¯•çš„å¼Šç«¯æœ‰å“ªäº›ï¼Œè¿˜èƒ½æ·±å…¥ç ”ç©¶å¯èƒ½ä½¿å›¢é˜Ÿçƒ¦æ¼çš„å‡ ç§æ€§èƒ½æµ‹è¯•å’Œå¸¸è§åæ¨¡å¼ã€JVMåƒåœ¾æ”¶é›†ã€JITç¼–è¯‘å’ŒJavaè¯­è¨€æ€§èƒ½æŠ€æœ¯ç­‰ã€‚</li><li><a href="https://book.douban.com/subject/34949443/" target="_blank" rel="noopener">ã€ŠSpringå®æˆ˜ã€‹</a>ï¼šä¸€æœ¬ç»å…¸è€Œå®ç”¨çš„ç•…é”€Spring å­¦ä¹ æŒ‡å—ã€‚</li><li><a href="https://book.douban.com/subject/26857423/" target="_blank" rel="noopener">ã€ŠSpringBootå®æˆ˜ã€‹</a>ï¼šSpringåº”ç”¨ç¨‹åºå¼€å‘ä¸ºä¸­å¿ƒï¼Œå…¨é¢è®²è§£å¦‚ä½•è¿ç”¨Spring Bootæé«˜æ•ˆç‡ï¼Œä½¿åº”ç”¨ç¨‹åºçš„å¼€å‘å’Œç®¡ç†æ›´åŠ è½»æ¾æœ‰è¶£ã€‚</li><li><a href="https://book.douban.com/subject/26952826/" target="_blank" rel="noopener">ã€Šç²¾é€šSpring 4.xã€‹</a>ï¼šè™½ç„¶ç°åœ¨éƒ½å·²ç»æ˜¯Spring 5.xäº†ï¼Œä½†æ˜¯Springçš„åŸºç¡€å¹¶æ²¡æœ‰å˜ï¼Œæœ¬ä¹¦æŠŠåº”ç”¨å’ŒåŸç†éƒ½è®²çš„å¾ˆé€å½»ï¼ŒIoCå’ŒAOPåˆ†æçš„å¾ˆæ£’ï¼Œå¨“å¨“é“æ¥ã€‚</li><li><a href="https://book.douban.com/subject/34907497/" target="_blank" rel="noopener">ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹</a>ï¼šè¿™æ˜¯ä¸€éƒ¨ä»å·¥ä½œåŸç†å’Œå·¥ç¨‹å®è·µä¸¤ä¸ªç»´åº¦æ·±å…¥å‰–æJVMçš„è‘—ä½œï¼Œæ˜¯è®¡ç®—æœºé¢†åŸŸå…¬è®¤çš„ç»å…¸ã€‚</li><li><a href="https://book.douban.com/subject/34441840/" target="_blank" rel="noopener">ã€Šå®æˆ˜Javaè™šæ‹Ÿæœºï¼šJVMæ•…éšœè¯Šæ–­ä¸æ€§èƒ½ä¼˜åŒ–ã€‹</a>ï¼šæœ¬ä¹¦å°†é€šè¿‡200ä½™ä¸ªç¤ºä¾‹è¯¦ç»†ä»‹ç»JVMä¸­çš„å„ç§å‚æ•°é…ç½®ã€æ•…éšœæ’æŸ¥ã€æ€§èƒ½ç›‘æ§åŠæ€§èƒ½ä¼˜åŒ–ï¼Œå¸®åŠ©Javaäººçªç ´ç“¶é¢ˆã€‚</li><li><a href="https://book.douban.com/subject/34812818/" target="_blank" rel="noopener">ã€Šæ–°ä¸€ä»£åƒåœ¾å›æ”¶å™¨ZGCè®¾è®¡ä¸å®ç°ã€‹</a>ï¼šæœ‰äº†ZGCï¼Œå°±å¿˜è®°CMSï¼ŒG1ä»€ä¹ˆçš„å§ã€‚ZGC æ‰€é’ˆå¯¹çš„æ˜¯è¿™äº›åœ¨æœªæ¥æ™®éå­˜åœ¨çš„å¤§å®¹é‡å†…å­˜ï¼šTB çº§åˆ«çš„å †å®¹é‡ï¼Œå…·æœ‰å¾ˆä½çš„åœé¡¿æ—¶é—´ï¼ˆå°äº 10 æ¯«ç§’ï¼‰ï¼Œå¯¹æ•´ä½“åº”ç”¨æ€§èƒ½çš„å½±å“ä¹Ÿå¾ˆå°ï¼ˆå¯¹ååé‡çš„å½±å“ä½äº 15ï¼…ï¼‰ã€‚ZGC æ‰€é‡‡ç”¨çš„æœºåˆ¶ä¹Ÿå¯ä»¥åœ¨æœªæ¥è¿›è¡Œæ‰©å±•ï¼Œä»¥æ”¯æŒä¸€äº›ä»¤äººå…´å¥‹çš„ç‰¹æ€§ï¼Œå¦‚å¤šå±‚å †ï¼ˆç”¨äºçƒ­å¯¹è±¡çš„ DRAM å’Œç”¨äºä½é¢‘è®¿é—®å¯¹è±¡çš„ NVMe é—ªå­˜ï¼‰ã€‚</li><li><a href="https://book.douban.com/subject/35079283/" target="_blank" rel="noopener">ã€Šæ·±å…¥ç†è§£JVMå­—èŠ‚ç ã€‹</a>ï¼šè¿™æ˜¯ä¸€æœ¬æ­ç¤ºJVMå­—èŠ‚ç â€œé»‘ç§‘æŠ€â€çš„è‘—ä½œï¼Œå®ƒä»åŸç†å’Œåº”ç”¨ä¸¤ä¸ªç»´åº¦æ·±å…¥å‰–æäº†JVMå­—èŠ‚ç ã€‚ä¹¦ä¸­å†…å®¹æ¶‰åŠJVMå­—èŠ‚ç çš„å¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯ï¼Œå¦‚Javaæ€§èƒ½ä¼˜åŒ–ã€è½¯ä»¶é˜²æŠ¤ä¸ç ´è§£ã€APMç­‰ï¼Œé€šè¿‡å¤§é‡å®æˆ˜æ¡ˆä¾‹è®²è§£äº†å®ƒåœ¨è¿™äº›åœºæ™¯ä¸­çš„å®æ“æŠ€å·§ã€‚</li><li><a href="https://book.douban.com/subject/34895968/" target="_blank" rel="noopener">ã€ŠJavaå®æˆ˜ã€‹</a>ï¼šç°ä»£Javaåº”ç”¨å……åˆ†åˆ©ç”¨äº†å¾®æœåŠ¡ã€ååº”å¼æ¶æ„ä»¥åŠæµå¼æ•°æ®ç­‰åˆ›æ–°è®¾è®¡ã€‚ç°ä»£Javaç‰¹æ€§ï¼Œè­¬å¦‚Lambdaã€æµä»¥åŠå¤§å®¶æœŸå¾…å·²ä¹…çš„Javaæ¨¡å—ç³»ç»Ÿè®©è¿™äº›è®¾è®¡çš„å®ç°æå…¶ä¾¿åˆ©ã€‚æ˜¯æ—¶å€™æ›´æ–°æŠ€èƒ½å·¥å…·ç®±äº†ï¼Œåªæœ‰è¿™æ ·ï¼Œä½ æ‰èƒ½ä»å®¹åº”å¯¹è¿é¢è€Œæ¥çš„ç§ç§æŒ‘æˆ˜ï¼</li><li><a href="https://book.douban.com/subject/26772632/" target="_blank" rel="noopener">ã€ŠJava8å®æˆ˜ã€‹</a>ï¼šæœ¬ä¹¦å…¨é¢ä»‹ç»äº†Java 8 è¿™ä¸ªé‡Œç¨‹ç¢‘ç‰ˆæœ¬çš„æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬Lambdasã€æµå’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚æœ‰äº†å‡½æ•°å¼çš„ç¼–ç¨‹ç‰¹æ€§ï¼Œå¯ä»¥è®©ä»£ç æ›´ç®€æ´ï¼ŒåŒæ—¶ä¹Ÿèƒ½è‡ªåŠ¨åŒ–åœ°åˆ©ç”¨å¤šæ ¸ç¡¬ä»¶ã€‚</li><li><a href="https://book.douban.com/subject/30358019/" target="_blank" rel="noopener">ã€Šå®æˆ˜Javaé«˜å¹¶å‘ç¨‹åºè®¾è®¡ã€‹</a>ï¼šä¸»è¦ä»‹ç»åŸºäºJavaçš„å¹¶è¡Œç¨‹åºè®¾è®¡åŸºç¡€ã€æ€è·¯ã€æ–¹æ³•å’Œå®æˆ˜ã€‚ç¬¬ä¸€ï¼Œç«‹è¶³äºå¹¶å‘ç¨‹åºåŸºç¡€ï¼Œè¯¦ç»†ä»‹ç»Javaè¿›è¡Œå¹¶è¡Œç¨‹åºè®¾è®¡çš„åŸºæœ¬æ–¹æ³•ã€‚ç¬¬äºŒï¼Œè¿›ä¸€æ­¥è¯¦ç»†ä»‹ç»äº†JDKå¯¹å¹¶è¡Œç¨‹åºçš„å¼ºå¤§æ”¯æŒï¼Œå¸®åŠ©è¯»è€…å¿«é€Ÿã€ç¨³å¥åœ°è¿›è¡Œå¹¶è¡Œç¨‹åºå¼€å‘ã€‚ç¬¬ä¸‰ï¼Œè¯¦ç»†è®¨è®ºäº†â€œé”â€çš„ä¼˜åŒ–å’Œæé«˜å¹¶è¡Œç¨‹åºæ€§èƒ½çº§åˆ«çš„æ–¹æ³•å’Œæ€è·¯ã€‚ç¬¬å››ï¼Œä»‹ç»äº†å¹¶è¡Œçš„åŸºæœ¬è®¾è®¡æ¨¡å¼ï¼Œä»¥åŠJava 8/9/10å¯¹å¹¶è¡Œç¨‹åºçš„æ”¯æŒå’Œæ”¹è¿›ã€‚ç¬¬äº”ï¼Œä»‹ç»äº†é«˜å¹¶å‘æ¡†æ¶Akkaçš„ä½¿ç”¨æ–¹æ³•ã€‚ç¬¬å…­ï¼Œè¯¦ç»†ä»‹ç»äº†å¹¶è¡Œç¨‹åºçš„è°ƒè¯•æ–¹æ³•ã€‚ç¬¬ä¸ƒï¼Œåˆ†æJettyä»£ç å¹¶ç»™å‡ºä¸€äº›å…¶åœ¨é«˜å¹¶å‘ä¼˜åŒ–æ–¹é¢çš„ä¾‹å­ã€‚</li></ul><h2 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿ</h2><ul><li><a href="https://book.douban.com/subject/26912767/" target="_blank" rel="noopener">ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹</a>ï¼šè¿™æœ¬ä¹¦æ˜¯ç¨‹åºå‘˜å¿…è¯»çš„ä¸€æœ¬ä¹¦ï¼Œè¿™æœ¬ä¹¦æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä¸ºç¨‹åºå‘˜æè¿°è®¡ç®—æœºç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œå¸®åŠ©å…¶åœ¨å¤§è„‘ä¸­æ„é€ ä¸€ä¸ªå±‚æ¬¡å‹çš„è®¡ç®—æœºç³»ç»Ÿã€‚ä»æœ€åº•å±‚çš„æ•°æ®åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºåˆ°æµæ°´çº¿æŒ‡ä»¤çš„æ„æˆï¼Œåˆ°è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œåˆ°ç¼–è¯‘ç³»ç»Ÿï¼Œåˆ°åŠ¨æ€åŠ è½½åº“ï¼Œåˆ°æœ€åçš„ç”¨æˆ·æ€åº”ç”¨ã€‚é€šè¿‡æŒæ¡ç¨‹åºæ˜¯å¦‚ä½•æ˜ å°„åˆ°ç³»ç»Ÿä¸Šï¼Œä»¥åŠç¨‹åºæ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Œä½ èƒ½å¤Ÿæ›´å¥½çš„ç†è§£ç¨‹åºçš„è¡Œä¸ºä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ï¼Œä»¥åŠæ•ˆç‡åº•ä¸‹æ˜¯å¦‚ä½•é€ æˆçš„ã€‚</li><li><a href="https://book.douban.com/subject/30280001/" target="_blank" rel="noopener">ã€Šè®¡ç®—æœºç½‘ç»œã€‹</a>ï¼šç»å…¸çš„è®¡ç®—æœºç½‘ç»œæ•™æï¼Œé‡‡ç”¨ä½œè€…ç‹¬åˆ›çš„è‡ªé¡¶å‘ä¸‹æ–¹æ³•æ¥è®²æˆè®¡ç®—æœºç½‘ç»œçš„åŸç†åŠå…¶åè®®ã€‚</li><li><a href="https://book.douban.com/subject/25900403/" target="_blank" rel="noopener">ã€ŠUNIXç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹</a>ï¼šUNIXç¼–ç¨‹â€œåœ£ç»â€</li><li><a href="https://book.douban.com/subject/26434583/" target="_blank" rel="noopener">ã€ŠUNIXç½‘ç»œç¼–ç¨‹ï¼šå·1ã€‹</a>ï¼šUNIXç¼–ç¨‹â€œåœ£ç»â€</li><li><a href="https://book.douban.com/subject/4118577/" target="_blank" rel="noopener">ã€ŠUNIXç½‘ç»œç¼–ç¨‹ï¼šå·2ã€‹</a>ï¼šUNIXç¼–ç¨‹â€œåœ£ç»â€ã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¸‰æœ¬åœ£ç»ï¼Œéƒ½æ˜¯å¤§éƒ¨å¤´å¾ˆéš¾å•ƒçš„ä¹¦ï¼Œæ¯”è¾ƒæ¯ç‡¥ã€‚ä¿®è¡Œè·¯å°±æ˜¯æ¯”è¾ƒæ¯ç‡¥çš„ã€‚</li><li><a href="https://book.douban.com/subject/26825411/" target="_blank" rel="noopener">ã€ŠTCP/IPè¯¦è§£ å·1ï¼šåè®®ã€‹</a>ï¼šæœ¬ä¹¦å†…å®¹ä¸°å¯Œã€æ¦‚å¿µæ¸…æ™°ã€è®ºè¿°è¯¦å°½ï¼Œé€‚åˆä»»ä½•å¸Œæœ›ç†è§£TCP/IPåè®®å®ç°çš„äººé˜…è¯»ï¼Œæ›´æ˜¯TCP/IPé¢†åŸŸç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜çš„æƒå¨å‚è€ƒä¹¦ã€‚æ— è®ºæ˜¯åˆå­¦è€…è¿˜æ˜¯åŠŸåº•æ·±åšçš„ç½‘ç»œé¢†åŸŸé«˜æ‰‹ï¼Œæœ¬ä¹¦éƒ½æ˜¯æ¡ˆå¤´å¿…å¤‡ã€‚</li><li><a href="https://book.douban.com/subject/30387220/" target="_blank" rel="noopener">ã€ŠWiresharkæ•°æ®åŒ…åˆ†æå®æˆ˜ã€‹</a>ï¼šä»æ•°æ®åŒ…åˆ†æä¸æ•°æ®åŒ…å—…æ¢å™¨çš„åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œå¾ªåºæ¸è¿›åœ°ä»‹ç»Wiresharkçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•åŠå…¶æ•°æ®åŒ…åˆ†æåŠŸèƒ½ç‰¹æ€§ï¼ŒåŒæ—¶è¿˜ä»‹ç»äº†é’ˆå¯¹ä¸åŒåè®®å±‚ä¸æ— çº¿ç½‘ç»œçš„å…·ä½“å®è·µæŠ€æœ¯ä¸ç»éªŒæŠ€å·§ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œä½œè€…ç»“åˆå¤§é‡çœŸå®çš„æ¡ˆä¾‹ï¼Œå›¾æ–‡å¹¶èŒ‚åœ°æ¼”ç¤ºä½¿ç”¨Wiresharkè¿›è¡Œæ•°æ®åŒ…åˆ†æçš„æŠ€æœ¯æ–¹æ³•ï¼Œä½¿è¯»è€…èƒ½å¤Ÿé¡ºç€æœ¬ä¹¦æ€è·¯é€æ­¥æŒæ¡ç½‘ç»œæ•°æ®åŒ…å—…æ¢ä¸åˆ†ææŠ€èƒ½ã€‚</li><li><a href="https://book.douban.com/subject/30359954/" target="_blank" rel="noopener">ã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœï¼šåŸºç¡€å­¦ä¹ ç¯‡ã€‹</a>ï¼šè®²è§£ç»†è‡´ï¼Œæ·±å…¥æµ…å‡ºã€‚å¯ä»¥å¯¹è®¡ç®—æœºå’Œæ“ä½œç³»ç»Ÿï¼Œä»¥åŠLinuxæœ‰ä¸€ä¸ªéå¸¸å…¨é¢çš„äº†è§£ï¼Œå¹¶èƒ½å¤Ÿç®¡ç†æˆ–è€…æ“ä½œå¥½ä¸€ä¸ªLinuxç³»ç»Ÿã€‚</li><li><a href="https://book.douban.com/subject/27096665/" target="_blank" rel="noopener">ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹</a>ï¼šè¿™æœ¬ä¹¦æ˜¯æ“ä½œç³»ç»Ÿé¢†åŸŸçš„ç»å…¸ä¹‹ä½œï¼Œä¹¦ä¸­é›†ä¸­è®¨è®ºäº†æ“ä½œç³»ç»Ÿçš„åŸºæœ¬åŸç†ï¼ŒåŒ…æ‹¬è¿›ç¨‹ã€çº¿ç¨‹ã€å­˜å‚¨ç®¡ç†ã€æ–‡ä»¶ç³»ç»Ÿã€è¾“å…¥/è¾“å‡ºã€æ­»é”ç­‰ï¼ŒåŒæ—¶è¿˜åŒ…å«äº†æœ‰å…³è®¡ç®—æœºå®‰å…¨ã€å¤šåª’ä½“æ“ä½œç³»ç»Ÿã€æŒä¸Šè®¡ç®—æœºæ“ä½œç³»ç»Ÿã€å¾®å†…æ ¸ã€å¤šæ ¸å¤„ç†å™¨ä¸Šçš„è™šæ‹Ÿæœºä»¥åŠæ“ä½œç³»ç»Ÿè®¾è®¡ç­‰æ–¹é¢çš„å†…å®¹ã€‚</li><li><a href="https://book.douban.com/subject/1148282/" target="_blank" rel="noopener">ã€Šè®¡ç®—æœºç¨‹åºçš„æ„é€ å’Œè§£é‡Šã€‹</a>ï¼šåœ¨è¿‡å»çš„äºŒåå¤šå¹´é‡Œï¼Œå¯¹äºè®¡ç®—æœºç§‘å­¦çš„æ•™è‚²è®¡åˆ’äº§ç”Ÿäº†æ·±åˆ»çš„å½±å“ã€‚</li></ul><h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><ul><li><a href="https://book.douban.com/subject/3354490/" target="_blank" rel="noopener">ã€ŠMySQLå¿…çŸ¥å¿…ä¼šã€‹</a>ï¼šä¹¦ä¸­ä»ä»‹ç»ç®€å•çš„æ•°æ®æ£€ç´¢å¼€å§‹ï¼Œé€æ­¥æ·±å…¥ä¸€äº›å¤æ‚çš„å†…å®¹ï¼ŒåŒ…æ‹¬è”ç»“çš„ä½¿ç”¨ã€å­æŸ¥è¯¢ã€æ­£åˆ™è¡¨è¾¾å¼å’ŒåŸºäºå…¨æ–‡æœ¬çš„æœç´¢ã€å­˜å‚¨è¿‡ç¨‹ã€æ¸¸æ ‡ã€è§¦å‘å™¨ã€è¡¨çº¦æŸï¼Œç­‰ç­‰ã€‚</li><li><a href="https://book.douban.com/subject/24250054/" target="_blank" rel="noopener">ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹</a>ï¼šæœ¬ä¹¦æ˜¯æ·±å—ä¸–ç•Œå„åœ°è¯»è€…æ¬¢è¿çš„SQLç»å…¸ç•…é”€ä¹¦ï¼Œå†…å®¹ä¸°å¯Œï¼Œæ–‡å­—ç®€æ´æ˜å¿«ï¼Œé’ˆå¯¹Oracleã€SQL Serverã€MySQLã€DB2ã€PostgreSQLã€SQLiteç­‰å„ç§ä¸»æµæ•°æ®åº“æä¾›äº†å¤§é‡ç®€æ˜çš„å®ä¾‹ã€‚ä¸å…¶ä»–åŒç±»å›¾ä¹¦ä¸åŒï¼Œå®ƒæ²¡æœ‰è¿‡å¤šé˜è¿°æ•°æ®åº“åŸºç¡€ç†è®ºï¼Œè€Œæ˜¯ä¸“é—¨é’ˆå¯¹ä¸€çº¿è½¯ä»¶å¼€å‘äººå‘˜ï¼Œç›´æ¥ä»SQL SELECTå¼€å§‹ï¼Œè®²è¿°å®é™…å·¥ä½œç¯å¢ƒä¸­æœ€å¸¸ç”¨å’Œæœ€å¿…éœ€çš„SQLçŸ¥è¯†ï¼Œå®ç”¨æ€§æå¼ºã€‚</li><li><a href="https://book.douban.com/subject/10548379/" target="_blank" rel="noopener">ã€Šæ•°æ®åº“ç³»ç»Ÿæ¦‚å¿µã€‹</a>ï¼šæœ¬ä¹¦æ˜¯æ•°æ®åº“ç³»ç»Ÿæ–¹é¢çš„ç»å…¸æ•™æä¹‹ä¸€ï¼Œå…¶å†…å®¹ç”±æµ…å…¥æ·±ï¼Œæ—¢åŒ…å«æ•°æ®åº“ç³»ç»ŸåŸºæœ¬æ¦‚å¿µï¼Œåˆåæ˜ æ•°æ®åº“æŠ€æœ¯æ–°è¿›å±•ã€‚å®ƒè¢«å›½é™…ä¸Šè®¸å¤šè‘—åå¤§å­¦æ‰€é‡‡ç”¨ï¼ŒåŒ…æ‹¬æ–¯å¦ç¦å¤§å­¦ã€è€¶é²å¤§å­¦ã€å¾—å…‹è¨æ–¯å¤§å­¦ã€åº·å¥ˆå°”å¤§å­¦ã€ä¼Šåˆ©è¯ºä¼Šå¤§å­¦ç­‰ã€‚</li></ul><h2 id="æ•°æ®ç»“æ„ä¸ç®—æ³•"><a href="#æ•°æ®ç»“æ„ä¸ç®—æ³•" class="headerlink" title="æ•°æ®ç»“æ„ä¸ç®—æ³•"></a>æ•°æ®ç»“æ„ä¸ç®—æ³•</h2><ul><li><a href="https://book.douban.com/subject/19952400/" target="_blank" rel="noopener">ã€Šç®—æ³•ã€‹</a>ï¼šç®—æ³•é¢†åŸŸçš„ç»å…¸å‚è€ƒä¹¦ã€‚ä¸ä½†å…¨é¢ä»‹ç»äº†å…³äºç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¿…å¤‡çŸ¥è¯†ï¼Œè¿˜ç»™å‡ºäº†æ¯ä½ç¨‹åºå‘˜åº”çŸ¥åº”ä¼šçš„50ä¸ªç®—æ³•ï¼Œå¹¶æä¾›äº†å®é™…ä»£ç ã€‚æœ€ä¸é”™çš„æ˜¯ï¼Œå…¶æ·±å…¥æµ…å‡ºçš„ç®—æ³•ä»‹ç»ï¼Œè®©ä¸€äº›æ¯”è¾ƒéš¾çš„ç®—æ³•ä¹Ÿå˜å¾—å®¹æ˜“ç†è§£ã€‚å…¶ä¸­ï¼Œè¿˜æœ‰å¤§é‡çš„å›¾è§£ï¼Œè¯¦å°½çš„ä»£ç å’Œè®²è§£ã€‚</li><li><a href="https://book.douban.com/subject/26979890/" target="_blank" rel="noopener">ã€Šç®—æ³•å›¾è§£ã€‹</a>ï¼šæœ¬ä¹¦ç¤ºä¾‹ä¸°å¯Œï¼Œå›¾æ–‡å¹¶èŒ‚ï¼Œä»¥è®©äººå®¹æ˜“ç†è§£çš„æ–¹å¼é˜é‡Šäº†ç®—æ³•ï¼Œæ—¨åœ¨å¸®åŠ©ç¨‹åºå‘˜åœ¨æ—¥å¸¸é¡¹ç›®ä¸­æ›´å¥½åœ°å‘æŒ¥ç®—æ³•çš„èƒ½é‡ã€‚</li><li><a href="https://book.douban.com/subject/20432061/" target="_blank" rel="noopener">ã€Šç®—æ³•å¯¼è®ºã€‹</a>ï¼šæœ¬ä¹¦å°†ä¸¥è°¨æ€§å’Œå…¨é¢æ€§èä¸ºä¸€ä½“ï¼Œæ·±å…¥è®¨è®ºå„ç±»ç®—æ³•ï¼Œå¹¶ç€åŠ›ä½¿è¿™äº›ç®—æ³•çš„è®¾è®¡å’Œåˆ†æèƒ½ä¸ºå„ä¸ªå±‚æ¬¡çš„è¯»è€…æ¥å—ã€‚å…¨ä¹¦å„ç« è‡ªæˆä½“ç³»ï¼Œå¯ä»¥ä½œä¸ºç‹¬ç«‹çš„å­¦ä¹ å•å…ƒï¼›ç®—æ³•ä»¥è‹±è¯­å’Œä¼ªä»£ç çš„å½¢å¼æè¿°ï¼Œå…·å¤‡åˆæ­¥ç¨‹åºè®¾è®¡ç»éªŒçš„äººå°±èƒ½çœ‹æ‡‚ï¼›è¯´æ˜å’Œè§£é‡ŠåŠ›æ±‚æµ…æ˜¾æ˜“æ‡‚ï¼Œä¸å¤±æ·±åº¦å’Œæ•°å­¦ä¸¥è°¨æ€§ã€‚</li><li><a href="https://book.douban.com/subject/26302533/" target="_blank" rel="noopener">ã€Šç¼–ç¨‹ç ç‘ã€‹</a>ï¼šå†å²ä¸Šæœ€ä¼Ÿå¤§çš„è®¡ç®—æœºç§‘å­¦è‘—ä½œä¹‹ä¸€ã€‚åœ¨ä¹¦ä¸­ï¼Œä½œè€…é€‰å–è®¸å¤šå…·æœ‰å…¸å‹æ„ä¹‰çš„å¤æ‚ç¼–ç¨‹å’Œç®—æ³•é—®é¢˜ï¼Œç”ŸåŠ¨æç»˜äº†å†å²ä¸Šä¼—å¤§å¸ˆä»¬åœ¨æ¢ç´¢è§£å†³æ–¹æ¡ˆä¸­å‘ç”Ÿçš„è½¶äº‹ã€èµ°è¿‡çš„å¼¯è·¯å’Œä¸æ–­ç²¾ç›Šæ±‚ç²¾çš„å†ç¨‹ï¼Œå¼•å¯¼è¯»è€…åƒçœŸæ­£çš„ç¨‹åºå‘˜å’Œè½¯ä»¶å·¥ç¨‹å¸ˆé‚£æ ·å¯Œäºåˆ›æ–°æ€§åœ°æ€è€ƒï¼Œå¹¶é€å½»é˜è¿°å’Œæ€»ç»“äº†è®¸å¤šç‹¬ç‰¹è€Œç²¾å¦™çš„è®¾è®¡åŸåˆ™ã€æ€è€ƒå’Œè§£å†³é—®é¢˜çš„æ–¹æ³•ä»¥åŠå®ç”¨ç¨‹åºè®¾è®¡æŠ€å·§ã€‚è§£å†³æ–¹æ¡ˆçš„ä»£ç å‡ä»¥C/C++è¯­è¨€ç¼–å†™ï¼Œä¸ä»…æœ‰è¶£ï¼Œè€Œä¸”æœ‰å¾ˆå¤§çš„å®æˆ˜ç¤ºèŒƒæ„ä¹‰ã€‚æ¯ç« åæ‰€é™„ä¹ é¢˜æå…·æŒ‘æˆ˜æ€§å’Œå¯å‘æ€§ï¼Œä¹¦æœ«ç»™å‡ºäº†ç®€æ´çš„è§£ç­”ã€‚</li><li><a href="https://book.douban.com/subject/3351237/" target="_blank" rel="noopener">ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•åˆ†æï¼šJavaè¯­è¨€æè¿°ã€‹</a>ï¼šæ˜¯å›½å¤–æ•°æ®ç»“æ„ä¸ç®—æ³•åˆ†ææ–¹é¢çš„ç»å…¸æ•™æï¼Œä½¿ç”¨å“è¶Šçš„Javaç¼–ç¨‹è¯­è¨€ä½œä¸ºå®ç°å·¥å…·è®¨è®ºäº†æ•°æ®ç»“æ„ï¼ˆç»„ç»‡å¤§é‡æ•°æ®çš„æ–¹æ³•ï¼‰å’Œç®—æ³•åˆ†æï¼ˆå¯¹ç®—æ³•è¿è¡Œæ—¶é—´çš„ä¼°è®¡ï¼‰ã€‚</li></ul><h2 id="ç¼–ç¨‹ç´ å…»"><a href="#ç¼–ç¨‹ç´ å…»" class="headerlink" title="ç¼–ç¨‹ç´ å…»"></a>ç¼–ç¨‹ç´ å…»</h2><ul><li><a href="https://book.douban.com/subject/4199741/" target="_blank" rel="noopener">ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹</a>ï¼šä»£ç è´¨é‡ä¸å…¶æ•´æ´åº¦æˆæ­£æ¯”ã€‚å¹²å‡€çš„ä»£ç ï¼Œæ—¢åœ¨è´¨é‡ä¸Šè¾ƒä¸ºå¯é ï¼Œä¹Ÿä¸ºåæœŸç»´æŠ¤ã€å‡çº§å¥ å®šäº†è‰¯å¥½åŸºç¡€ã€‚ä½œä¸ºç¼–ç¨‹é¢†åŸŸçš„ä½¼ä½¼è€…ï¼Œæœ¬ä¹¦ä½œè€…ç»™å‡ºäº†ä¸€ç³»åˆ—è¡Œä¹‹æœ‰æ•ˆçš„æ•´æ´ä»£ç æ“ä½œå®è·µã€‚è¿™äº›å®è·µåœ¨æœ¬ä¹¦ä¸­ä½“ç°ä¸ºä¸€æ¡æ¡è§„åˆ™ï¼ˆæˆ–ç§°â€œå¯ç¤ºâ€ï¼‰ï¼Œå¹¶è¾…ä»¥æ¥è‡ªç°å®é¡¹ç›®çš„æ­£ã€åä¸¤é¢çš„èŒƒä¾‹ã€‚åªè¦éµå¾ªè¿™äº›è§„åˆ™ï¼Œå°±èƒ½ç¼–å†™å‡ºå¹²å‡€çš„ä»£ç ï¼Œä»è€Œæœ‰æ•ˆæå‡ä»£ç è´¨é‡ã€‚</li><li><a href="https://book.douban.com/subject/35006892/" target="_blank" rel="noopener">ã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹</a>ï¼šç”±ä¸€ç³»åˆ—çš„ç‹¬ç«‹çš„éƒ¨åˆ†ç»„æˆï¼Œæ¶µç›–çš„ä¸»é¢˜ä»ä¸ªäººè´£ä»»ã€èŒä¸šå‘å±•ï¼Œç›´åˆ°ç”¨äºä½¿ä»£ç ä¿æŒçµæ´»ã€å¹¶ä¸”æ˜“äºæ”¹ç¼–å’Œå¤ç”¨çš„å„ç§æ¶æ„æŠ€æœ¯ã€‚</li><li><a href="https://book.douban.com/subject/4262627/" target="_blank" rel="noopener">ã€Šé‡æ„ æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹</a>ï¼šé‡æ„ï¼Œä¸€è¨€ä»¥è”½ä¹‹ï¼Œå°±æ˜¯åœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œæœ‰æ¡ä¸ç´Šåœ°æ”¹å–„ä»£ç ã€‚å¤šå¹´å‰ï¼Œæ­£æ˜¯æœ¬ä¹¦åŸç‰ˆçš„å‡ºç‰ˆï¼Œä½¿é‡æ„ç»ˆäºä»ç¼–ç¨‹é«˜æ‰‹ä»¬çš„å°åœˆå­èµ°å‡ºï¼Œæˆä¸ºä¼—å¤šæ™®é€šç¨‹åºå‘˜æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚æœ¬ä¹¦ä¹Ÿå› æ­¤æˆä¸ºä¸ã€Šè®¾è®¡æ¨¡å¼ã€‹é½åçš„ç»å…¸è‘—ä½œï¼Œè¢«è¯‘ä¸ºä¸­ã€å¾·ã€ä¿„ã€æ—¥ç­‰ä¼—å¤šè¯­è¨€ï¼Œåœ¨ä¸–ç•ŒèŒƒå›´å†…ç•…é”€ä¸è¡°ã€‚</li><li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="noopener">ã€Šè®¾è®¡æ¨¡å¼ã€‹</a>ï¼šè¿™æœ¬ä¹¦ç»“åˆè®¾è®¡å®ä½œä¾‹ä»é¢å‘å¯¹è±¡çš„è®¾è®¡ä¸­ç²¾é€‰å‡º23ä¸ªè®¾è®¡æ¨¡å¼ï¼Œæ€»ç»“äº†é¢å‘å¯¹è±¡è®¾è®¡ä¸­æœ€æœ‰ä»·å€¼çš„ç»éªŒï¼Œå¹¶ä¸”ç”¨ç®€æ´å¯å¤ç”¨çš„å½¢å¼è¡¨è¾¾å‡ºæ¥ã€‚ä¹¦ä¸­åˆ†ç±»æè¿°äº†ä¸€ç»„è®¾è®¡è‰¯å¥½ã€è¡¨è¾¾æ¸…æ¥šçš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼åœ¨å®ç”¨ç¯å¢ƒä¸‹ç‰¹åˆ«æœ‰ç”¨ã€‚æ­¤ä¹¦é€‚åˆå¤§å­¦è®¡ç®—æœºä¸“ä¸šçš„å­¦ç”Ÿã€ç ”ç©¶ç”ŸåŠç›¸å…³äººå‘˜å‚è€ƒã€‚</li><li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="noopener">ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹</a>ï¼šä¸€æœ¬è®¾è®¡æ¨¡å¼å…¥é—¨ä¹¦ç±ï¼Œç”¨å®é™…çš„ç¼–ç¨‹æ¡ˆä¾‹è®²è§£ç®—æ³•è®¾è®¡ä¸­ä¼šé‡åˆ°çš„å„ç§é—®é¢˜å’Œéœ€æ±‚å˜æ›´ï¼Œå¹¶ä»¥æ­¤é€æ­¥æ¨å¯¼å‡ºè‰¯å¥½çš„è®¾è®¡æ¨¡å¼è§£å†³åŠæ³•ã€‚</li><li><a href="https://book.douban.com/subject/35157817/" target="_blank" rel="noopener">ã€Šè®¾è®¡æ¨¡å¼å°±è¯¥è¿™æ ·å­¦ï¼šåŸºäºç»å…¸æ¡†æ¶æºç å’ŒçœŸå®ä¸šåŠ¡åœºæ™¯ã€‹</a>ï¼šæœ¬ä¹¦ä»è½¯ä»¶æ¶æ„è®¾è®¡å¿…å¤‡çš„é€šç”¨æŠ€èƒ½UMLå¼€å§‹ï¼Œé‡ç‚¹ä»‹ç»å¸¸ç”¨çš„ç±»å›¾å’Œæ—¶åºå›¾ï¼›ç„¶åä»‹ç»è½¯ä»¶æ¶æ„è®¾è®¡å¸¸ç”¨çš„ä¸ƒå¤§åŸåˆ™ï¼›æ¥ç€ç»“åˆJDKã€Springã€MyBatisã€Tomcatã€Nettyç­‰ç»å…¸æ¡†æ¶æºç å¯¹GoFçš„23ç§è®¾è®¡æ¨¡å¼å±•å¼€åˆ†æï¼Œå¹¶ç»“åˆä½œè€…å¤šå¹´â€œè¸©å‘å¡«å‘â€å’Œâ€œæ•™å­¦ç­”ç–‘â€ç»éªŒï¼Œç”¨æ·±åˆ»ã€å…¨é¢ã€é€šä¿—ã€ç”ŸåŠ¨ã€æœ‰è¶£ã€æ¥åœ°æ°”çš„æ–¹å¼ç»“åˆçœŸå®ä¸šåŠ¡åœºæ™¯åˆ†ææ¯ç§è®¾è®¡æ¨¡å¼ï¼Œæ²»æ„ˆâ€œè®¾è®¡æ¨¡å¼é€‰æ‹©å›°éš¾ç—‡â€ï¼›ä¹‹åä»‹ç»4ç§å¸¸ç”¨çš„æ–°è®¾è®¡æ¨¡å¼ï¼›æœ€åæ€»ç»“è½¯ä»¶æ¶æ„ã€è®¾è®¡æ¨¡å¼ä¸åº”ç”¨æ¡†æ¶ä¹‹é—´çš„åŒºåˆ«ã€‚</li><li><a href="https://book.douban.com/subject/1477390/" target="_blank" rel="noopener">ã€Šä»£ç å¤§å…¨ã€‹</a>ï¼šä¸€æœ¬å®Œæ•´çš„è½¯ä»¶æ„å»ºæ‰‹å†Œï¼Œæ¶µç›–äº†è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­çš„æ‰€æœ‰ç»†èŠ‚ã€‚å®ƒä»è½¯ä»¶è´¨é‡å’Œç¼–ç¨‹æ€æƒ³ç­‰æ–¹é¢è®ºè¿°äº†è½¯ä»¶æ„å»ºçš„å„ä¸ªé—®é¢˜ï¼Œå¹¶è¯¦ç»†è®ºè¿°äº†ç´§è·Ÿæ½®æµçš„æ–°æŠ€æœ¯ã€é«˜å±‹å»ºç“´çš„è§‚ç‚¹ã€é€šç”¨çš„æ¦‚å¿µï¼Œè¿˜å«æœ‰ä¸°å¯Œè€Œå…¸å‹çš„ç¨‹åºç¤ºä¾‹ã€‚è¿™æœ¬ä¹¦ä¸­æ‰€è®ºè¿°çš„æŠ€æœ¯ä¸ä»…å¡«è¡¥äº†åˆçº§ä¸é«˜çº§ç¼–ç¨‹æŠ€æœ¯ä¹‹é—´çš„ç©ºç™½ï¼Œè€Œä¸”ä¹Ÿä¸ºç¨‹åºå‘˜ä»¬æä¾›äº†ä¸€ä¸ªæœ‰å…³ç¼–ç¨‹æŠ€å·§çš„ä¿¡æ¯æ¥æºã€‚è¿™æœ¬ä¹¦å¯¹ç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜ã€æŠ€æœ¯å¸¦å¤´äººã€è‡ªå­¦çš„ç¨‹åºå‘˜åŠå‡ ä¹ä¸æ‡‚å¤ªå¤šç¼–ç¨‹æŠ€å·§çš„å­¦ç”Ÿä»¬éƒ½æ˜¯å¤§æœ‰è£¨ç›Šçš„ã€‚å¯ä»¥è¯´ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆèƒŒæ™¯çš„è¯»è€…ï¼Œé˜…è¯»è¿™æœ¬ä¹¦éƒ½æœ‰åŠ©äºåœ¨æ›´çŸ­çš„æ—¶é—´å†…ã€æ›´å®¹æ˜“åœ°å†™å‡ºæ›´å¥½çš„ç¨‹åºã€‚</li><li><a href="https://book.douban.com/subject/35088343/" target="_blank" rel="noopener">ã€Šç¼–ç¨‹çš„åŸåˆ™ï¼šæ”¹å–„ä»£ç è´¨é‡çš„101ä¸ªæ–¹æ³•ã€‹</a>ï¼šæœ¬ä¹¦ä»‹ç»äº†è½¯ä»¶å¼€å‘é¢†åŸŸ101ä¸ªé‡è¦çš„ç¼–ç¨‹åŸåˆ™ï¼Œæ¶‰åŠç¼–ç¨‹ä¸­çš„æ°¸æ’çœŸç†ï¼ŒæŒ‡å¯¼æ–¹é’ˆï¼Œç¼–ç¨‹æ€æƒ³ï¼Œç¨‹åºå‘˜çš„è§†è§’ã€ä¹ æƒ¯å’Œå·¥å…·ï¼Œä»¥åŠç¼–ç¨‹çš„åæ¨¡å¼ç­‰å†…å®¹ã€‚ä¹¦ä¸­ä»¥â€œè¿™ä¸ªåŸåˆ™æ˜¯ä»€ä¹ˆâ€â€œä¸ºä»€ä¹ˆè¦éµå¾ªè¿™ä¸ªåŸåˆ™â€â€œå…·ä½“åº”è¯¥æ€ä¹ˆåšâ€ä¸ºä¸­å¿ƒï¼Œå¯¹å„ä¸ªåŸåˆ™è¿›è¡Œä»‹ç»ï¼Œç®€æ˜æ‰¼è¦ï¼Œé€šä¿—æ˜“æ‡‚ã€‚è¿™äº›åŸåˆ™å‡èšäº†å‰äººçš„æ™ºæ…§ï¼Œç»è¿‡äº†å†å²çš„è€ƒéªŒï¼Œæ˜¯æŒ‡å¯¼ç¨‹åºå‘˜æ”¹å–„ä»£ç ã€è¿›ä¸€æ­¥æå‡ç¼–ç¨‹èƒ½åŠ›çš„å®ç”¨æŒ‡å—ã€‚</li></ul><h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><ul><li><a href="https://book.douban.com/subject/30443578/" target="_blank" rel="noopener">ã€Šè½¯ä»¶æ¶æ„è®¾è®¡ã€‹</a>ï¼šå›´ç»•è½¯ä»¶æ¶æ„è®¾è®¡ï¼Œç³»ç»ŸåŒ–åœ°æ¢³ç†æŠ€æœ¯æ¶æ„ä¸ä¸šåŠ¡æ¶æ„çš„æ–¹æ³•è®ºä¸å®è·µã€‚</li><li><a href="https://book.douban.com/subject/35217473/" target="_blank" rel="noopener">ã€Šæ¶æ„å¸ˆä¿®ç‚¼ä¹‹é“ï¼šæ€ç»´ã€æ–¹æ³•ä¸å®è·µã€‹</a>ï¼šä½œè€…ç»“åˆå¤šå¹´çš„æ¶æ„å­¦ä¹ å’Œé¡¹ç›®å¼€å‘ç»éªŒï¼Œæ€»ç»“å‡ºä¸€å¥—æ¶æ„å­¦ä¹ çš„ä½“ç³»ï¼Œä»æŠ€æœ¯æ–¹æ³•ã€æ€ç»´æ„è¯†ã€å·¥å…·ç­‰æ–¹é¢è®²è§£åšå¥½äº’è”ç½‘åç«¯æ¶æ„è®¾è®¡çš„ç›¸å…³çŸ¥è¯†ã€‚é€šè¿‡ç›¸å…³çŸ¥è¯†çš„å­¦ä¹ ï¼Œè¯»è€…èƒ½å¤ŸæŒæ¡è®¾è®¡ç¨³å®šã€æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•çš„è½¯ä»¶æ¶æ„çš„æ–¹æ³•ï¼Œä¹Ÿèƒ½å¤Ÿæå‡æ—¥å¸¸ç»´æŠ¤å·²æœ‰é¡¹ç›®çš„èƒ½åŠ›ã€‚ä¹¦ä¸­è®²è§£çš„æŠ€æœ¯æ–¹æ³•å…·æœ‰é€šç”¨æ€§ï¼Œåœ¨å…¶ä»–éäº’è”ç½‘è¡Œä¸šçš„è½¯ä»¶å¼€å‘ä¸­ï¼Œä¹Ÿå…·æœ‰å€Ÿé‰´æ„ä¹‰ã€‚</li><li><a href="https://book.douban.com/subject/34960995/" target="_blank" rel="noopener">ã€Šå‘å¸ƒï¼è®¾è®¡ä¸éƒ¨ç½²ç¨³å®šçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‹</a>ï¼šä½œè€…æ ¹æ®è‡ªå·±çš„äº²èº«ç»å†å’ŒæŸäº›å¤§å‹ä¼ä¸šçš„æ¡ˆä¾‹ï¼Œè®²è¿°äº†å¦‚ä½•åˆ›å»ºé«˜ç¨³å®šæ€§çš„è½¯ä»¶ç³»ç»Ÿï¼Œåˆ†æäº†è®¾è®¡å’Œå®ç°ä¸­å¯¼è‡´ç³»ç»Ÿå‡ºç°é—®é¢˜çš„åŸå› ã€‚</li><li><a href="https://book.douban.com/subject/35178755/" target="_blank" rel="noopener">ã€Šå¯ä¼¸ç¼©æ¶æ„ï¼šäº‘ç¯å¢ƒä¸‹çš„é«˜å¯ç”¨ä¸é£é™©ç®¡ç†ã€‹</a>ï¼šä¸€æœ¬å…³äºç°ä»£åŒ–è½¯ä»¶æ¶æ„çš„ä¹¦ã€‚ä¹¦ä¸­ä»‹ç»äº†å¦‚ä½•æ„å»ºå’Œæ›´æ–°ä½ çš„å…³é”®åº”ç”¨ç¨‹åºæ¥æ»¡è¶³æ—¥ç›Šè‹›åˆ»çš„æ•°å­—åŒ–å®¢æˆ·çš„éœ€æ±‚ã€‚ä¹¦ä¸­è¿˜ä»‹ç»äº†å¦‚ä½•å®ç°é«˜å¯ç”¨æ€§ï¼Œå¦‚ä½•ä½¿ç”¨ç°ä»£åŒ–çš„å¼€å‘å’Œè¿ç»´æŠ€æœ¯æ¥æ¶æ„åº”ç”¨ç¨‹åºï¼Œå¦‚ä½•ç»„ç»‡å¼€å‘å›¢é˜Ÿå¸®åŠ©åº”ç”¨ç¨‹åºå’Œä¸šåŠ¡è·å¾—æˆåŠŸï¼Œå¦‚ä½•å°†ç³»ç»Ÿæ‰©å±•åˆ°æœ€å¤§è§„æ¨¡ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨äº‘è®¡ç®—çš„å¯ç”¨èµ„æºæ¥è¿æ¥ä¸Šè¿°æŒ‘æˆ˜ã€‚</li><li><a href="https://book.douban.com/subject/35030121/" target="_blank" rel="noopener">ã€Šæºç¨‹æ¶æ„å®è·µã€‹</a>ï¼šæœ¬ä¹¦æµ“ç¼©äº†æºç¨‹å…¬å¸çš„æ•´ä¸ªæŠ€æœ¯æ¶æ„ï¼Œå¯ä»¥å¸®åŠ©è¯»è€…äº†è§£æ”¯æ’‘ä¸€å®¶å¤§å‹ä¼ä¸šæ‰€éœ€è¦çš„æ ¸å¿ƒæŠ€æœ¯äº§å“ï¼Œä»¥åŠå®ƒä»¬çš„æ¶æ„å’Œé¢ä¸´çš„æŒ‘æˆ˜ã€‚</li><li><a href="https://book.douban.com/subject/35062026/" target="_blank" rel="noopener">ã€Šæ¶æ„å¸ˆåº”è¯¥çŸ¥é“çš„37ä»¶äº‹ã€‹</a>ï¼šæœ¬ä¹¦æ±‡é›†äº†ä¸€åæ¶æ„å¸ˆ20å¤šå¹´æ¥åœ¨å…¨çƒå„å¤§ä¼ä¸šä»»èŒçš„ç»éªŒï¼Œå…±åˆ†ä¸º5ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«å¯¹åº”åœ¨å¸®åŠ©å¤§å‹ä¼ä¸šè¿›è¡ŒITè½¬å‹çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å¸­æ¶æ„å¸ˆå¿…é¡»é«˜æ•ˆå¤„ç†çš„5ä¸ªæ–¹é¢ï¼šä¼ä¸šæˆ–ITæ¶æ„å¸ˆçš„è§’è‰²å’Œèƒ½åŠ›ã€æ¶æ„å·¥ä½œåœ¨å¤§å‹ä¼ä¸šä¸­çš„ä»·å€¼ã€ä¸å„ç§å¹²ç³»äººçš„æ²Ÿé€šã€å¯¹ç»„ç»‡ç»“æ„å’Œç³»ç»Ÿçš„ç†è§£ã€å¯¹ä¼ ç»Ÿç»„ç»‡è¿›è¡Œè½¬å‹ã€‚æœ¬ä¹¦ç§‘å­¦è€Œç³»ç»Ÿåœ°å½’çº³å‡ºè½¯ä»¶æ¶æ„å¸ˆåº”è¯¥å…·å¤‡çš„å®Œæ•´èƒ½åŠ›æ¨¡å‹ï¼Œä¸ä»…å¸®åŠ©è½¯ä»¶å¼€å‘äººå‘˜ç³»ç»Ÿåœ°å­¦ä¹ å¦‚ä½•æŒæ¡è¿™37é¡¹æŠ€èƒ½ï¼Œè€Œä¸”è¿˜èƒ½è®©ä»–ä»¬è¿›ä¸€æ­¥ç†è§£è½¯ä»¶æ¶æ„å¸ˆçš„è§’è‰²å’Œæœ¬è´¨ï¼Œä½¿ä»–ä»¬æœ€ç»ˆçªç ´æŠ€æœ¯â€œå¤©èŠ±æ¿â€ï¼Œæˆä¸ºä¸€ååˆæ ¼çš„è½¯ä»¶æ¶æ„å¸ˆã€‚</li><li><a href="https://book.douban.com/subject/26772677/" target="_blank" rel="noopener">ã€Šå¾®æœåŠ¡è®¾è®¡ã€‹</a>ï¼šæœ¬ä¹¦å…¨é¢ä»‹ç»äº†å¾®æœåŠ¡çš„å»ºæ¨¡ã€é›†æˆã€æµ‹è¯•ã€éƒ¨ç½²å’Œç›‘æ§ï¼Œé€šè¿‡ä¸€ä¸ªè™šæ„çš„å…¬å¸è®²è§£äº†å¦‚ä½•å»ºç«‹å¾®æœåŠ¡æ¶æ„ã€‚</li><li><a href="https://book.douban.com/subject/35092430/" target="_blank" rel="noopener">ã€Šå¾®æœåŠ¡æ²»ç†ï¼šä½“ç³»ã€æ¶æ„åŠå®è·µã€‹</a>ï¼šåœ¨å¾®æœåŠ¡æŠ€æœ¯æµè¡Œçš„å½“ä¸‹ï¼Œä¼ä¸šåœ¨å®æ–½å¾®æœåŠ¡æ¶æ„çš„æ—¶å€™ï¼Œä¼šå¯¹æ•´ä¸ªç ”å‘ä½“ç³»ï¼ŒåŒ…æ‹¬å¼€å‘ã€è¿ç»´ã€å›¢é˜Ÿç»„ç»‡ã€ååŒéƒ½å¸¦æ¥å†²å‡»ã€‚å› æ­¤å¿…é¡»æ„å»ºèµ·ä¸€æ•´å¥—ä»¥æœåŠ¡æ²»ç†ä¸ºæ ¸å¿ƒã€ä»çº¿ä¸‹åˆ°çº¿ä¸Šçš„æ–°çš„èƒ½åŠ›ä½“ç³»æ¥æ”¯æ’‘è¿™å¥—æ–°çš„æ¶æ„æŠ€æœ¯ï¼Œå¦åˆ™å¾ˆéš¾ä¿è¯å¾®æœåŠ¡æ¶æ„çš„é¡ºç•…è½åœ°ã€‚ æœ¬ä¹¦æ˜¯ä½œè€…å¤šå¹´æœåŠ¡æ²»ç†ç»éªŒæ€»ç»“ï¼Œå¸Œæœ›èƒ½å¤Ÿç»™ä»åœ¨ï¼ˆå¾®ï¼‰æœåŠ¡æ²»ç†è¿·å±€ä¸­å¤ºè·¯ç‹‚å¥”çš„è®¡ç®—æœºæŠ€æœ¯äººå‘˜ä¸€ç‚¹å¯å‘å’ŒæŒ‡å¼•ã€‚</li><li><a href="https://book.douban.com/subject/34801161/" target="_blank" rel="noopener">ã€Šä¼ä¸šçº§ä¸šåŠ¡æ¶æ„è®¾è®¡ï¼šæ–¹æ³•è®ºä¸å®è·µã€‹</a>ï¼šä½œè€…æ˜¯ä¸€ä½èµ„æ·±çš„ä¸šåŠ¡æ¶æ„å¸ˆï¼Œåœ¨é‡‘èè¡Œä¸šå·¥ä½œè¶…è¿‡19å¹´ï¼Œæœ‰ä¸°å¯Œçš„å¤§è§„æ¨¡å¤æ‚é‡‘èç³»ç»Ÿä¸šåŠ¡æ¶æ„è®¾è®¡å’Œè½åœ°å®æ–½ç»éªŒã€‚ä½œè€…åœ¨ä¹¦ä¸­å€¡å¯¼â€œçŸ¥è¡Œåˆä¸€â€çš„ä¸šåŠ¡æ¶æ„æ€æƒ³ï¼Œå…¨ä¹¦å†…å®¹å›´ç»•â€œè¡Œçº¿â€å’Œâ€œçŸ¥çº¿â€ä¸¤æ¡ä¸»çº¿å±•å¼€ã€‚â€œè¡Œçº¿â€æ¶µç›–ä¼ä¸šçº§ä¸šåŠ¡æ¶æ„çš„æˆ˜ç•¥åˆ†æã€æ¶æ„è®¾è®¡ã€æ¶æ„è½åœ°ã€é•¿æœŸç®¡ç†çš„å®Œæ•´è¿‡ç¨‹ï¼Œâ€œçŸ¥çº¿â€åˆ™é‡ç‚¹å…³æ³¨æ¶æ„æ–¹æ³•è®ºçš„æŒç»­æ”¹è‰¯ã€‚</li><li><a href="https://book.douban.com/subject/30333919/" target="_blank" rel="noopener">ã€Šæ¶æ„æ•´æ´ä¹‹é“ã€‹</a>ï¼šåˆ›é€ â€œCleanç¥è¯â€çš„Bobå¤§å”åœ¨æ¶æ„é¢†åŸŸçš„ç™»å³°ä¹‹ä½œï¼Œå›´ç»•â€œæ¶æ„æ•´æ´â€è¿™ä¸€é‡è¦å¯¼å‘ï¼Œç³»ç»Ÿåœ°å‰–æå…¶ç¼˜èµ·ã€å†…æ¶µåŠåº”ç”¨åœºæ™¯ï¼Œæ¶µç›–è½¯ä»¶ç ”å‘å®Œæ•´è¿‡ç¨‹åŠæ‰€æœ‰æ ¸å¿ƒæ¶æ„æ¨¡å¼ã€‚</li><li><a href="https://book.douban.com/subject/26819666/" target="_blank" rel="noopener">ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼šè½¯ä»¶æ ¸å¿ƒå¤æ‚æ€§åº”å¯¹ä¹‹é“ã€‹</a>ï¼šå…¨ä¹¦å›´ç»•ç€è®¾è®¡å’Œå¼€å‘å®è·µï¼Œç»“åˆè‹¥å¹²çœŸå®çš„é¡¹ç›®æ¡ˆä¾‹ï¼Œå‘è¯»è€…é˜è¿°å¦‚ä½•åœ¨çœŸå®çš„è½¯ä»¶å¼€å‘ä¸­åº”ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡ã€‚ä¹¦ä¸­ç»™å‡ºäº†é¢†åŸŸé©±åŠ¨è®¾è®¡çš„ç³»ç»ŸåŒ–æ–¹æ³•ï¼Œå¹¶å°†äººä»¬æ™®éæ¥å—çš„ä¸€äº›æœ€ä½³å®è·µç»¼åˆåˆ°ä¸€èµ·ï¼Œèå…¥äº†ä½œè€…çš„è§è§£å’Œç»éªŒï¼Œå±•ç°äº†ä¸€äº›å¯æ‰©å±•çš„è®¾è®¡æœ€ä½³å®è·µã€å·²éªŒè¯è¿‡çš„æŠ€æœ¯ä»¥åŠä¾¿äºåº”å¯¹å¤æ‚é¢†åŸŸçš„è½¯ä»¶é¡¹ç›®å¼€å‘çš„åŸºæœ¬åŸåˆ™ã€‚</li></ul><h2 id="æŒç»­äº¤ä»˜"><a href="#æŒç»­äº¤ä»˜" class="headerlink" title="æŒç»­äº¤ä»˜"></a>æŒç»­äº¤ä»˜</h2><ul><li><a href="https://book.douban.com/subject/6862062/" target="_blank" rel="noopener">ã€ŠæŒç»­äº¤ä»˜ï¼šå‘å¸ƒå¯é è½¯ä»¶çš„ç³»ç»Ÿæ–¹æ³•ã€‹</a>ï¼šè®²è¿°å¦‚ä½•å®ç°æ›´å¿«ã€æ›´å¯é ã€ä½æˆæœ¬çš„è‡ªåŠ¨åŒ–è½¯ä»¶äº¤ä»˜ï¼Œæè¿°äº†å¦‚ä½•é€šè¿‡å¢åŠ åé¦ˆï¼Œå¹¶æ”¹è¿›å¼€å‘äººå‘˜ã€æµ‹è¯•äººå‘˜ã€è¿ç»´äººå‘˜å’Œé¡¹ç›®ç»ç†ä¹‹é—´çš„åä½œæ¥è¾¾åˆ°è¿™ä¸ªç›®æ ‡ã€‚</li><li><a href="https://book.douban.com/subject/30419555/" target="_blank" rel="noopener">ã€ŠæŒç»­äº¤ä»˜2.0ã€‹</a>ï¼šæœ¬ä¹¦é‡æ–°å®šä¹‰äº†â€œæŒç»­äº¤ä»˜â€ï¼Œå¢è¡¥äº†ç»„ç»‡ç®¡ç†å’Œç³»ç»Ÿæ¶æ„ä¸¤ä¸ªç»´åº¦ï¼Œå¹¶è¾…åŠ©ä»¥çœŸå®æ¡ˆä¾‹ï¼Œå¯¹è¯¸å¤šæŒç»­äº¤ä»˜åŸåˆ™ä¸å®è·µåŠ ä»¥è§£è¯»ï¼Œå¹¶å¯¹æŒç»­äº¤ä»˜è¿‡ç¨‹ä¸­çš„å®è·µå–èˆä¹‹é“åŠ ä»¥è®ºè¿°ã€‚</li><li><a href="https://book.douban.com/subject/26979886/" target="_blank" rel="noopener">ã€Šå­¦ä¹ æ•æ·ï¼šæ„å»ºé«˜æ•ˆå›¢é˜Ÿã€‹</a>ï¼šæœ¬ä¹¦ä»¥æ•æ·è½¯ä»¶å¼€å‘ä¸ºä¸­å¿ƒï¼Œç³»ç»Ÿé˜è¿°äº†æ•æ·åŸåˆ™å’Œå®è·µçš„å…ˆè¿›ç†å¿µå’Œé‡è¦æ„ä¹‰ï¼Œå¹¶åˆ†åˆ«è®²è§£äº†Scrumã€æé™ç¼–ç¨‹ã€ç²¾ç›Šå’Œçœ‹æ¿å››å¥—æ•æ·å®è·µçš„åº”ç”¨ã€‚ä½œè€…ä»å¼€å‘å›¢é˜Ÿçš„æ—¥å¸¸å›°å¢ƒå…¥æ‰‹ï¼Œç”¨è®²æ•…äº‹çš„å½¢å¼å±•å¼€é—®é¢˜ï¼Œç”±è¡¨åŠé‡Œï¼Œå±‚å±‚è®²è§£ï¼Œå¹¶åœ¨æ¯ä¸€ç« æœ€åé™„ä¸Šå‚è€ƒä¹¦ï¼Œä¾¿äºè¯»è€…è¿›ä¸€æ­¥æŸ¥æ‰¾å­¦ä¹ ã€‚æœ¬ä¹¦å†…å®¹ç”ŸåŠ¨ï¼Œè¯­è¨€é€šä¿—æ˜“æ‡‚ï¼Œé›†è¶£å‘³æ€§å’Œå®ç”¨æ€§äºä¸€ä½“ï¼Œæ˜¯å­¦ä¹ æ•æ·å¼€å‘ã€æå‡å›¢é˜Ÿæ•ˆç‡çš„æä½³å‚è€ƒä¹¦ã€‚</li><li><a href="https://book.douban.com/subject/26875239/" target="_blank" rel="noopener">ã€ŠSRE: Googleè¿ç»´è§£å¯†ã€‹</a>ï¼šGoogle SREçš„å…³é”®æˆå‘˜è§£é‡Šäº†ä»–ä»¬æ˜¯å¦‚ä½•å¯¹è½¯ä»¶è¿›è¡Œç”Ÿå‘½å‘¨æœŸçš„æ•´ä½“æ€§å…³æ³¨çš„ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¿™æ ·åšèƒ½å¤Ÿå¸®åŠ©GoogleæˆåŠŸåœ°æ„å»ºã€éƒ¨ç½²ã€ç›‘æ§å’Œè¿ç»´ä¸–ç•Œä¸Šç°å­˜æœ€å¤§çš„è½¯ä»¶ç³»ç»Ÿã€‚</li><li><a href="https://book.douban.com/subject/30219010/" target="_blank" rel="noopener">ã€Šè¿›åŒ–ï¼šè¿ç»´æŠ€æœ¯å˜é©ä¸å®è·µæ¢ç´¢ã€‹</a>ï¼šæœ¬ä¹¦ä¾æ‰˜ä½œè€…åœ¨ç”µä¿¡å’Œäº’è”ç½‘è¡Œä¸šå¤šå¹´çš„ä»ä¸šç»å†ï¼Œç»“åˆä¸€çº¿å®é™…å·¥ä½œå®è·µï¼Œä»åº”ç”¨ç”Ÿå‘½å‘¨æœŸçš„è§†è§’ï¼Œå…¨é¢è¯¦ç»†åœ°ä»‹ç»äº†åˆ†å¸ƒå¼æ¶æ„ä½“ç³»ä¸‹ï¼Œåº”ç”¨è¿ç»´ä½“ç³»å»ºè®¾çš„æ–¹æ–¹é¢é¢ï¼Œæ¶µç›–äº†ä½“ç³»å»ºè®¾æ–¹æ³•è®ºæŒ‡å¯¼ã€æŒç»­äº¤ä»˜ä½“ç³»å»ºè®¾æ€è·¯å’Œå®è·µã€ç¨³å®šæ€§ä½“ç³»è§„åˆ’å»ºè®¾ï¼Œä»¥åŠæ•…éšœçš„ç§‘å­¦ç®¡ç†æ–¹æ³•ç­‰å†…å®¹ï¼Œè§†è§’æ–°é¢–ä¸”ç‹¬ç‰¹ï¼Œæ¢ä¸€ä¸ªè§’åº¦çœ‹è¿ç»´ï¼Œèƒ½å¤Ÿå¸¦ç»™è¯»è€…ä¸ä¸€æ ·çš„æ€è€ƒæ–¹å¼ã€‚</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li>å·¦è€³æœµè€—å­åœ¨ã€Šç¨‹åºå‘˜ç»ƒçº§æ”»ç•¥ã€‹æ¨èçš„å¿…è¯»ä¹¦ç±æ¸…å•ï¼Œå…³æ³¨ã€å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ã€‘ï¼Œå›å¤â€œå·¦è€³â€é¢†å–ã€‚å¦‚æœæƒ³è¦ä»˜è´¹è®¢é˜…ã€Šå·¦è€³å¬é£ã€‹ï¼Œå¯ä»¥ç‚¹<a href="http://gk.link/a/10sq6" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œè´­ä¹°æˆåŠŸçš„è¯åœ¨å…¬ä¼—å·ç•™è¨€æ‰¾æˆ‘è¿”ç°ã€‚</li><li><a href="https://mp.weixin.qq.com/s/U6CMqnT074__x8BFbZy0_w" target="_blank" rel="noopener">æ±Ÿå—ç™½è¡£çš„ä¹¦å•</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼š<a href="http://static.howardliu.cn/about/kanshanshuo.png" target="_blank" rel="noopener">çœ‹å±±çš„å°å±‹</a>ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/lists-book-recommendations-2021/">ç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆ</a><br>CSDN ä¸»é¡µï¼š<a href="http://blog.csdn.net/liuxinghao" target="_blank" rel="noopener">http://blog.csdn.net/liuxinghao</a><br>CSDN åšæ–‡ï¼š<a href="https://blog.csdn.net/liuxinghao/article/details/117727787" target="_blank" rel="noopener">ç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆ</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      ä»Šå¤©åˆ—ä¸€ä¸‹æŠ€æœ¯ç›¸å…³çš„ä¹¦å•ï¼Œæœ¬æ–‡æ˜¯ç¬¬ä¸€ç‰ˆï¼Œåç»­æŒç»­æ›´æ–°ã€‚
    
    </summary>
    
    
      <category term="ä¹¦å•" scheme="https://www.howardliu.cn/categories/%E4%B9%A6%E5%8D%95/"/>
    
    
      <category term="é—²èŠ" scheme="https://www.howardliu.cn/tags/%E9%97%B2%E8%81%8A/"/>
    
      <category term="ä¹¦å•" scheme="https://www.howardliu.cn/tags/%E4%B9%A6%E5%8D%95/"/>
    
      <category term="æŠ€æœ¯æˆé•¿" scheme="https://www.howardliu.cn/tags/%E6%8A%80%E6%9C%AF%E6%88%90%E9%95%BF/"/>
    
  </entry>
  
  <entry>
    <title>Geek é’å¹´è¯´åŒ—äº¬æ²™é¾™åˆ†äº«</title>
    <link href="https://www.howardliu.cn/geek-talk-20210523/"/>
    <id>https://www.howardliu.cn/geek-talk-20210523/</id>
    <published>2021-05-31T06:28:34.000Z</published>
    <updated>2021-05-31T06:28:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://static.howardliu.cn/cover/hybrid-6274156_1920.jpg" alt="Geek é’å¹´è¯´åŒ—äº¬æ²™é¾™åˆ†äº«"></p><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ã€‚</p><p>5 æœˆ 23 å·å‚åŠ äº† infoQ å†™ä½œå¹³å°ç»„ç»‡çš„çº¿ä¸‹æ²™é¾™ï¼Œç»ä»°äº†å¾ˆå¤šå¤§ä½¬çš„è‹±å§¿ã€‚åœ¨ Geek é’å¹´è¯´çš„ç¯èŠ‚ï¼Œä¹Ÿå£®èµ·èƒ†é‡ä¸Šå°åˆ†äº«äº†è‡ªå·±çš„ä¸€äº›è§‚ç‚¹ã€‚ç¬¬ä¸€æ¬¡ä¸Šå°ï¼Œé¢å¯¹å°ä¸‹çš„å¤§ä½¬ä»¬ï¼Œéš¾å…æœ‰äº›ç´§å¼ ã€‚ä¸è¿‡æ€è€ƒä¸æ˜“ï¼Œæ•´ç†å‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°æœ‰ç›¸åŒå›°æƒ‘çš„åŒä»ä»¬ã€‚</p><a id="more"></a><p>@æ–‡å­—å› é˜¿èŒæå‰å‡†å¤‡äº†å‡ ä¸ªé—®é¢˜ï¼Œå…¶æœ¬æ„æ˜¯æä¾›ä¸€äº›åˆ†äº«çš„æ€è·¯ã€‚å¥ˆä½•ï¼Œäº¬åŸçš„ç¨‹åºçŒ¿ä»¬æ¯”è¾ƒä¿å®ˆï¼Œå°†è¿™äº›æ€è·¯å½“æˆäº†é¢˜ç›®ï¼Œå®Œå…¨æ‰“ä¹±äº†é˜¿èŒçš„è®¡åˆ’ã€‚ä¸‹é¢æ˜¯å‡ ä¸ªé—®é¢˜ï¼š</p><ol><li>æˆ‘æ˜¯å¦‚ä½•èµ°ä¸Šå†™ä½œä¹‹è·¯çš„ï¼Ÿ</li><li>åšæŒå†™ä½œç»™æˆ‘å¸¦æ¥äº†ä»€ä¹ˆï¼ˆé•¿æœŸæ”¶ç›Šã€éšå½¢æŠ•èµ„ã€çŸ­æœŸå›æŠ¥ï¼‰</li><li>æˆ‘çš„æŠ€æœ¯æˆé•¿ä¹‹è·¯ï¼ˆå­¦ä¹ ç­–ç•¥ã€å¯æ¨èå›¾ä¹¦ï¼‰</li><li>ä¸€ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜çš„å¿…å¤‡ç´ è´¨ï¼Ÿï¼ˆå¤§ä½¬ç‰¹è´¨æœ‰å“ªäº›ï¼‰ï¼Ÿ</li></ol><p>å‰ä¸¤ä¸ªé—®é¢˜è¿˜å¥½ï¼Œä¸è‡ªèº«ç›¸å…³ã€‚åä¸¤ä¸ªé—®é¢˜å…·æœ‰æ™®éæ„ä¹‰ï¼Œéœ€è¦å•ç‹¬å¼€æ–‡å›ç­”äº†ã€‚</p><h2 id="å†™ä½œå’Œæ”¶ç›Š"><a href="#å†™ä½œå’Œæ”¶ç›Š" class="headerlink" title="å†™ä½œå’Œæ”¶ç›Š"></a>å†™ä½œå’Œæ”¶ç›Š</h2><p>å¾ˆå¤šäº‹æƒ…çš„å‘ç”Ÿéƒ½éœ€è¦ä¸€ä¸ªå¥‘æœºï¼Œå°±åƒæ˜¯æ‰£åŠ¨æ‰³æœºä¸€æ ·ã€‚</p><p>æœ‹å‹åœ¨ç ”äºŒå®ä¹ æ—¶é¢è¯•çš„æ˜¯ç™¾åº¦ï¼Œé¢è¯•å®˜çœ‹è¿‡ä»–å†™çš„åšå®¢ï¼Œæ„Ÿè§‰å¾ˆå¥½ï¼ŒåŠ ä¸Šä»–è‡ªèº«å®åŠ›ä¸ä¿—ï¼Œé¡ºåˆ©æ‹¿åˆ°äº† offerã€‚</p><p>è¿™å¯¹æˆ‘æ¥è¯´ï¼Œæ˜¯ä¸€ç§è§¦åŠ¨ï¼Œæƒ³ç€è‡ªå·±ä¹Ÿå¼€é€šä¸€ä¸ªè´¦å·ï¼Œæ•´ç†è‡ªå·±çš„æ‰€å­¦æ‰€æ€æ‰€æ„Ÿï¼Œä¸‡ä¸€å“ªå¤©é¢è¯•ç”¨å¾—åˆ°å‘¢ã€‚äºæ˜¯ï¼Œç¬¬ä¸€ç¯‡æ–‡ç« å°±è¿™æ ·è¯ç”Ÿäº†ã€‚å½“æ—¶è™½æœ‰ç›®çš„ï¼Œå´åŠ¨åŠ›ä¸è¶³ï¼Œäº§å‡ºæ¯”è¾ƒä½ï¼Œä¸€å¹´æ‰ 20 å‡ ç¯‡ï¼Œç”šè‡³åœ¨ 2018 å¹´åœäº† 1 å¹´ã€‚</p><p>æ¯ä¸ªäººå†™ä½œçš„ç›®çš„ä¸ä¸€æ ·ï¼Œä½†æ˜¯å†™ä½œå¸¦æ¥çš„æ”¶ç›Šæœ‰ä¸€ä¸ªæ˜¯ç›¸ä¼¼çš„ï¼Œé‚£å°±æ˜¯ï¼šæ€è€ƒã€‚æ— è®ºæ˜¯è°ï¼Œä»€ä¹ˆæ®µä½ï¼Œæƒ³è¦å†™æˆä¸€ç¯‡æ–‡ç« ï¼Œå¿…ç„¶éœ€è¦æ€è€ƒï¼Œæ€è€ƒå‰å› åæœã€‚æœ‰æ—¶å€™å†™çš„ä¸é¡ºåˆ©ï¼Œå¯èƒ½è¿ç»­å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½ä¼šåå¤å’€åš¼ååˆã€‚è¿™å°±æ˜¯åå¤æ€è€ƒçš„è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯åå¤è‡ªçœçš„è¿‡ç¨‹ã€‚</p><p>æˆ‘ä»¬åšç¨‹åºçŒ¿æ˜¯æ¯”è¾ƒéš¾çš„ï¼Œå„ç§æ–°æŠ€æœ¯å±‚å‡ºä¸ç©·ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šæŠ±æ€¨å­¦ä¸åŠ¨äº†ã€‚ä½†æ˜¯æˆ‘ä»¬åšç¨‹åºçŒ¿åˆæ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œåªè¦æœ‰ä¸€é¡¹æŠ€æœ¯ç²¾é€šæ‘¸é€äº†ï¼Œè§¦ç±»æ—é€šï¼Œå…¶ä»–æŠ€æœ¯ä¹Ÿèƒ½å¤Ÿå¾ˆå¿«ä¸Šæ‰‹ã€‚å¦‚æœæ²¡æœ‰æ€è€ƒï¼Œå¾ˆéš¾åšåˆ°ç²¾é€šã€‚</p><p>æˆ‘ä»¬åœ¨å·¥ä½œä¸­æœ‰æ€è€ƒå’Œæ²¡æœ‰æ€è€ƒä¼šäº§ç”Ÿæˆªç„¶ç›¸åçš„ä¸¤ç§ç»“æœï¼Œå°±åƒæ˜¯é€ä¿¡çš„é©¬å„¿å’Œæ‹‰ç£¨çš„é©´å­ï¼Œå¯èƒ½å®ƒä¿©èµ°è·¯çš„é•¿åº¦ä¸€æ ·ï¼Œä½†æ˜¯ï¼Œé©¬å„¿çœ‹è¿‡äº†ä¸–ç•Œï¼Œé©´å­çœ‹åˆ°çš„åªæ˜¯ç£¨ç›˜ä¸‹çš„é‚£ä¸ªåœˆã€‚</p><h2 id="ä¸¤ä¸ªæ¨¡å‹"><a href="#ä¸¤ä¸ªæ¨¡å‹" class="headerlink" title="ä¸¤ä¸ªæ¨¡å‹"></a>ä¸¤ä¸ªæ¨¡å‹</h2><p>åˆ†äº«ä¸¤ä¸ªæ¨¡å‹ï¼š</p><ol><li>å¾·é›·ç¦æ–¯æ¨¡å‹<br><img src="http://static.howardliu.cn/raving/%E5%BE%B7%E9%9B%B7%E7%A6%8F%E6%96%AF%E6%A8%A1%E5%9E%8B.png" alt="å¾·é›·ç¦æ–¯æ¨¡å‹"></li><li>è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿<br><img src="http://static.howardliu.cn/raving/20200621182354129.png" alt="è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿"></li></ol><h3 id="å¾·é›·ç¦æ–¯æ¨¡å‹"><a href="#å¾·é›·ç¦æ–¯æ¨¡å‹" class="headerlink" title="å¾·é›·ç¦æ–¯æ¨¡å‹"></a>å¾·é›·ç¦æ–¯æ¨¡å‹</h3><p>å¾·é›·ç¦æ–¯æ¨¡å‹å®šä¹‰äº†æˆ‘ä»¬æˆé•¿çš„è·¯å¾„ï¼š</p><ol><li>æ–°æ‰‹ Novice<ol><li>ä¸¥æ ¼éµå®ˆè§„åˆ™æˆ–è®¡åˆ’</li><li>å‡ ä¹æ— æ³•æ„ŸçŸ¥æƒ…å¢ƒ</li><li>æ— æ³•é…Œæƒ…åˆ¤æ–­</li></ol></li><li>é«˜çº§æ–°æ‰‹ Advanced Beginner<ol><li>ä¾èµ–åŸºäºå±æ€§æˆ–ä¸åŒä¾§é¢çš„è¡ŒåŠ¨å‡†åˆ™</li><li>æƒ…å¢ƒæ„ŸçŸ¥ä¾ç„¶æœ‰é™</li><li>å¯¹å·¥ä½œçš„ä¸åŒæ–¹é¢ï¼Œåˆ†å¼€å¤„ç†å¹¶ä¸”ç»™äºˆåŒç­‰é‡è¦æ€§</li></ol></li><li>èƒœä»»è€… Competent<ol><li>èƒ½åº”å¯¹å¤šçº¿ç¨‹æ´»åŠ¨æˆ–ä¸°å¯Œçš„ä¿¡æ¯é‡</li><li>èƒ½ä»é•¿æœŸç›®æ ‡è§’åº¦ï¼ˆè‡³å°‘éƒ¨åˆ†ï¼‰å®¡è§†è¡ŒåŠ¨</li><li>æœ‰æ„è¯†ã€åˆ»æ„åœ°åˆ¶å®šè®¡åˆ’</li><li>å°†æµç¨‹æ ‡å‡†åŒ–å’Œå¸¸è§„åŒ–</li></ol></li><li>ç²¾é€šè€… Proficient<ol><li>ä»æ•´ä½“æŠŠæ¡å…¨å±€ï¼Œè€Œä¸æ˜¯è§‚å¯Ÿå„ä¸ªæ–¹é¢</li><li>äº†è§£æƒ…å¢ƒä¸­æœ€é‡è¦çš„äº‹</li><li>æ„ŸçŸ¥æƒ…å¢ƒä¸æ­£å¸¸æ¨¡å¼çš„åå·®</li><li>å†³ç­–è¶Šæ¥è¶Šè½»æ¾</li><li>ä½¿ç”¨åŸåˆ™ï¼ˆmaximsï¼‰æŒ‡å¯¼è¡ŒåŠ¨ï¼Œå…¶å«ä¹‰å› æƒ…å†µè€Œå¼‚</li></ol></li><li>ä¸“å®¶ Expert<ol><li>ä¸å†ä¾èµ–è§„åˆ™ã€è¡ŒåŠ¨å‡†åˆ™ã€åŸåˆ™</li><li>åŸºäºæ·±åˆ»ã€æ½œé»˜çš„ç›´è§‰æŠŠæ¡æƒ…å¢ƒ</li><li>å‡ºç°æ–°æƒ…å†µæˆ–å‘ç”Ÿé—®é¢˜æ‰ä½¿ç”¨åˆ†ææ³•</li><li>çœ‹åˆ°æœªæ¥å¯èƒ½çš„æ„¿æ™¯</li></ol></li></ol><p>ä»¥åšé¥­ä¸¾ä¾‹ï¼š</p><ul><li>æ–°æ‰‹å°±æ˜¯å¿…é¡»ç…§ç€èœè°±åšé¥­ï¼Œç”šè‡³ä¼šæ‹¿å‡ºå¨æˆ¿ç§¤ï¼Œä¸€ä¸ä¸€æ¯«ä¸èƒ½å·®ã€‚å¦‚æœç¢°åˆ°ç›å°‘é‡ã€é†‹å°‘é‡ä¹‹ç±»çš„æ¨¡ç³Šæè¿°ï¼Œå°±å®Œå…¨æ­‡èœã€‚</li><li>é«˜çº§æ–°æ‰‹ä¹Ÿéœ€è¦èœè°±ï¼Œä½†æ˜¯çŸ¥é“ç›å°‘é‡å°±æ˜¯å°‘åŠ ç‚¹æ˜¯å¤šå°‘äº†ã€‚</li><li>èƒœä»»è€…åŸºæœ¬ä¸Šä¸éœ€è¦èœè°±äº†ï¼Œèœè°±å°±åœ¨è„‘è¢‹ä¸­ã€‚ä½†ä¹Ÿæ˜¯ç…§æœ¬å®£ç§‘ï¼Œæ²¡æœ‰ä»€ä¹ˆåˆ›æ–°ã€‚</li><li>ç²¾é€šè€…åœ¨æŸç§èœå¼ä¸­æ¸¸åˆƒæœ‰ä½™ï¼Œä¸è¿‡ï¼Œè¿˜å±€é™åœ¨æŸç§èŒƒå¼ä¸­ã€‚æ¯”å¦‚ï¼šé²èœã€å·èœã€æ­å¸®èœç­‰ã€‚</li><li>ä¸“å®¶æ²¡æœ‰å›ºå®šå¥—è·¯ï¼Œä¸å±€é™äºæŸç§èœå¼ã€‚å¯ä»¥æ ¹æ®é£Ÿæå½“æ—¶çš„æƒ…å†µï¼Œå®Œå…¨å‘æŒ¥å…¶ç¾å‘³ï¼Œä¿¡æ‰‹æ‹ˆæ¥ã€‚</li></ul><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ—å‡ºè‡ªå·±çš„æŠ€æœ¯æ ˆå’ŒæŠ€èƒ½ï¼Œç„¶åæ¯ä¸€é¡¹åé¢ç»™è‡ªå·±ä¸‹ä¸€ä¸ªå®šä¹‰ï¼Œè¿™æ ·å°±èƒ½å¤ŸçŸ¥é“æˆ‘ä»¬çš„å·®è·åœ¨å“ªäº†ã€‚</p><h3 id="è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿"><a href="#è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿" class="headerlink" title="è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿"></a>è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿</h3><p>è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿æ˜¯å¯ä»¥æŒ‡å¯¼æˆ‘ä»¬å­¦ä¹ ã€‚</p><p>ç›¸ä¿¡å¤§å®¶éƒ½ä¼šæœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè€ƒè¯•ä¹‹åçš„çŸ¥è¯†éƒ½é—å¿˜äº†ï¼Ÿå°±æ˜¯å› ä¸ºè¿™ä¸ªé—å¿˜æ›²çº¿ï¼Œæˆ‘ä»¬çš„å¤§è„‘å’Œç”µè„‘ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬çš„å­˜å‚¨ä¼šè¢«æ¸…é™¤ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¯èƒ½ç•™ä¸‹çš„è®°å¿†å°‘äº†ã€‚</p><p>ä¹‹å‰åœ¨è¯»ä¹¦ç¬”è®° <a href="https://www.howardliu.cn/dont-let-irrational-thinking-ruin-your-lift/">åˆ«è®©éç†æ€§æ€ç»´æ¯äº†ä½ çš„äººç”Ÿ</a> ä¸­æè¿‡ï¼Œæˆ‘ä»¬çš„å¤§è„‘å°±æ˜¯ä¸€å°å…‹é²æœºï¼Œå¾ˆå¤šéƒ½æ˜¯æ‹¼å‡‘å‡ºæ¥äº†ï¼Œè€Œä¸”ï¼Œç”±äºæˆ‘ä»¬çš„å¤§è„‘è€—èƒ½ä¸¥é‡ï¼Œæ‰€ä»¥å¥”ç€èƒ½çœåˆ™çœçš„åŸåˆ™ï¼Œå‡¡æ˜¯ä¸å½±å“ç”Ÿæ­»çš„è®°å¿†è¡Œä¸ºï¼Œéƒ½è¢«æµ·é©¬ä½“æŒ¡åœ¨å¤–é¢äº†ã€‚</p><p>ä¸ºäº†éª—è¿‡æµ·é©¬ä½“è¿™ä¸ªçœ‹é—¨äººï¼Œæˆ‘ä»¬éœ€è¦åå¤å­¦ä¹ åŠ æ·±è®°å¿†ã€‚è¿™ä¹Ÿè§£é‡Šäº†å¾ˆå¤šåŒå­¦çš„ä¸€ä¸ªç–‘æƒ‘ï¼Œæ˜æ˜å¾ˆç”¨åŠŸçš„åœ¨çœ‹ä¹¦å­¦ä¹ ï¼Œä½†æ˜¯ååçœ‹è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œå°±å¿˜è®°äº†ã€‚å¯¹å­¦ä¹ åŠ¨åŠ›é€ æˆå¾ˆå¤§çš„æ‰“å‡»ã€‚å…¶å®ï¼Œåªæ˜¯éœ€è¦éš”ä¸€æ®µæ—¶é—´åœ¨å¤ä¹ ä¸€ä¸‹ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬çš„å¤ä¹ èŠ‚å¥æ˜¯è¿™æ ·ï¼Œéš” 1 å¤©åã€å†éš” 7 å¤©åã€å†éš” 14 å¤©åã€å†éš” 30 å¤©åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ 1 å·å­¦ä¹ çš„çŸ¥è¯†ï¼Œéœ€è¦åœ¨ 2 å·ã€9 å·ã€23 å·ã€æ¬¡æœˆ 20 å·è¿™ 4 å¤©å¤ä¹ ã€‚è¿™æ ·æˆ‘ä»¬çš„è®°å¿†ä¼šä¿æŒå¾ˆä¹…ã€‚</p><p>è€Œä¸”ï¼Œå…´è¶£æ˜¯æœ€å¥½çš„è®°å¿†å‚¬åŒ–å‰‚ï¼Œæˆ‘ä»¬è¦ä¿æŒå­¦ä¹ çš„å…´è¶£ã€‚å¾ˆå¤šåŒå­¦åº”è¯¥æœ‰æ„Ÿè§¦ï¼Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„ä¸œè¥¿ï¼Œå“ªæ€•ä¸é‡å¤è®°å¿†ï¼Œä¹Ÿå¯èƒ½è¿‡ç›®ä¸å¿˜ã€‚ä½†æ˜¯æˆ‘ä»¬æ„Ÿè§‰æ— èŠçš„ä¿¡æ¯ï¼Œå¾ˆå¯èƒ½è½¬å¤´å°±å¿˜ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å¯¹è¿™ä¸ªä¸–ç•Œä¿æŒå…´è¶£ï¼Œè‡³å°‘å¯¹æˆ‘ä»¬è¦å­¦ä¹ çš„é‚£äº›ä¸œè¥¿ä¿æŒå…´è¶£ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><ul><li><a href="https://www.howardliu.cn/dont-let-irrational-thinking-ruin-your-lift/">åˆ«è®©éç†æ€§æ€ç»´æ¯äº†ä½ çš„äººç”Ÿ</a></li><li><a href="https://www.howardliu.cn/geek-talk-20210523/">Geek é’å¹´è¯´åŒ—äº¬æ²™é¾™åˆ†äº«</a></li><li><a href="https://www.howardliu.cn/lists-book-recommendations-2021/">ç¨‹åºå‘˜è¿›é˜¶ä¹¦å•2021ç‰ˆ</a></li></ul><hr><p>ä½ å¥½ï¼Œæˆ‘æ˜¯çœ‹å±±ï¼Œå…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹ï¼Œ10 å¹´è€çŒ¿ï¼Œå¼€æºè´¡çŒ®è€…ã€‚æ¸¸äºç ç•Œï¼Œæˆäº«äººç”Ÿã€‚</p><p>ä¸ªäººä¸»é¡µï¼š<a href="https://www.howardliu.cn">https://www.howardliu.cn</a><br>ä¸ªäººåšæ–‡ï¼š<a href="https://www.howardliu.cn/geek-talk-20210523/">Geek é’å¹´è¯´åŒ—äº¬æ²™é¾™åˆ†äº«</a><br>CSDN ä¸»é¡µï¼š<a href="http://blog.csdn.net/liuxinghao" target="_blank" rel="noopener">http://blog.csdn.net/liuxinghao</a><br>CSDN åšæ–‡ï¼š<a href="https://blog.csdn.net/liuxinghao/article/details/117415953" target="_blank" rel="noopener">Geek é’å¹´è¯´åŒ—äº¬æ²™é¾™åˆ†äº«</a></p><p><img src="http://static.howardliu.cn/about/kanshanshuo.png" alt="å…¬ä¼—å·ï¼šçœ‹å±±çš„å°å±‹"></p>]]></content>
    
    <summary type="html">
    
      5 æœˆ 23 å·å‚åŠ äº† infoQ å†™ä½œå¹³å°ç»„ç»‡çš„çº¿ä¸‹æ²™é¾™ï¼Œç»ä»°äº†å¾ˆå¤šå¤§ä½¬çš„è‹±å§¿ã€‚åœ¨ Geek é’å¹´è¯´çš„ç¯èŠ‚ï¼Œä¹Ÿå£®èµ·èƒ†é‡ä¸Šå°åˆ†äº«äº†è‡ªå·±çš„ä¸€äº›è§‚ç‚¹ã€‚ç¬¬ä¸€æ¬¡ä¸Šå°ï¼Œé¢å¯¹å°ä¸‹çš„å¤§ä½¬ä»¬ï¼Œéš¾å…æœ‰äº›ç´§å¼ ã€‚ä¸è¿‡æ€è€ƒä¸æ˜“ï¼Œæ•´ç†å‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°æœ‰ç›¸åŒå›°æƒ‘çš„åŒä»ä»¬ã€‚
    
    </summary>
    
    
      <category term="é—²èŠ" scheme="https://www.howardliu.cn/categories/%E9%97%B2%E8%81%8A/"/>
    
    
      <category term="é—²èŠï¼Œå†™ä½œï¼ŒæŠ€æœ¯æˆé•¿" scheme="https://www.howardliu.cn/tags/%E9%97%B2%E8%81%8A%EF%BC%8C%E5%86%99%E4%BD%9C%EF%BC%8C%E6%8A%80%E6%9C%AF%E6%88%90%E9%95%BF/"/>
    
  </entry>
  
</feed>
